function s0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function K_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vd={exports:{}},Ka={},Ld={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function o0(){if($g)return Oe;$g=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function N(M,G,Re){this.props=M,this.context=G,this.refs=F,this.updater=Re||U}N.prototype.isReactComponent={},N.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function re(){}re.prototype=N.prototype;function J(M,G,Re){this.props=M,this.context=G,this.refs=F,this.updater=Re||U}var Y=J.prototype=new re;Y.constructor=J,O(Y,N.prototype),Y.isPureReactComponent=!0;var W=Array.isArray,se=Object.prototype.hasOwnProperty,de={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(M,G,Re){var Se,xe={},Ve=null,qe=null;if(G!=null)for(Se in G.ref!==void 0&&(qe=G.ref),G.key!==void 0&&(Ve=""+G.key),G)se.call(G,Se)&&!k.hasOwnProperty(Se)&&(xe[Se]=G[Se]);var je=arguments.length-2;if(je===1)xe.children=Re;else if(1<je){for(var Ge=Array(je),qt=0;qt<je;qt++)Ge[qt]=arguments[qt+2];xe.children=Ge}if(M&&M.defaultProps)for(Se in je=M.defaultProps,je)xe[Se]===void 0&&(xe[Se]=je[Se]);return{$$typeof:n,type:M,key:Ve,ref:qe,props:xe,_owner:de.current}}function P(M,G){return{$$typeof:n,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function x(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Re){return G[Re]})}var b=/\/+/g;function R(M,G){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):G.toString(36)}function Te(M,G,Re,Se,xe){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var qe=!1;if(M===null)qe=!0;else switch(Ve){case"string":case"number":qe=!0;break;case"object":switch(M.$$typeof){case n:case e:qe=!0}}if(qe)return qe=M,xe=xe(qe),M=Se===""?"."+R(qe,0):Se,W(xe)?(Re="",M!=null&&(Re=M.replace(b,"$&/")+"/"),Te(xe,G,Re,"",function(qt){return qt})):xe!=null&&(V(xe)&&(xe=P(xe,Re+(!xe.key||qe&&qe.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+M)),G.push(xe)),1;if(qe=0,Se=Se===""?".":Se+":",W(M))for(var je=0;je<M.length;je++){Ve=M[je];var Ge=Se+R(Ve,je);qe+=Te(Ve,G,Re,Ge,xe)}else if(Ge=A(M),typeof Ge=="function")for(M=Ge.call(M),je=0;!(Ve=M.next()).done;)Ve=Ve.value,Ge=Se+R(Ve,je++),qe+=Te(Ve,G,Re,Ge,xe);else if(Ve==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return qe}function ze(M,G,Re){if(M==null)return M;var Se=[],xe=0;return Te(M,Se,"","",function(Ve){return G.call(Re,Ve,xe++)}),Se}function Ne(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(Re){(M._status===0||M._status===-1)&&(M._status=1,M._result=Re)},function(Re){(M._status===0||M._status===-1)&&(M._status=2,M._result=Re)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var De={current:null},ne={transition:null},fe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ne,ReactCurrentOwner:de};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ze,forEach:function(M,G,Re){ze(M,function(){G.apply(this,arguments)},Re)},count:function(M){var G=0;return ze(M,function(){G++}),G},toArray:function(M){return ze(M,function(G){return G})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Oe.Component=N,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=J,Oe.StrictMode=i,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Oe.act=ae,Oe.cloneElement=function(M,G,Re){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Se=O({},M.props),xe=M.key,Ve=M.ref,qe=M._owner;if(G!=null){if(G.ref!==void 0&&(Ve=G.ref,qe=de.current),G.key!==void 0&&(xe=""+G.key),M.type&&M.type.defaultProps)var je=M.type.defaultProps;for(Ge in G)se.call(G,Ge)&&!k.hasOwnProperty(Ge)&&(Se[Ge]=G[Ge]===void 0&&je!==void 0?je[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)Se.children=Re;else if(1<Ge){je=Array(Ge);for(var qt=0;qt<Ge;qt++)je[qt]=arguments[qt+2];Se.children=je}return{$$typeof:n,type:M.type,key:xe,ref:Ve,props:Se,_owner:qe}},Oe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Oe.createElement=S,Oe.createFactory=function(M){var G=S.bind(null,M);return G.type=M,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(M){return{$$typeof:f,render:M}},Oe.isValidElement=V,Oe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Ne}},Oe.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Oe.startTransition=function(M){var G=ne.transition;ne.transition={};try{M()}finally{ne.transition=G}},Oe.unstable_act=ae,Oe.useCallback=function(M,G){return De.current.useCallback(M,G)},Oe.useContext=function(M){return De.current.useContext(M)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(M){return De.current.useDeferredValue(M)},Oe.useEffect=function(M,G){return De.current.useEffect(M,G)},Oe.useId=function(){return De.current.useId()},Oe.useImperativeHandle=function(M,G,Re){return De.current.useImperativeHandle(M,G,Re)},Oe.useInsertionEffect=function(M,G){return De.current.useInsertionEffect(M,G)},Oe.useLayoutEffect=function(M,G){return De.current.useLayoutEffect(M,G)},Oe.useMemo=function(M,G){return De.current.useMemo(M,G)},Oe.useReducer=function(M,G,Re){return De.current.useReducer(M,G,Re)},Oe.useRef=function(M){return De.current.useRef(M)},Oe.useState=function(M){return De.current.useState(M)},Oe.useSyncExternalStore=function(M,G,Re){return De.current.useSyncExternalStore(M,G,Re)},Oe.useTransition=function(){return De.current.useTransition()},Oe.version="18.3.1",Oe}var Hg;function Vf(){return Hg||(Hg=1,Ld.exports=o0()),Ld.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function a0(){if(qg)return Ka;qg=1;var n=Vf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var v,w={},A=null,U=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(U=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:A,ref:U,props:w,_owner:o.current}}return Ka.Fragment=t,Ka.jsx=c,Ka.jsxs=c,Ka}var Wg;function l0(){return Wg||(Wg=1,Vd.exports=a0()),Vd.exports}var I=l0(),K=Vf();const G_=K_(K),u0=s0({__proto__:null,default:G_},[K]);var Xu={},bd={exports:{}},en={},Md={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function c0(){return Kg||(Kg=1,(function(n){function e(ne,fe){var ae=ne.length;ne.push(fe);e:for(;0<ae;){var M=ae-1>>>1,G=ne[M];if(0<o(G,fe))ne[M]=fe,ne[ae]=G,ae=M;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var fe=ne[0],ae=ne.pop();if(ae!==fe){ne[0]=ae;e:for(var M=0,G=ne.length,Re=G>>>1;M<Re;){var Se=2*(M+1)-1,xe=ne[Se],Ve=Se+1,qe=ne[Ve];if(0>o(xe,ae))Ve<G&&0>o(qe,xe)?(ne[M]=qe,ne[Ve]=ae,M=Ve):(ne[M]=xe,ne[Se]=ae,M=Se);else if(Ve<G&&0>o(qe,ae))ne[M]=qe,ne[Ve]=ae,M=Ve;else break e}}return fe}function o(ne,fe){var ae=ne.sortIndex-fe.sortIndex;return ae!==0?ae:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],v=1,w=null,A=3,U=!1,O=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ne){for(var fe=t(y);fe!==null;){if(fe.callback===null)i(y);else if(fe.startTime<=ne)i(y),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(y)}}function W(ne){if(F=!1,Y(ne),!O)if(t(p)!==null)O=!0,Ne(se);else{var fe=t(y);fe!==null&&De(W,fe.startTime-ne)}}function se(ne,fe){O=!1,F&&(F=!1,re(S),S=-1),U=!0;var ae=A;try{for(Y(fe),w=t(p);w!==null&&(!(w.expirationTime>fe)||ne&&!x());){var M=w.callback;if(typeof M=="function"){w.callback=null,A=w.priorityLevel;var G=M(w.expirationTime<=fe);fe=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&i(p),Y(fe)}else i(p);w=t(p)}if(w!==null)var Re=!0;else{var Se=t(y);Se!==null&&De(W,Se.startTime-fe),Re=!1}return Re}finally{w=null,A=ae,U=!1}}var de=!1,k=null,S=-1,P=5,V=-1;function x(){return!(n.unstable_now()-V<P)}function b(){if(k!==null){var ne=n.unstable_now();V=ne;var fe=!0;try{fe=k(!0,ne)}finally{fe?R():(de=!1,k=null)}}else de=!1}var R;if(typeof J=="function")R=function(){J(b)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ze=Te.port2;Te.port1.onmessage=b,R=function(){ze.postMessage(null)}}else R=function(){N(b,0)};function Ne(ne){k=ne,de||(de=!0,R())}function De(ne,fe){S=N(function(){ne(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){O||U||(O=!0,Ne(se))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var fe=3;break;default:fe=A}var ae=A;A=fe;try{return ne()}finally{A=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=A;A=ne;try{return fe()}finally{A=ae}},n.unstable_scheduleCallback=function(ne,fe,ae){var M=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,ne={id:v++,callback:fe,priorityLevel:ne,startTime:ae,expirationTime:G,sortIndex:-1},ae>M?(ne.sortIndex=ae,e(y,ne),t(p)===null&&ne===t(y)&&(F?(re(S),S=-1):F=!0,De(W,ae-M))):(ne.sortIndex=G,e(p,ne),O||U||(O=!0,Ne(se))),ne},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(ne){var fe=A;return function(){var ae=A;A=fe;try{return ne.apply(this,arguments)}finally{A=ae}}}})(Fd)),Fd}var Gg;function h0(){return Gg||(Gg=1,Md.exports=c0()),Md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function d0(){if(Qg)return en;Qg=1;var n=Vf(),e=h0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function A(r){return p.call(w,r)?!0:p.call(v,r)?!1:y.test(r)?w[r]=!0:(v[r]=!0,!1)}function U(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||U(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,a,h,d,m,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=E}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var re=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(re,J);N[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(re,J);N[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(re,J);N[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,a,h){var d=N.hasOwnProperty(s)?N[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,h)&&(a=null),h||d===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),de=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,M;function G(r){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var Re=!1;function Se(r,s){if(!r||Re)return"";Re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),m=h.stack.split(`
`),E=d.length-1,C=m.length-1;1<=E&&0<=C&&d[E]!==m[C];)C--;for(;1<=E&&0<=C;E--,C--)if(d[E]!==m[C]){if(E!==1||C!==1)do if(E--,C--,0>C||d[E]!==m[C]){var D=`
`+d[E].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=E&&0<=C);break}}}finally{Re=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function xe(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case de:return"Portal";case P:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case Ne:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function qe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qt(r){var s=Ge(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Vs(r){r._valueTracker||(r._valueTracker=qt(r))}function Zo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Ge(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ls(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function bl(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function bs(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function Hi(r,s){bs(r,s);var a=je(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?pt(r,s.type,a):s.hasOwnProperty("defaultValue")&&pt(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ea(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function pt(r,s,a){(s!=="number"||Qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ut=Array.isArray;function Pn(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ta(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function na(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ut(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Ml(r,s){var a=je(s.value),h=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Jr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ra(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ra(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xr,Fl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ul=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(r){Ul.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Yr[s]=Yr[r]})});function Zr(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Yr.hasOwnProperty(r)&&Yr[r]?(""+s).trim():s+"px"}function Fs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Zr(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var ia=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kn(r,s){if(s){if(ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Us(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yr=null,_r=null,ot=null;function sa(r){if(r=Oa(r)){if(typeof yr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),yr(r.stateNode,r.type,s))}}function ti(r){_r?ot?ot.push(r):ot=[r]:_r=r}function ni(){if(_r){var r=_r,s=ot;if(ot=_r=null,sa(r),s)for(r=0;r<s.length;r++)sa(s[r])}}function jl(r,s){return r(s)}function Bl(){}var $n=!1;function zl(r,s,a){if($n)return r(s,a);$n=!0;try{return jl(r,s,a)}finally{$n=!1,(_r!==null||ot!==null)&&(Bl(),ni())}}function Wi(r,s){var a=r.stateNode;if(a===null)return null;var h=du(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var ri=!1;if(f)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ri=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ri=!1}function $l(r,s,a,h,d,m,E,C,D){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Z){this.onError(Z)}}var vr=!1,Hn=null,Bs=!1,gn=null,Hl={onError:function(r){vr=!0,Hn=r}};function ql(r,s,a,h,d,m,E,C,D){vr=!1,Hn=null,$l.apply(Hl,arguments)}function oa(r,s,a,h,d,m,E,C,D){if(ql.apply(this,arguments),vr){if(vr){var $=Hn;vr=!1,Hn=null}else throw Error(t(198));Bs||(Bs=!0,gn=$)}}function Nn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function aa(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Wl(r){if(Nn(r)!==r)throw Error(t(188))}function Kl(r){var s=r.alternate;if(!s){if(s=Nn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Wl(d),r;if(m===h)return Wl(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=m;else{for(var E=!1,C=d.child;C;){if(C===a){E=!0,a=d,h=m;break}if(C===h){E=!0,h=d,a=m;break}C=C.sibling}if(!E){for(C=m.child;C;){if(C===a){E=!0,a=m,h=d;break}if(C===h){E=!0,h=m,a=d;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Gl(r){return r=Kl(r),r!==null?Ki(r):null}function Ki(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ki(r);if(s!==null)return s;r=r.sibling}return null}var la=e.unstable_scheduleCallback,zs=e.unstable_cancelCallback,Gi=e.unstable_shouldYield,Er=e.unstable_requestPaint,Xe=e.unstable_now,hh=e.unstable_getCurrentPriorityLevel,$s=e.unstable_ImmediatePriority,ua=e.unstable_UserBlockingPriority,Qi=e.unstable_NormalPriority,ca=e.unstable_LowPriority,Hs=e.unstable_IdlePriority,Ji=null,on=null;function Ql(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Xi,qn=Math.log,yn=Math.LN2;function Xi(r){return r>>>=0,r===0?32:31-(qn(r)/yn|0)|0}var Wn=64,si=4194304;function He(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function wr(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,m=r.pingedLanes,E=a&268435455;if(E!==0){var C=E&~d;C!==0?h=He(C):(m&=E,m!==0&&(h=He(m)))}else E=a&~d,E!==0?h=He(E):m!==0&&(h=He(m));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-an(s),d=1<<a,h|=r[a],s&=~d;return h}function Yi(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes;0<m;){var E=31-an(m),C=1<<E,D=d[E];D===-1?((C&a)===0||(C&h)!==0)&&(d[E]=Yi(C,s)):D<=s&&(r.expiredLanes|=C),m&=~C}}function ha(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function da(){var r=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),r}function fa(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function es(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-an(s),r[s]=a}function dh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-an(a),m=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~m}}function pa(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-an(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var Fe=0;function Kn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ma,qs,ga,ya,_a,Gn=!1,Ws=[],Qn=null,Jn=null,Pt=null,ts=new Map,Tr=new Map,ln=[],Jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oi(r,s){switch(r){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(s.pointerId)}}function xn(r,s,a,h,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Oa(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Xl(r,s,a,h,d){switch(s){case"focusin":return Qn=xn(Qn,r,s,a,h,d),!0;case"dragenter":return Jn=xn(Jn,r,s,a,h,d),!0;case"mouseover":return Pt=xn(Pt,r,s,a,h,d),!0;case"pointerover":var m=d.pointerId;return ts.set(m,xn(ts.get(m)||null,r,s,a,h,d)),!0;case"gotpointercapture":return m=d.pointerId,Tr.set(m,xn(Tr.get(m)||null,r,s,a,h,d)),!0}return!1}function Ks(r){var s=ss(r.target);if(s!==null){var a=Nn(s);if(a!==null){if(s=a.tag,s===13){if(s=aa(a),s!==null){r.blockedOn=s,_a(r.priority,function(){ga(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Gs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ei=h,a.target.dispatchEvent(h),ei=null}else return s=Oa(a),s!==null&&qs(s),r.blockedOn=a,!1;s.shift()}return!0}function Yl(r,s,a){Qe(r)&&a.delete(s)}function fh(){Gn=!1,Qn!==null&&Qe(Qn)&&(Qn=null),Jn!==null&&Qe(Jn)&&(Jn=null),Pt!==null&&Qe(Pt)&&(Pt=null),ts.forEach(Yl),Tr.forEach(Yl)}function ai(r,s){r.blockedOn===s&&(r.blockedOn=null,Gn||(Gn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fh)))}function li(r){function s(d){return ai(d,r)}if(0<Ws.length){ai(Ws[0],r);for(var a=1;a<Ws.length;a++){var h=Ws[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Qn!==null&&ai(Qn,r),Jn!==null&&ai(Jn,r),Pt!==null&&ai(Pt,r),ts.forEach(s),Tr.forEach(s),a=0;a<ln.length;a++)h=ln[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)Ks(a),a.blockedOn===null&&ln.shift()}var Sr=W.ReactCurrentBatchConfig,Ir=!0;function Xn(r,s,a,h){var d=Fe,m=Sr.transition;Sr.transition=null;try{Fe=1,va(r,s,a,h)}finally{Fe=d,Sr.transition=m}}function Zl(r,s,a,h){var d=Fe,m=Sr.transition;Sr.transition=null;try{Fe=4,va(r,s,a,h)}finally{Fe=d,Sr.transition=m}}function va(r,s,a,h){if(Ir){var d=Gs(r,s,a,h);if(d===null)Ih(r,s,h,Yn,a),oi(r,h);else if(Xl(d,r,s,a,h))h.stopPropagation();else if(oi(r,h),s&4&&-1<Jl.indexOf(r)){for(;d!==null;){var m=Oa(d);if(m!==null&&ma(m),m=Gs(r,s,a,h),m===null&&Ih(r,s,h,Yn,a),m===d)break;d=m}d!==null&&h.stopPropagation()}else Ih(r,s,h,null,a)}}var Yn=null;function Gs(r,s,a,h){if(Yn=null,r=js(h),r=ss(r),r!==null)if(s=Nn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=aa(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yn=r,null}function Qs(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hh()){case $s:return 1;case ua:return 4;case Qi:case ca:return 16;case Hs:return 536870912;default:return 16}default:return 16}}var un=null,Js=null,Rr=null;function eu(){if(Rr)return Rr;var r,s=Js,a=s.length,h,d="value"in un?un.value:un.textContent,m=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[m-h];h++);return Rr=d.slice(r,1<h?1-h:void 0)}function ns(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zn(){return!0}function Ea(){return!1}function Lt(r){function s(a,h,d,m,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zn:Ea,this.isPropagationStopped=Ea,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Lt(er),ui=ae({},er,{view:0,detail:0}),Xs=Lt(ui),Ys,Zs,cn,is=ae({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cn&&(cn&&r.type==="mousemove"?(Ys=r.screenX-cn.screenX,Zs=r.screenY-cn.screenY):Zs=Ys=0,cn=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:Zs}}),wa=Lt(is),tu=ae({},is,{dataTransfer:0}),nu=Lt(tu),eo=ae({},ui,{relatedTarget:0}),kt=Lt(eo),ru=ae({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),iu=Lt(ru),ci=ae({},er,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Lt(ci),g=ae({},er,{data:0}),_=Lt(g),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=H[r])?!!s[r]:!1}function Ce(){return oe}var ct=ae({},ui,{key:function(r){if(r.key){var s=T[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ke=Lt(ct),mt=ae({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=Lt(mt),Ar=ae({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),tr=Lt(Ar),nr=ae({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),to=Lt(nr),Ta=ae({},is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zw=Lt(Ta),eT=[9,13,27,32],ph=f&&"CompositionEvent"in window,Sa=null;f&&"documentMode"in document&&(Sa=document.documentMode);var tT=f&&"TextEvent"in window&&!Sa,Lp=f&&(!ph||Sa&&8<Sa&&11>=Sa),bp=" ",Mp=!1;function Fp(r,s){switch(r){case"keyup":return eT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function nT(r,s){switch(r){case"compositionend":return Up(s);case"keypress":return s.which!==32?null:(Mp=!0,bp);case"textInput":return r=s.data,r===bp&&Mp?null:r;default:return null}}function rT(r,s){if(no)return r==="compositionend"||!ph&&Fp(r,s)?(r=eu(),Rr=Js=un=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lp&&s.locale!=="ko"?null:s.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!iT[r.type]:s==="textarea"}function Bp(r,s,a,h){ti(h),s=uu(s,"onChange"),0<s.length&&(a=new rs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ia=null,Ra=null;function sT(r){sm(r,0)}function su(r){var s=ao(r);if(Zo(s))return r}function oT(r,s){if(r==="change")return s}var zp=!1;if(f){var mh;if(f){var gh="oninput"in document;if(!gh){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),gh=typeof $p.oninput=="function"}mh=gh}else mh=!1;zp=mh&&(!document.documentMode||9<document.documentMode)}function Hp(){Ia&&(Ia.detachEvent("onpropertychange",qp),Ra=Ia=null)}function qp(r){if(r.propertyName==="value"&&su(Ra)){var s=[];Bp(s,Ra,r,js(r)),zl(sT,s)}}function aT(r,s,a){r==="focusin"?(Hp(),Ia=s,Ra=a,Ia.attachEvent("onpropertychange",qp)):r==="focusout"&&Hp()}function lT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Ra)}function uT(r,s){if(r==="click")return su(s)}function cT(r,s){if(r==="input"||r==="change")return su(s)}function hT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var On=typeof Object.is=="function"?Object.is:hT;function Aa(r,s){if(On(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!On(r[d],s[d]))return!1}return!0}function Wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,s){var a=Wp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wp(a)}}function Gp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Qp(){for(var r=window,s=Qr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Qr(r.document)}return s}function yh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function dT(r){var s=Qp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Gp(a.ownerDocument.documentElement,a)){if(h!==null&&yh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,m=Math.min(h.start,d);h=h.end===void 0?m:Math.min(h.end,d),!r.extend&&m>h&&(d=h,h=m,m=d),d=Kp(a,m);var E=Kp(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),m>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fT=f&&"documentMode"in document&&11>=document.documentMode,ro=null,_h=null,Ca=null,vh=!1;function Jp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||ro==null||ro!==Qr(h)||(h=ro,"selectionStart"in h&&yh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ca&&Aa(Ca,h)||(Ca=h,h=uu(_h,"onSelect"),0<h.length&&(s=new rs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=ro)))}function ou(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var io={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Eh={},Xp={};f&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function au(r){if(Eh[r])return Eh[r];if(!io[r])return r;var s=io[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Xp)return Eh[r]=s[a];return r}var Yp=au("animationend"),Zp=au("animationiteration"),em=au("animationstart"),tm=au("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){nm.set(r,s),l(s,[r])}for(var wh=0;wh<rm.length;wh++){var Th=rm[wh],pT=Th.toLowerCase(),mT=Th[0].toUpperCase()+Th.slice(1);hi(pT,"on"+mT)}hi(Yp,"onAnimationEnd"),hi(Zp,"onAnimationIteration"),hi(em,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(tm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function im(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,oa(h,s,void 0,r),r.currentTarget=null}function sm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var m=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],D=C.instance,$=C.currentTarget;if(C=C.listener,D!==m&&d.isPropagationStopped())break e;im(d,C,$),m=D}else for(E=0;E<h.length;E++){if(C=h[E],D=C.instance,$=C.currentTarget,C=C.listener,D!==m&&d.isPropagationStopped())break e;im(d,C,$),m=D}}}if(Bs)throw r=gn,Bs=!1,gn=null,r}function Ye(r,s){var a=s[Nh];a===void 0&&(a=s[Nh]=new Set);var h=r+"__bubble";a.has(h)||(om(s,r,2,!1),a.add(h))}function Sh(r,s,a){var h=0;s&&(h|=4),om(a,r,h,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[lu]){r[lu]=!0,i.forEach(function(a){a!=="selectionchange"&&(gT.has(a)||Sh(a,!1,r),Sh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Sh("selectionchange",!1,s))}}function om(r,s,a,h){switch(Qs(s)){case 1:var d=Xn;break;case 4:d=Zl;break;default:d=va}a=d.bind(null,s,a,r),d=void 0,!ri||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Ih(r,s,a,h,d){var m=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;E=E.return}for(;C!==null;){if(E=ss(C),E===null)return;if(D=E.tag,D===5||D===6){h=m=E;continue e}C=C.parentNode}}h=h.return}zl(function(){var $=m,Z=js(a),te=[];e:{var X=nm.get(r);if(X!==void 0){var le=rs,he=r;switch(r){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":le=Ke;break;case"focusin":he="focus",le=kt;break;case"focusout":he="blur",le=kt;break;case"beforeblur":case"afterblur":le=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=tr;break;case Yp:case Zp:case em:le=iu;break;case tm:le=to;break;case"scroll":le=Xs;break;case"wheel":le=Zw;break;case"copy":case"cut":case"paste":le=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=hn}var pe=(s&4)!==0,ht=!pe&&r==="scroll",j=pe?X!==null?X+"Capture":null:X;pe=[];for(var L=$,z;L!==null;){z=L;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,j!==null&&(ie=Wi(L,j),ie!=null&&pe.push(Na(L,ie,z)))),ht)break;L=L.return}0<pe.length&&(X=new le(X,he,null,a,Z),te.push({event:X,listeners:pe}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",X&&a!==ei&&(he=a.relatedTarget||a.fromElement)&&(ss(he)||he[Cr]))break e;if((le||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,le?(he=a.relatedTarget||a.toElement,le=$,he=he?ss(he):null,he!==null&&(ht=Nn(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=$),le!==he)){if(pe=wa,ie="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(pe=hn,ie="onPointerLeave",j="onPointerEnter",L="pointer"),ht=le==null?X:ao(le),z=he==null?X:ao(he),X=new pe(ie,L+"leave",le,a,Z),X.target=ht,X.relatedTarget=z,ie=null,ss(Z)===$&&(pe=new pe(j,L+"enter",he,a,Z),pe.target=z,pe.relatedTarget=ht,ie=pe),ht=ie,le&&he)t:{for(pe=le,j=he,L=0,z=pe;z;z=so(z))L++;for(z=0,ie=j;ie;ie=so(ie))z++;for(;0<L-z;)pe=so(pe),L--;for(;0<z-L;)j=so(j),z--;for(;L--;){if(pe===j||j!==null&&pe===j.alternate)break t;pe=so(pe),j=so(j)}pe=null}else pe=null;le!==null&&am(te,X,le,pe,!1),he!==null&&ht!==null&&am(te,ht,he,pe,!0)}}e:{if(X=$?ao($):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var me=oT;else if(jp(X))if(zp)me=cT;else{me=lT;var ye=aT}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=uT);if(me&&(me=me(r,$))){Bp(te,me,a,Z);break e}ye&&ye(r,X,$),r==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&pt(X,"number",X.value)}switch(ye=$?ao($):window,r){case"focusin":(jp(ye)||ye.contentEditable==="true")&&(ro=ye,_h=$,Ca=null);break;case"focusout":Ca=_h=ro=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Jp(te,a,Z);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Jp(te,a,Z)}var _e;if(ph)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else no?Fp(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Lp&&a.locale!=="ko"&&(no||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&no&&(_e=eu()):(un=Z,Js="value"in un?un.value:un.textContent,no=!0)),ye=uu($,Ie),0<ye.length&&(Ie=new _(Ie,r,null,a,Z),te.push({event:Ie,listeners:ye}),_e?Ie.data=_e:(_e=Up(a),_e!==null&&(Ie.data=_e)))),(_e=tT?nT(r,a):rT(r,a))&&($=uu($,"onBeforeInput"),0<$.length&&(Z=new _("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:$}),Z.data=_e))}sm(te,s)})}function Na(r,s,a){return{instance:r,listener:s,currentTarget:a}}function uu(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Wi(r,a),m!=null&&h.unshift(Na(r,m,d)),m=Wi(r,s),m!=null&&h.push(Na(r,m,d))),r=r.return}return h}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function am(r,s,a,h,d){for(var m=s._reactName,E=[];a!==null&&a!==h;){var C=a,D=C.alternate,$=C.stateNode;if(D!==null&&D===h)break;C.tag===5&&$!==null&&(C=$,d?(D=Wi(a,m),D!=null&&E.unshift(Na(a,D,C))):d||(D=Wi(a,m),D!=null&&E.push(Na(a,D,C)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(yT,`
`).replace(_T,"")}function cu(r,s,a){if(s=lm(s),lm(r)!==s&&a)throw Error(t(425))}function hu(){}var Rh=null,Ah=null;function Ch(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(r){return um.resolve(null).then(r).catch(wT)}:Ph;function wT(r){setTimeout(function(){throw r})}function kh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),li(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);li(s)}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),rr="__reactFiber$"+oo,xa="__reactProps$"+oo,Cr="__reactContainer$"+oo,Nh="__reactEvents$"+oo,TT="__reactListeners$"+oo,ST="__reactHandles$"+oo;function ss(r){var s=r[rr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Cr]||a[rr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=cm(r);r!==null;){if(a=r[rr])return a;r=cm(r)}return s}r=a,a=r.parentNode}return null}function Oa(r){return r=r[rr]||r[Cr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[xa]||null}var xh=[],lo=-1;function fi(r){return{current:r}}function Ze(r){0>lo||(r.current=xh[lo],xh[lo]=null,lo--)}function Je(r,s){lo++,xh[lo]=r.current,r.current=s}var pi={},bt=fi(pi),Qt=fi(!1),os=pi;function uo(r,s){var a=r.type.contextTypes;if(!a)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(r){return r=r.childContextTypes,r!=null}function fu(){Ze(Qt),Ze(bt)}function hm(r,s,a){if(bt.current!==pi)throw Error(t(168));Je(bt,s),Je(Qt,a)}function dm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,qe(r)||"Unknown",d));return ae({},a,h)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,os=bt.current,Je(bt,r),Je(Qt,Qt.current),!0}function fm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=dm(r,s,os),h.__reactInternalMemoizedMergedChildContext=r,Ze(Qt),Ze(bt),Je(bt,r)):Ze(Qt),Je(Qt,a)}var Pr=null,mu=!1,Oh=!1;function pm(r){Pr===null?Pr=[r]:Pr.push(r)}function IT(r){mu=!0,pm(r)}function mi(){if(!Oh&&Pr!==null){Oh=!0;var r=0,s=Fe;try{var a=Pr;for(Fe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Pr=null,mu=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),la($s,mi),d}finally{Fe=s,Oh=!1}}return null}var co=[],ho=0,gu=null,yu=0,_n=[],vn=0,as=null,kr=1,Nr="";function ls(r,s){co[ho++]=yu,co[ho++]=gu,gu=r,yu=s}function mm(r,s,a){_n[vn++]=kr,_n[vn++]=Nr,_n[vn++]=as,as=r;var h=kr;r=Nr;var d=32-an(h)-1;h&=~(1<<d),a+=1;var m=32-an(s)+d;if(30<m){var E=d-d%5;m=(h&(1<<E)-1).toString(32),h>>=E,d-=E,kr=1<<32-an(s)+d|a<<d|h,Nr=m+r}else kr=1<<m|a<<d|h,Nr=r}function Dh(r){r.return!==null&&(ls(r,1),mm(r,1,0))}function Vh(r){for(;r===gu;)gu=co[--ho],co[ho]=null,yu=co[--ho],co[ho]=null;for(;r===as;)as=_n[--vn],_n[vn]=null,Nr=_n[--vn],_n[vn]=null,kr=_n[--vn],_n[vn]=null}var dn=null,fn=null,tt=!1,Dn=null;function gm(r,s){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ym(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=as!==null?{id:kr,overflow:Nr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,fn=null,!0):!1;default:return!1}}function Lh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bh(r){if(tt){var s=fn;if(s){var a=s;if(!ym(r,s)){if(Lh(r))throw Error(t(418));s=di(a.nextSibling);var h=dn;s&&ym(r,s)?gm(h,a):(r.flags=r.flags&-4097|2,tt=!1,dn=r)}}else{if(Lh(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,dn=r}}}function _m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function _u(r){if(r!==dn)return!1;if(!tt)return _m(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ch(r.type,r.memoizedProps)),s&&(s=fn)){if(Lh(r))throw vm(),Error(t(418));for(;s;)gm(r,s),s=di(s.nextSibling)}if(_m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){fn=di(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?di(r.stateNode.nextSibling):null;return!0}function vm(){for(var r=fn;r;)r=di(r.nextSibling)}function fo(){fn=dn=null,tt=!1}function Mh(r){Dn===null?Dn=[r]:Dn.push(r)}var RT=W.ReactCurrentBatchConfig;function Da(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(E){var C=d.refs;E===null?delete C[m]:C[m]=E},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Em(r){var s=r._init;return s(r._payload)}function wm(r){function s(j,L){if(r){var z=j.deletions;z===null?(j.deletions=[L],j.flags|=16):z.push(L)}}function a(j,L){if(!r)return null;for(;L!==null;)s(j,L),L=L.sibling;return null}function h(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function d(j,L){return j=Si(j,L),j.index=0,j.sibling=null,j}function m(j,L,z){return j.index=z,r?(z=j.alternate,z!==null?(z=z.index,z<L?(j.flags|=2,L):z):(j.flags|=2,L)):(j.flags|=1048576,L)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function C(j,L,z,ie){return L===null||L.tag!==6?(L=Pd(z,j.mode,ie),L.return=j,L):(L=d(L,z),L.return=j,L)}function D(j,L,z,ie){var me=z.type;return me===k?Z(j,L,z.props.children,ie,z.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ne&&Em(me)===L.type)?(ie=d(L,z.props),ie.ref=Da(j,L,z),ie.return=j,ie):(ie=$u(z.type,z.key,z.props,null,j.mode,ie),ie.ref=Da(j,L,z),ie.return=j,ie)}function $(j,L,z,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=kd(z,j.mode,ie),L.return=j,L):(L=d(L,z.children||[]),L.return=j,L)}function Z(j,L,z,ie,me){return L===null||L.tag!==7?(L=gs(z,j.mode,ie,me),L.return=j,L):(L=d(L,z),L.return=j,L)}function te(j,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Pd(""+L,j.mode,z),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case se:return z=$u(L.type,L.key,L.props,null,j.mode,z),z.ref=Da(j,null,L),z.return=j,z;case de:return L=kd(L,j.mode,z),L.return=j,L;case Ne:var ie=L._init;return te(j,ie(L._payload),z)}if(ut(L)||fe(L))return L=gs(L,j.mode,z,null),L.return=j,L;vu(j,L)}return null}function X(j,L,z,ie){var me=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return me!==null?null:C(j,L,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case se:return z.key===me?D(j,L,z,ie):null;case de:return z.key===me?$(j,L,z,ie):null;case Ne:return me=z._init,X(j,L,me(z._payload),ie)}if(ut(z)||fe(z))return me!==null?null:Z(j,L,z,ie,null);vu(j,z)}return null}function le(j,L,z,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return j=j.get(z)||null,C(L,j,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:return j=j.get(ie.key===null?z:ie.key)||null,D(L,j,ie,me);case de:return j=j.get(ie.key===null?z:ie.key)||null,$(L,j,ie,me);case Ne:var ye=ie._init;return le(j,L,z,ye(ie._payload),me)}if(ut(ie)||fe(ie))return j=j.get(z)||null,Z(L,j,ie,me,null);vu(L,ie)}return null}function he(j,L,z,ie){for(var me=null,ye=null,_e=L,Ie=L=0,Rt=null;_e!==null&&Ie<z.length;Ie++){_e.index>Ie?(Rt=_e,_e=null):Rt=_e.sibling;var $e=X(j,_e,z[Ie],ie);if($e===null){_e===null&&(_e=Rt);break}r&&_e&&$e.alternate===null&&s(j,_e),L=m($e,L,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e,_e=Rt}if(Ie===z.length)return a(j,_e),tt&&ls(j,Ie),me;if(_e===null){for(;Ie<z.length;Ie++)_e=te(j,z[Ie],ie),_e!==null&&(L=m(_e,L,Ie),ye===null?me=_e:ye.sibling=_e,ye=_e);return tt&&ls(j,Ie),me}for(_e=h(j,_e);Ie<z.length;Ie++)Rt=le(_e,j,Ie,z[Ie],ie),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?Ie:Rt.key),L=m(Rt,L,Ie),ye===null?me=Rt:ye.sibling=Rt,ye=Rt);return r&&_e.forEach(function(Ii){return s(j,Ii)}),tt&&ls(j,Ie),me}function pe(j,L,z,ie){var me=fe(z);if(typeof me!="function")throw Error(t(150));if(z=me.call(z),z==null)throw Error(t(151));for(var ye=me=null,_e=L,Ie=L=0,Rt=null,$e=z.next();_e!==null&&!$e.done;Ie++,$e=z.next()){_e.index>Ie?(Rt=_e,_e=null):Rt=_e.sibling;var Ii=X(j,_e,$e.value,ie);if(Ii===null){_e===null&&(_e=Rt);break}r&&_e&&Ii.alternate===null&&s(j,_e),L=m(Ii,L,Ie),ye===null?me=Ii:ye.sibling=Ii,ye=Ii,_e=Rt}if($e.done)return a(j,_e),tt&&ls(j,Ie),me;if(_e===null){for(;!$e.done;Ie++,$e=z.next())$e=te(j,$e.value,ie),$e!==null&&(L=m($e,L,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e);return tt&&ls(j,Ie),me}for(_e=h(j,_e);!$e.done;Ie++,$e=z.next())$e=le(_e,j,Ie,$e.value,ie),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Ie:$e.key),L=m($e,L,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e);return r&&_e.forEach(function(i0){return s(j,i0)}),tt&&ls(j,Ie),me}function ht(j,L,z,ie){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case se:e:{for(var me=z.key,ye=L;ye!==null;){if(ye.key===me){if(me=z.type,me===k){if(ye.tag===7){a(j,ye.sibling),L=d(ye,z.props.children),L.return=j,j=L;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ne&&Em(me)===ye.type){a(j,ye.sibling),L=d(ye,z.props),L.ref=Da(j,ye,z),L.return=j,j=L;break e}a(j,ye);break}else s(j,ye);ye=ye.sibling}z.type===k?(L=gs(z.props.children,j.mode,ie,z.key),L.return=j,j=L):(ie=$u(z.type,z.key,z.props,null,j.mode,ie),ie.ref=Da(j,L,z),ie.return=j,j=ie)}return E(j);case de:e:{for(ye=z.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(j,L.sibling),L=d(L,z.children||[]),L.return=j,j=L;break e}else{a(j,L);break}else s(j,L);L=L.sibling}L=kd(z,j.mode,ie),L.return=j,j=L}return E(j);case Ne:return ye=z._init,ht(j,L,ye(z._payload),ie)}if(ut(z))return he(j,L,z,ie);if(fe(z))return pe(j,L,z,ie);vu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(j,L.sibling),L=d(L,z),L.return=j,j=L):(a(j,L),L=Pd(z,j.mode,ie),L.return=j,j=L),E(j)):a(j,L)}return ht}var po=wm(!0),Tm=wm(!1),Eu=fi(null),wu=null,mo=null,Fh=null;function Uh(){Fh=mo=wu=null}function jh(r){var s=Eu.current;Ze(Eu),r._currentValue=s}function Bh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function go(r,s){wu=r,Fh=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Xt=!0),r.firstContext=null)}function En(r){var s=r._currentValue;if(Fh!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(wu===null)throw Error(t(308));mo=r,wu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var us=null;function zh(r){us===null?us=[r]:us.push(r)}function Sm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,zh(s)):(a.next=d.next,d.next=a),s.interleaved=a,xr(r,h)}function xr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gi=!1;function $h(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Or(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,xr(r,a)}return d=h.interleaved,d===null?(s.next=s,zh(h)):(s.next=d.next,d.next=s),h.interleaved=s,xr(r,a)}function Tu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,pa(r,a)}}function Rm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Su(r,s,a,h){var d=r.updateQueue;gi=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var D=C,$=D.next;D.next=null,E===null?m=$:E.next=$,E=D;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=$:C.next=$,Z.lastBaseUpdate=D))}if(m!==null){var te=d.baseState;E=0,Z=$=D=null,C=m;do{var X=C.lane,le=C.eventTime;if((h&X)===X){Z!==null&&(Z=Z.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=r,pe=C;switch(X=s,le=a,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){te=he.call(le,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,X=typeof he=="function"?he.call(le,te,X):he,X==null)break e;te=ae({},te,X);break e;case 2:gi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[C]:X.push(C))}else le={eventTime:le,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?($=Z=le,D=te):Z=Z.next=le,E|=X;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;X=C,C=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Z===null&&(D=te),d.baseState=D,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);ds|=E,r.lanes=E,r.memoizedState=te}}function Am(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Va={},ir=fi(Va),La=fi(Va),ba=fi(Va);function cs(r){if(r===Va)throw Error(t(174));return r}function Hh(r,s){switch(Je(ba,s),Je(La,r),Je(ir,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ms(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ms(s,r)}Ze(ir),Je(ir,s)}function yo(){Ze(ir),Ze(La),Ze(ba)}function Cm(r){cs(ba.current);var s=cs(ir.current),a=Ms(s,r.type);s!==a&&(Je(La,r),Je(ir,a))}function qh(r){La.current===r&&(Ze(ir),Ze(La))}var nt=fi(0);function Iu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wh=[];function Kh(){for(var r=0;r<Wh.length;r++)Wh[r]._workInProgressVersionPrimary=null;Wh.length=0}var Ru=W.ReactCurrentDispatcher,Gh=W.ReactCurrentBatchConfig,hs=0,rt=null,vt=null,St=null,Au=!1,Ma=!1,Fa=0,AT=0;function Mt(){throw Error(t(321))}function Qh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!On(r[a],s[a]))return!1;return!0}function Jh(r,s,a,h,d,m){if(hs=m,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ru.current=r===null||r.memoizedState===null?NT:xT,r=a(h,d),Ma){m=0;do{if(Ma=!1,Fa=0,25<=m)throw Error(t(301));m+=1,St=vt=null,s.updateQueue=null,Ru.current=OT,r=a(h,d)}while(Ma)}if(Ru.current=ku,s=vt!==null&&vt.next!==null,hs=0,St=vt=rt=null,Au=!1,s)throw Error(t(300));return r}function Xh(){var r=Fa!==0;return Fa=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=r:St=St.next=r,St}function wn(){if(vt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=St===null?rt.memoizedState:St.next;if(s!==null)St=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?rt.memoizedState=St=r:St=St.next=r}return St}function Ua(r,s){return typeof s=="function"?s(r):s}function Yh(r){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,d=h.baseQueue,m=a.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}h.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,h=h.baseState;var C=E=null,D=null,$=m;do{var Z=$.lane;if((hs&Z)===Z)D!==null&&(D=D.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var te={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};D===null?(C=D=te,E=h):D=D.next=te,rt.lanes|=Z,ds|=Z}$=$.next}while($!==null&&$!==m);D===null?E=h:D.next=C,On(h,s.memoizedState)||(Xt=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do m=d.lane,rt.lanes|=m,ds|=m,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Zh(r){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do m=r(m,E.action),E=E.next;while(E!==d);On(m,s.memoizedState)||(Xt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,h]}function Pm(){}function km(r,s){var a=rt,h=wn(),d=s(),m=!On(h.memoizedState,d);if(m&&(h.memoizedState=d,Xt=!0),h=h.queue,ed(Om.bind(null,a,h,r),[r]),h.getSnapshot!==s||m||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,ja(9,xm.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));(hs&30)!==0||Nm(a,s,d)}return d}function Nm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function xm(r,s,a,h){s.value=a,s.getSnapshot=h,Dm(s)&&Vm(r)}function Om(r,s,a){return a(function(){Dm(s)&&Vm(r)})}function Dm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!On(r,a)}catch{return!0}}function Vm(r){var s=xr(r,1);s!==null&&Mn(s,r,1,-1)}function Lm(r){var s=sr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=kT.bind(null,rt,r),[s.memoizedState,r]}function ja(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function bm(){return wn().memoizedState}function Cu(r,s,a,h){var d=sr();rt.flags|=r,d.memoizedState=ja(1|s,a,void 0,h===void 0?null:h)}function Pu(r,s,a,h){var d=wn();h=h===void 0?null:h;var m=void 0;if(vt!==null){var E=vt.memoizedState;if(m=E.destroy,h!==null&&Qh(h,E.deps)){d.memoizedState=ja(s,a,m,h);return}}rt.flags|=r,d.memoizedState=ja(1|s,a,m,h)}function Mm(r,s){return Cu(8390656,8,r,s)}function ed(r,s){return Pu(2048,8,r,s)}function Fm(r,s){return Pu(4,2,r,s)}function Um(r,s){return Pu(4,4,r,s)}function jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Bm(r,s,a){return a=a!=null?a.concat([r]):null,Pu(4,4,jm.bind(null,s,r),a)}function td(){}function zm(r,s){var a=wn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Qh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function $m(r,s){var a=wn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Qh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Hm(r,s,a){return(hs&21)===0?(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=a):(On(a,s)||(a=da(),rt.lanes|=a,ds|=a,r.baseState=!0),s)}function CT(r,s){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var h=Gh.transition;Gh.transition={};try{r(!1),s()}finally{Fe=a,Gh.transition=h}}function qm(){return wn().memoizedState}function PT(r,s,a){var h=wi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Wm(r))Km(s,a);else if(a=Sm(r,s,a,h),a!==null){var d=Kt();Mn(a,r,h,d),Gm(a,s,h)}}function kT(r,s,a){var h=wi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wm(r))Km(s,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,C=m(E,a);if(d.hasEagerState=!0,d.eagerState=C,On(C,E)){var D=s.interleaved;D===null?(d.next=d,zh(s)):(d.next=D.next,D.next=d),s.interleaved=d;return}}catch{}finally{}a=Sm(r,s,d,h),a!==null&&(d=Kt(),Mn(a,r,h,d),Gm(a,s,h))}}function Wm(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Km(r,s){Ma=Au=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Gm(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,pa(r,a)}}var ku={readContext:En,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},NT={readContext:En,useCallback:function(r,s){return sr().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Mm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Cu(4194308,4,jm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Cu(4,2,r,s)},useMemo:function(r,s){var a=sr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=sr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=PT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=sr();return r={current:r},s.memoizedState=r},useState:Lm,useDebugValue:td,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=Lm(!1),s=r[0];return r=CT.bind(null,r[1]),sr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=rt,d=sr();if(tt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));(hs&30)!==0||Nm(h,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Mm(Om.bind(null,h,m,r),[r]),h.flags|=2048,ja(9,xm.bind(null,h,m,a,s),void 0,null),a},useId:function(){var r=sr(),s=It.identifierPrefix;if(tt){var a=Nr,h=kr;a=(h&~(1<<32-an(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Fa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=AT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},xT={readContext:En,useCallback:zm,useContext:En,useEffect:ed,useImperativeHandle:Bm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:Yh,useRef:bm,useState:function(){return Yh(Ua)},useDebugValue:td,useDeferredValue:function(r){var s=wn();return Hm(s,vt.memoizedState,r)},useTransition:function(){var r=Yh(Ua)[0],s=wn().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:km,useId:qm,unstable_isNewReconciler:!1},OT={readContext:En,useCallback:zm,useContext:En,useEffect:ed,useImperativeHandle:Bm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:Zh,useRef:bm,useState:function(){return Zh(Ua)},useDebugValue:td,useDeferredValue:function(r){var s=wn();return vt===null?s.memoizedState=r:Hm(s,vt.memoizedState,r)},useTransition:function(){var r=Zh(Ua)[0],s=wn().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:km,useId:qm,unstable_isNewReconciler:!1};function Vn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function nd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Nu={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Kt(),d=wi(r),m=Or(h,d);m.payload=s,a!=null&&(m.callback=a),s=yi(r,m,d),s!==null&&(Mn(s,r,d,h),Tu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Kt(),d=wi(r),m=Or(h,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=yi(r,m,d),s!==null&&(Mn(s,r,d,h),Tu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Kt(),h=wi(r),d=Or(a,h);d.tag=2,s!=null&&(d.callback=s),s=yi(r,d,h),s!==null&&(Mn(s,r,h,a),Tu(s,r,h))}};function Qm(r,s,a,h,d,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,m,E):s.prototype&&s.prototype.isPureReactComponent?!Aa(a,h)||!Aa(d,m):!0}function Jm(r,s,a){var h=!1,d=pi,m=s.contextType;return typeof m=="object"&&m!==null?m=En(m):(d=Jt(s)?os:bt.current,h=s.contextTypes,m=(h=h!=null)?uo(r,d):pi),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=m),s}function Xm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Nu.enqueueReplaceState(s,s.state,null)}function rd(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},$h(r);var m=s.contextType;typeof m=="object"&&m!==null?d.context=En(m):(m=Jt(s)?os:bt.current,d.context=uo(r,m)),d.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(nd(r,s,m,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Nu.enqueueReplaceState(d,d.state,null),Su(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var a="",h=s;do a+=xe(h),h=h.return;while(h);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:d,digest:null}}function id(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function sd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var DT=typeof WeakMap=="function"?WeakMap:Map;function Ym(r,s,a){a=Or(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Mu||(Mu=!0,Ed=h),sd(r,s)},a}function Zm(r,s,a){a=Or(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){sd(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){sd(r,s),typeof h!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function eg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new DT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=KT.bind(null,r,s,a),s.then(r,r))}function tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ng(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Or(-1,1),s.tag=2,yi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var VT=W.ReactCurrentOwner,Xt=!1;function Wt(r,s,a,h){s.child=r===null?Tm(s,null,a,h):po(s,r.child,a,h)}function rg(r,s,a,h,d){a=a.render;var m=s.ref;return go(s,d),h=Jh(r,s,a,h,m,d),a=Xh(),r!==null&&!Xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(tt&&a&&Dh(s),s.flags|=1,Wt(r,s,h,d),s.child)}function ig(r,s,a,h,d){if(r===null){var m=a.type;return typeof m=="function"&&!Cd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,sg(r,s,m,h,d)):(r=$u(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&d)===0){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(E,h)&&r.ref===s.ref)return Dr(r,s,d)}return s.flags|=1,r=Si(m,h),r.ref=s.ref,r.return=s,s.child=r}function sg(r,s,a,h,d){if(r!==null){var m=r.memoizedProps;if(Aa(m,h)&&r.ref===s.ref)if(Xt=!1,s.pendingProps=h=m,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Xt=!0);else return s.lanes=r.lanes,Dr(r,s,d)}return od(r,s,a,h,d)}function og(r,s,a){var h=s.pendingProps,d=h.children,m=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Eo,pn),pn|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(Eo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=m!==null?m.baseLanes:a,Je(Eo,pn),pn|=h}else m!==null?(h=m.baseLanes|a,s.memoizedState=null):h=a,Je(Eo,pn),pn|=h;return Wt(r,s,d,a),s.child}function ag(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function od(r,s,a,h,d){var m=Jt(a)?os:bt.current;return m=uo(s,m),go(s,d),a=Jh(r,s,a,h,m,d),h=Xh(),r!==null&&!Xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(tt&&h&&Dh(s),s.flags|=1,Wt(r,s,a,d),s.child)}function lg(r,s,a,h,d){if(Jt(a)){var m=!0;pu(s)}else m=!1;if(go(s,d),s.stateNode===null)Ou(r,s),Jm(s,a,h),rd(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var D=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=En($):($=Jt(a)?os:bt.current,$=uo(s,$));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||D!==$)&&Xm(s,E,h,$),gi=!1;var X=s.memoizedState;E.state=X,Su(s,h,E,d),D=s.memoizedState,C!==h||X!==D||Qt.current||gi?(typeof Z=="function"&&(nd(s,a,Z,h),D=s.memoizedState),(C=gi||Qm(s,a,C,h,X,D,$))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),E.props=h,E.state=D,E.context=$,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Im(r,s),C=s.memoizedProps,$=s.type===s.elementType?C:Vn(s.type,C),E.props=$,te=s.pendingProps,X=E.context,D=a.contextType,typeof D=="object"&&D!==null?D=En(D):(D=Jt(a)?os:bt.current,D=uo(s,D));var le=a.getDerivedStateFromProps;(Z=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||X!==D)&&Xm(s,E,h,D),gi=!1,X=s.memoizedState,E.state=X,Su(s,h,E,d);var he=s.memoizedState;C!==te||X!==he||Qt.current||gi?(typeof le=="function"&&(nd(s,a,le,h),he=s.memoizedState),($=gi||Qm(s,a,$,h,X,he,D)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,D)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=D,h=$):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return ad(r,s,a,h,m,d)}function ad(r,s,a,h,d,m){ag(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&fm(s,a,!1),Dr(r,s,m);h=s.stateNode,VT.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,m),s.child=po(s,null,C,m)):Wt(r,s,C,m),s.memoizedState=h.state,d&&fm(s,a,!0),s.child}function ug(r){var s=r.stateNode;s.pendingContext?hm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hm(r,s.context,!1),Hh(r,s.containerInfo)}function cg(r,s,a,h,d){return fo(),Mh(d),s.flags|=256,Wt(r,s,a,h),s.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function ud(r){return{baseLanes:r,cachePool:null,transitions:null}}function hg(r,s,a){var h=s.pendingProps,d=nt.current,m=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(d&2)!==0),C?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Je(nt,d&1),r===null)return bh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,m?(h=s.mode,m=s.child,E={mode:"hidden",children:E},(h&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=E):m=Hu(E,h,0,null),r=gs(r,h,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=ud(a),s.memoizedState=ld,r):cd(s,E));if(d=r.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return LT(r,s,E,h,C,d,a);if(m){m=h.fallback,E=s.mode,d=r.child,C=d.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Si(d,D),h.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=Si(C,m):(m=gs(m,E,a,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,E=r.child.memoizedState,E=E===null?ud(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},m.memoizedState=E,m.childLanes=r.childLanes&~a,s.memoizedState=ld,h}return m=r.child,r=m.sibling,h=Si(m,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function cd(r,s){return s=Hu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function xu(r,s,a,h){return h!==null&&Mh(h),po(s,r.child,null,a),r=cd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function LT(r,s,a,h,d,m,E){if(a)return s.flags&256?(s.flags&=-257,h=id(Error(t(422))),xu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=h.fallback,d=s.mode,h=Hu({mode:"visible",children:h.children},d,0,null),m=gs(m,d,E,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=ud(E),s.memoizedState=ld,m);if((s.mode&1)===0)return xu(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var C=h.dgst;return h=C,m=Error(t(419)),h=id(m,h,void 0),xu(r,s,E,h)}if(C=(E&r.childLanes)!==0,Xt||C){if(h=It,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|E))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,xr(r,d),Mn(h,r,d,-1))}return Ad(),h=id(Error(t(421))),xu(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=GT.bind(null,r),d._reactRetry=s,null):(r=m.treeContext,fn=di(d.nextSibling),dn=s,tt=!0,Dn=null,r!==null&&(_n[vn++]=kr,_n[vn++]=Nr,_n[vn++]=as,kr=r.id,Nr=r.overflow,as=s),s=cd(s,h.children),s.flags|=4096,s)}function dg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Bh(r.return,s,a)}function hd(r,s,a,h,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=h,m.tail=a,m.tailMode=d)}function fg(r,s,a){var h=s.pendingProps,d=h.revealOrder,m=h.tail;if(Wt(r,s,h.children,a),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dg(r,a,s);else if(r.tag===19)dg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Je(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Iu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),hd(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Iu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}hd(s,!0,a,null,m);break;case"together":hd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ou(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Si(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function bT(r,s,a){switch(s.tag){case 3:ug(s),fo();break;case 5:Cm(s);break;case 1:Jt(s.type)&&pu(s);break;case 4:Hh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Je(Eu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Je(nt,nt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?hg(r,s,a):(Je(nt,nt.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);Je(nt,nt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return fg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Je(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,og(r,s,a)}return Dr(r,s,a)}var pg,dd,mg,gg;pg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},dd=function(){},mg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,cs(ir.current);var m=null;switch(a){case"input":d=Ls(r,d),h=Ls(r,h),m=[];break;case"select":d=ae({},d,{value:void 0}),h=ae({},h,{value:void 0}),m=[];break;case"textarea":d=ta(r,d),h=ta(r,h),m=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=hu)}kn(a,h);var E;a=null;for($ in d)if(!h.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in h){var D=h[$];if(C=d!=null?d[$]:void 0,h.hasOwnProperty($)&&D!==C&&(D!=null||C!=null))if($==="style")if(C){for(E in C)!C.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in D)D.hasOwnProperty(E)&&C[E]!==D[E]&&(a||(a={}),a[E]=D[E])}else a||(m||(m=[]),m.push($,a)),a=D;else $==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(m=m||[]).push($,D)):$==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push($,""+D):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(D!=null&&$==="onScroll"&&Ye("scroll",r),m||C===D||(m=[])):(m=m||[]).push($,D))}a&&(m=m||[]).push("style",a);var $=m;(s.updateQueue=$)&&(s.flags|=4)}},gg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ba(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function MT(r,s,a){var h=s.pendingProps;switch(Vh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&fu(),Ft(s),null;case 3:return h=s.stateNode,yo(),Ze(Qt),Ze(bt),Kh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(_u(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dn!==null&&(Sd(Dn),Dn=null))),dd(r,s),Ft(s),null;case 5:qh(s);var d=cs(ba.current);if(a=s.type,r!==null&&s.stateNode!=null)mg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=cs(ir.current),_u(s)){h=s.stateNode,a=s.type;var m=s.memoizedProps;switch(h[rr]=s,h[xa]=m,r=(s.mode&1)!==0,a){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(d=0;d<Pa.length;d++)Ye(Pa[d],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":bl(h,m),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!m.multiple},Ye("invalid",h);break;case"textarea":na(h,m),Ye("invalid",h)}kn(a,m),d=null;for(var E in m)if(m.hasOwnProperty(E)){var C=m[E];E==="children"?typeof C=="string"?h.textContent!==C&&(m.suppressHydrationWarning!==!0&&cu(h.textContent,C,r),d=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&cu(h.textContent,C,r),d=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Ye("scroll",h)}switch(a){case"input":Vs(h),ea(h,m,!0);break;case"textarea":Vs(h),Jr(h);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(h.onclick=hu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ra(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[rr]=s,r[xa]=h,pg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Us(a,h),a){case"dialog":Ye("cancel",r),Ye("close",r),d=h;break;case"iframe":case"object":case"embed":Ye("load",r),d=h;break;case"video":case"audio":for(d=0;d<Pa.length;d++)Ye(Pa[d],r);d=h;break;case"source":Ye("error",r),d=h;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),d=h;break;case"details":Ye("toggle",r),d=h;break;case"input":bl(r,h),d=Ls(r,h),Ye("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ae({},h,{value:void 0}),Ye("invalid",r);break;case"textarea":na(r,h),d=ta(r,h),Ye("invalid",r);break;default:d=h}kn(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var D=C[m];m==="style"?Fs(r,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Fl(r,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&qi(r,D):typeof D=="number"&&qi(r,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&Ye("scroll",r):D!=null&&Y(r,m,D,E))}switch(a){case"input":Vs(r),ea(r,h,!1);break;case"textarea":Vs(r),Jr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,m=h.value,m!=null?Pn(r,!!h.multiple,m,!1):h.defaultValue!=null&&Pn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=hu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)gg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=cs(ba.current),cs(ir.current),_u(s)){if(h=s.stateNode,a=s.memoizedProps,h[rr]=s,(m=h.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:cu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(h.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return Ft(s),null;case 13:if(Ze(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&fn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)vm(),fo(),s.flags|=98560,m=!1;else if(m=_u(s),h!==null&&h.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[rr]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),m=!1}else Dn!==null&&(Sd(Dn),Dn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):Ad())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return yo(),dd(r,s),r===null&&ka(s.stateNode.containerInfo),Ft(s),null;case 10:return jh(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&fu(),Ft(s),null;case 19:if(Ze(nt),m=s.memoizedState,m===null)return Ft(s),null;if(h=(s.flags&128)!==0,E=m.rendering,E===null)if(h)Ba(m,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Iu(r),E!==null){for(s.flags|=128,Ba(m,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)m=a,r=h,m.flags&=14680066,E=m.alternate,E===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,r=E.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Je(nt,nt.current&1|2),s.child}r=r.sibling}m.tail!==null&&Xe()>wo&&(s.flags|=128,h=!0,Ba(m,!1),s.lanes=4194304)}else{if(!h)if(r=Iu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ba(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!tt)return Ft(s),null}else 2*Xe()-m.renderingStartTime>wo&&a!==1073741824&&(s.flags|=128,h=!0,Ba(m,!1),s.lanes=4194304);m.isBackwards?(E.sibling=s.child,s.child=E):(a=m.last,a!==null?a.sibling=E:s.child=E,m.last=E)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Xe(),s.sibling=null,a=nt.current,Je(nt,h?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Rd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function FT(r,s){switch(Vh(s),s.tag){case 1:return Jt(s.type)&&fu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yo(),Ze(Qt),Ze(bt),Kh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return qh(s),null;case 13:if(Ze(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(nt),null;case 4:return yo(),null;case 10:return jh(s.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var Du=!1,Ut=!1,UT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function vo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){at(r,s,h)}else a.current=null}function fd(r,s,a){try{a()}catch(h){at(r,s,h)}}var yg=!1;function jT(r,s){if(Rh=Ir,r=Qp(),yh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,m=h.focusNode;h=h.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,C=-1,D=-1,$=0,Z=0,te=r,X=null;t:for(;;){for(var le;te!==a||d!==0&&te.nodeType!==3||(C=E+d),te!==m||h!==0&&te.nodeType!==3||(D=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(le=te.firstChild)!==null;)X=te,te=le;for(;;){if(te===r)break t;if(X===a&&++$===d&&(C=E),X===m&&++Z===h&&(D=E),(le=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=le}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ah={focusedElem:r,selectionRange:a},Ir=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,ht=he.memoizedState,j=s.stateNode,L=j.getSnapshotBeforeUpdate(s.elementType===s.type?pe:Vn(s.type,pe),ht);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){at(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=yg,yg=!1,he}function za(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var m=d.destroy;d.destroy=void 0,m!==void 0&&fd(s,a,m)}d=d.next}while(d!==h)}}function Vu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function pd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function _g(r){var s=r.alternate;s!==null&&(r.alternate=null,_g(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[rr],delete s[xa],delete s[Nh],delete s[TT],delete s[ST])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vg(r){return r.tag===5||r.tag===3||r.tag===4}function Eg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function md(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hu));else if(h!==4&&(r=r.child,r!==null))for(md(r,s,a),r=r.sibling;r!==null;)md(r,s,a),r=r.sibling}function gd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(gd(r,s,a),r=r.sibling;r!==null;)gd(r,s,a),r=r.sibling}var Nt=null,Ln=!1;function _i(r,s,a){for(a=a.child;a!==null;)wg(r,s,a),a=a.sibling}function wg(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 5:Ut||vo(a,s);case 6:var h=Nt,d=Ln;Nt=null,_i(r,s,a),Nt=h,Ln=d,Nt!==null&&(Ln?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Ln?(r=Nt,a=a.stateNode,r.nodeType===8?kh(r.parentNode,a):r.nodeType===1&&kh(r,a),li(r)):kh(Nt,a.stateNode));break;case 4:h=Nt,d=Ln,Nt=a.stateNode.containerInfo,Ln=!0,_i(r,s,a),Nt=h,Ln=d;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var m=d,E=m.destroy;m=m.tag,E!==void 0&&((m&2)!==0||(m&4)!==0)&&fd(a,s,E),d=d.next}while(d!==h)}_i(r,s,a);break;case 1:if(!Ut&&(vo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){at(a,s,C)}_i(r,s,a);break;case 21:_i(r,s,a);break;case 22:a.mode&1?(Ut=(h=Ut)||a.memoizedState!==null,_i(r,s,a),Ut=h):_i(r,s,a);break;default:_i(r,s,a)}}function Tg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new UT),s.forEach(function(h){var d=QT.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function bn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var m=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Nt=C.stateNode,Ln=!1;break e;case 3:Nt=C.stateNode.containerInfo,Ln=!0;break e;case 4:Nt=C.stateNode.containerInfo,Ln=!0;break e}C=C.return}if(Nt===null)throw Error(t(160));wg(m,E,d),Nt=null,Ln=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch($){at(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sg(s,r),s=s.sibling}function Sg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(bn(s,r),or(r),h&4){try{za(3,r,r.return),Vu(3,r)}catch(pe){at(r,r.return,pe)}try{za(5,r,r.return)}catch(pe){at(r,r.return,pe)}}break;case 1:bn(s,r),or(r),h&512&&a!==null&&vo(a,a.return);break;case 5:if(bn(s,r),or(r),h&512&&a!==null&&vo(a,a.return),r.flags&32){var d=r.stateNode;try{qi(d,"")}catch(pe){at(r,r.return,pe)}}if(h&4&&(d=r.stateNode,d!=null)){var m=r.memoizedProps,E=a!==null?a.memoizedProps:m,C=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&bs(d,m),Us(C,E);var $=Us(C,m);for(E=0;E<D.length;E+=2){var Z=D[E],te=D[E+1];Z==="style"?Fs(d,te):Z==="dangerouslySetInnerHTML"?Fl(d,te):Z==="children"?qi(d,te):Y(d,Z,te,$)}switch(C){case"input":Hi(d,m);break;case"textarea":Ml(d,m);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var le=m.value;le!=null?Pn(d,!!m.multiple,le,!1):X!==!!m.multiple&&(m.defaultValue!=null?Pn(d,!!m.multiple,m.defaultValue,!0):Pn(d,!!m.multiple,m.multiple?[]:"",!1))}d[xa]=m}catch(pe){at(r,r.return,pe)}}break;case 6:if(bn(s,r),or(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,m=r.memoizedProps;try{d.nodeValue=m}catch(pe){at(r,r.return,pe)}}break;case 3:if(bn(s,r),or(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{li(s.containerInfo)}catch(pe){at(r,r.return,pe)}break;case 4:bn(s,r),or(r);break;case 13:bn(s,r),or(r),d=r.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(vd=Xe())),h&4&&Tg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=($=Ut)||Z,bn(s,r),Ut=$):bn(s,r),or(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(te=ce=Z;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:za(4,X,X.return);break;case 1:vo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(pe){at(h,a,pe)}}break;case 5:vo(X,X.return);break;case 22:if(X.memoizedState!==null){Ag(te);continue}}le!==null?(le.return=X,ce=le):Ag(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{d=te.stateNode,$?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=te.stateNode,D=te.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=Zr("display",E))}catch(pe){at(r,r.return,pe)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(pe){at(r,r.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:bn(s,r),or(r),h&4&&Tg(r);break;case 21:break;default:bn(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(vg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(qi(d,""),h.flags&=-33);var m=Eg(r);gd(r,m,d);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Eg(r);md(r,C,E);break;default:throw Error(t(161))}}catch(D){at(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function BT(r,s,a){ce=r,Ig(r)}function Ig(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var d=ce,m=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||Du;if(!E){var C=d.alternate,D=C!==null&&C.memoizedState!==null||Ut;C=Du;var $=Ut;if(Du=E,(Ut=D)&&!$)for(ce=d;ce!==null;)E=ce,D=E.child,E.tag===22&&E.memoizedState!==null?Cg(d):D!==null?(D.return=E,ce=D):Cg(d);for(;m!==null;)ce=m,Ig(m),m=m.sibling;ce=d,Du=C,Ut=$}Rg(r)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ce=m):Rg(r)}}function Rg(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||Vu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ut)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Vn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Am(s,m,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Am(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&li(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&pd(s)}catch(X){at(s,s.return,X)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Ag(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Cg(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Vu(4,s)}catch(D){at(s,a,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(D){at(s,d,D)}}var m=s.return;try{pd(s)}catch(D){at(s,m,D)}break;case 5:var E=s.return;try{pd(s)}catch(D){at(s,E,D)}}}catch(D){at(s,s.return,D)}if(s===r){ce=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ce=C;break}ce=s.return}}var zT=Math.ceil,Lu=W.ReactCurrentDispatcher,yd=W.ReactCurrentOwner,Tn=W.ReactCurrentBatchConfig,Be=0,It=null,gt=null,xt=0,pn=0,Eo=fi(0),Et=0,$a=null,ds=0,bu=0,_d=0,Ha=null,Yt=null,vd=0,wo=1/0,Vr=null,Mu=!1,Ed=null,vi=null,Fu=!1,Ei=null,Uu=0,qa=0,wd=null,ju=-1,Bu=0;function Kt(){return(Be&6)!==0?Xe():ju!==-1?ju:ju=Xe()}function wi(r){return(r.mode&1)===0?1:(Be&2)!==0&&xt!==0?xt&-xt:RT.transition!==null?(Bu===0&&(Bu=da()),Bu):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Qs(r.type)),r)}function Mn(r,s,a,h){if(50<qa)throw qa=0,wd=null,Error(t(185));es(r,a,h),((Be&2)===0||r!==It)&&(r===It&&((Be&2)===0&&(bu|=a),Et===4&&Ti(r,xt)),Zt(r,h),a===1&&Be===0&&(s.mode&1)===0&&(wo=Xe()+500,mu&&mi()))}function Zt(r,s){var a=r.callbackNode;Zi(r,s);var h=wr(r,r===It?xt:0);if(h===0)a!==null&&zs(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&zs(a),s===1)r.tag===0?IT(kg.bind(null,r)):pm(kg.bind(null,r)),ET(function(){(Be&6)===0&&mi()}),a=null;else{switch(Kn(h)){case 1:a=$s;break;case 4:a=ua;break;case 16:a=Qi;break;case 536870912:a=Hs;break;default:a=Qi}a=Mg(a,Pg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Pg(r,s){if(ju=-1,Bu=0,(Be&6)!==0)throw Error(t(327));var a=r.callbackNode;if(To()&&r.callbackNode!==a)return null;var h=wr(r,r===It?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=zu(r,h);else{s=h;var d=Be;Be|=2;var m=xg();(It!==r||xt!==s)&&(Vr=null,wo=Xe()+500,ps(r,s));do try{qT();break}catch(C){Ng(r,C)}while(!0);Uh(),Lu.current=m,Be=d,gt!==null?s=0:(It=null,xt=0,s=Et)}if(s!==0){if(s===2&&(d=ha(r),d!==0&&(h=d,s=Td(r,d))),s===1)throw a=$a,ps(r,0),Ti(r,h),Zt(r,Xe()),a;if(s===6)Ti(r,h);else{if(d=r.current.alternate,(h&30)===0&&!$T(d)&&(s=zu(r,h),s===2&&(m=ha(r),m!==0&&(h=m,s=Td(r,m))),s===1))throw a=$a,ps(r,0),Ti(r,h),Zt(r,Xe()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ms(r,Yt,Vr);break;case 3:if(Ti(r,h),(h&130023424)===h&&(s=vd+500-Xe(),10<s)){if(wr(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Ph(ms.bind(null,r,Yt,Vr),s);break}ms(r,Yt,Vr);break;case 4:if(Ti(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-an(h);m=1<<E,E=s[E],E>d&&(d=E),h&=~m}if(h=d,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*zT(h/1960))-h,10<h){r.timeoutHandle=Ph(ms.bind(null,r,Yt,Vr),h);break}ms(r,Yt,Vr);break;case 5:ms(r,Yt,Vr);break;default:throw Error(t(329))}}}return Zt(r,Xe()),r.callbackNode===a?Pg.bind(null,r):null}function Td(r,s){var a=Ha;return r.current.memoizedState.isDehydrated&&(ps(r,s).flags|=256),r=zu(r,s),r!==2&&(s=Yt,Yt=a,s!==null&&Sd(s)),r}function Sd(r){Yt===null?Yt=r:Yt.push.apply(Yt,r)}function $T(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],m=d.getSnapshot;d=d.value;try{if(!On(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(r,s){for(s&=~_d,s&=~bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-an(s),h=1<<a;r[a]=-1,s&=~h}}function kg(r){if((Be&6)!==0)throw Error(t(327));To();var s=wr(r,0);if((s&1)===0)return Zt(r,Xe()),null;var a=zu(r,s);if(r.tag!==0&&a===2){var h=ha(r);h!==0&&(s=h,a=Td(r,h))}if(a===1)throw a=$a,ps(r,0),Ti(r,s),Zt(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ms(r,Yt,Vr),Zt(r,Xe()),null}function Id(r,s){var a=Be;Be|=1;try{return r(s)}finally{Be=a,Be===0&&(wo=Xe()+500,mu&&mi())}}function fs(r){Ei!==null&&Ei.tag===0&&(Be&6)===0&&To();var s=Be;Be|=1;var a=Tn.transition,h=Fe;try{if(Tn.transition=null,Fe=1,r)return r()}finally{Fe=h,Tn.transition=a,Be=s,(Be&6)===0&&mi()}}function Rd(){pn=Eo.current,Ze(Eo)}function ps(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,vT(a)),gt!==null)for(a=gt.return;a!==null;){var h=a;switch(Vh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&fu();break;case 3:yo(),Ze(Qt),Ze(bt),Kh();break;case 5:qh(h);break;case 4:yo();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:jh(h.type._context);break;case 22:case 23:Rd()}a=a.return}if(It=r,gt=r=Si(r.current,null),xt=pn=s,Et=0,$a=null,_d=bu=ds=0,Yt=Ha=null,us!==null){for(s=0;s<us.length;s++)if(a=us[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,m=a.pending;if(m!==null){var E=m.next;m.next=d,h.next=E}a.pending=h}us=null}return r}function Ng(r,s){do{var a=gt;try{if(Uh(),Ru.current=ku,Au){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Au=!1}if(hs=0,St=vt=rt=null,Ma=!1,Fa=0,yd.current=null,a===null||a.return===null){Et=1,$a=s,gt=null;break}e:{var m=r,E=a.return,C=a,D=s;if(s=xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=D,Z=C,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var le=tg(E);if(le!==null){le.flags&=-257,ng(le,E,C,m,s),le.mode&1&&eg(m,$,s),s=le,D=$;var he=s.updateQueue;if(he===null){var pe=new Set;pe.add(D),s.updateQueue=pe}else he.add(D);break e}else{if((s&1)===0){eg(m,$,s),Ad();break e}D=Error(t(426))}}else if(tt&&C.mode&1){var ht=tg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),ng(ht,E,C,m,s),Mh(_o(D,C));break e}}m=D=_o(D,C),Et!==4&&(Et=2),Ha===null?Ha=[m]:Ha.push(m),m=E;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var j=Ym(m,D,s);Rm(m,j);break e;case 1:C=D;var L=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(vi===null||!vi.has(z)))){m.flags|=65536,s&=-s,m.lanes|=s;var ie=Zm(m,C,s);Rm(m,ie);break e}}m=m.return}while(m!==null)}Dg(a)}catch(me){s=me,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function xg(){var r=Lu.current;return Lu.current=ku,r===null?ku:r}function Ad(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||(ds&268435455)===0&&(bu&268435455)===0||Ti(It,xt)}function zu(r,s){var a=Be;Be|=2;var h=xg();(It!==r||xt!==s)&&(Vr=null,ps(r,s));do try{HT();break}catch(d){Ng(r,d)}while(!0);if(Uh(),Be=a,Lu.current=h,gt!==null)throw Error(t(261));return It=null,xt=0,Et}function HT(){for(;gt!==null;)Og(gt)}function qT(){for(;gt!==null&&!Gi();)Og(gt)}function Og(r){var s=bg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Dg(r):gt=s,yd.current=null}function Dg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=MT(a,s,pn),a!==null){gt=a;return}}else{if(a=FT(a,s),a!==null){a.flags&=32767,gt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=r}while(s!==null);Et===0&&(Et=5)}function ms(r,s,a){var h=Fe,d=Tn.transition;try{Tn.transition=null,Fe=1,WT(r,s,a,h)}finally{Tn.transition=d,Fe=h}return null}function WT(r,s,a,h){do To();while(Ei!==null);if((Be&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(dh(r,m),r===It&&(gt=It=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Fu||(Fu=!0,Mg(Qi,function(){return To(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Tn.transition,Tn.transition=null;var E=Fe;Fe=1;var C=Be;Be|=4,yd.current=null,jT(r,a),Sg(a,r),dT(Ah),Ir=!!Rh,Ah=Rh=null,r.current=a,BT(a),Er(),Be=C,Fe=E,Tn.transition=m}else r.current=a;if(Fu&&(Fu=!1,Ei=r,Uu=d),m=r.pendingLanes,m===0&&(vi=null),Ql(a.stateNode),Zt(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Mu)throw Mu=!1,r=Ed,Ed=null,r;return(Uu&1)!==0&&r.tag!==0&&To(),m=r.pendingLanes,(m&1)!==0?r===wd?qa++:(qa=0,wd=r):qa=0,mi(),null}function To(){if(Ei!==null){var r=Kn(Uu),s=Tn.transition,a=Fe;try{if(Tn.transition=null,Fe=16>r?16:r,Ei===null)var h=!1;else{if(r=Ei,Ei=null,Uu=0,(Be&6)!==0)throw Error(t(331));var d=Be;for(Be|=4,ce=r.current;ce!==null;){var m=ce,E=m.child;if((ce.flags&16)!==0){var C=m.deletions;if(C!==null){for(var D=0;D<C.length;D++){var $=C[D];for(ce=$;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:za(8,Z,m)}var te=Z.child;if(te!==null)te.return=Z,ce=te;else for(;ce!==null;){Z=ce;var X=Z.sibling,le=Z.return;if(_g(Z),Z===$){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var he=m.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var ht=pe.sibling;pe.sibling=null,pe=ht}while(pe!==null)}}ce=m}}if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,ce=E;else e:for(;ce!==null;){if(m=ce,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:za(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,ce=j;break e}ce=m.return}}var L=r.current;for(ce=L;ce!==null;){E=ce;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ce=z;else e:for(E=L;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Vu(9,C)}}catch(me){at(C,C.return,me)}if(C===E){ce=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,ce=ie;break e}ce=C.return}}if(Be=d,mi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ji,r)}catch{}h=!0}return h}finally{Fe=a,Tn.transition=s}}return!1}function Vg(r,s,a){s=_o(a,s),s=Ym(r,s,1),r=yi(r,s,1),s=Kt(),r!==null&&(es(r,1,s),Zt(r,s))}function at(r,s,a){if(r.tag===3)Vg(r,r,a);else for(;s!==null;){if(s.tag===3){Vg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))){r=_o(a,r),r=Zm(s,r,1),s=yi(s,r,1),r=Kt(),s!==null&&(es(s,1,r),Zt(s,r));break}}s=s.return}}function KT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(xt&a)===a&&(Et===4||Et===3&&(xt&130023424)===xt&&500>Xe()-vd?ps(r,0):_d|=a),Zt(r,s)}function Lg(r,s){s===0&&((r.mode&1)===0?s=1:(s=si,si<<=1,(si&130023424)===0&&(si=4194304)));var a=Kt();r=xr(r,s),r!==null&&(es(r,s,a),Zt(r,a))}function GT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Lg(r,a)}function QT(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Lg(r,a)}var bg;bg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Qt.current)Xt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Xt=!1,bT(r,s,a);Xt=(r.flags&131072)!==0}else Xt=!1,tt&&(s.flags&1048576)!==0&&mm(s,yu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ou(r,s),r=s.pendingProps;var d=uo(s,bt.current);go(s,a),d=Jh(null,s,h,r,d,a);var m=Xh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(m=!0,pu(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,$h(s),d.updater=Nu,s.stateNode=d,d._reactInternals=s,rd(s,h,r,a),s=ad(null,s,h,!0,m,a)):(s.tag=0,tt&&m&&Dh(s),Wt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Ou(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=XT(h),r=Vn(h,r),d){case 0:s=od(null,s,h,r,a);break e;case 1:s=lg(null,s,h,r,a);break e;case 11:s=rg(null,s,h,r,a);break e;case 14:s=ig(null,s,h,Vn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),od(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),lg(r,s,h,d,a);case 3:e:{if(ug(s),r===null)throw Error(t(387));h=s.pendingProps,m=s.memoizedState,d=m.element,Im(r,s),Su(s,h,null,a);var E=s.memoizedState;if(h=E.element,m.isDehydrated)if(m={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=_o(Error(t(423)),s),s=cg(r,s,h,a,d);break e}else if(h!==d){d=_o(Error(t(424)),s),s=cg(r,s,h,a,d);break e}else for(fn=di(s.stateNode.containerInfo.firstChild),dn=s,tt=!0,Dn=null,a=Tm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fo(),h===d){s=Dr(r,s,a);break e}Wt(r,s,h,a)}s=s.child}return s;case 5:return Cm(s),r===null&&bh(s),h=s.type,d=s.pendingProps,m=r!==null?r.memoizedProps:null,E=d.children,Ch(h,d)?E=null:m!==null&&Ch(h,m)&&(s.flags|=32),ag(r,s),Wt(r,s,E,a),s.child;case 6:return r===null&&bh(s),null;case 13:return hg(r,s,a);case 4:return Hh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=po(s,null,h,a):Wt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),rg(r,s,h,d,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,m=s.memoizedProps,E=d.value,Je(Eu,h._currentValue),h._currentValue=E,m!==null)if(On(m.value,E)){if(m.children===d.children&&!Qt.current){s=Dr(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var C=m.dependencies;if(C!==null){E=m.child;for(var D=C.firstContext;D!==null;){if(D.context===h){if(m.tag===1){D=Or(-1,a&-a),D.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),$.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Bh(m.return,a,s),C.lanes|=a;break}D=D.next}}else if(m.tag===10)E=m.type===s.type?null:m.child;else if(m.tag===18){if(E=m.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),Bh(E,a,s),E=m.sibling}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}Wt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,go(s,a),d=En(d),h=h(d),s.flags|=1,Wt(r,s,h,a),s.child;case 14:return h=s.type,d=Vn(h,s.pendingProps),d=Vn(h.type,d),ig(r,s,h,d,a);case 15:return sg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),Ou(r,s),s.tag=1,Jt(h)?(r=!0,pu(s)):r=!1,go(s,a),Jm(s,h,d),rd(s,h,d,a),ad(null,s,h,!0,r,a);case 19:return fg(r,s,a);case 22:return og(r,s,a)}throw Error(t(156,s.tag))};function Mg(r,s){return la(r,s)}function JT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(r,s,a,h){return new JT(r,s,a,h)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function XT(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===ze)return 14}return 2}function Si(r,s){var a=r.alternate;return a===null?(a=Sn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function $u(r,s,a,h,d,m){var E=2;if(h=r,typeof r=="function")Cd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return gs(a.children,d,m,s);case S:E=8,d|=8;break;case P:return r=Sn(12,a,s,d|2),r.elementType=P,r.lanes=m,r;case R:return r=Sn(13,a,s,d),r.elementType=R,r.lanes=m,r;case Te:return r=Sn(19,a,s,d),r.elementType=Te,r.lanes=m,r;case De:return Hu(a,d,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case x:E=9;break e;case b:E=11;break e;case ze:E=14;break e;case Ne:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Sn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=m,s}function gs(r,s,a,h){return r=Sn(7,r,h,s),r.lanes=a,r}function Hu(r,s,a,h){return r=Sn(22,r,h,s),r.elementType=De,r.lanes=a,r.stateNode={isHidden:!1},r}function Pd(r,s,a){return r=Sn(6,r,null,s),r.lanes=a,r}function kd(r,s,a){return s=Sn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function YT(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Nd(r,s,a,h,d,m,E,C,D){return r=new YT(r,s,a,C,D),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Sn(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(m),r}function ZT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Fg(r){if(!r)return pi;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return dm(r,a,s)}return s}function Ug(r,s,a,h,d,m,E,C,D){return r=Nd(a,h,!0,r,d,m,E,C,D),r.context=Fg(null),a=r.current,h=Kt(),d=wi(a),m=Or(h,d),m.callback=s??null,yi(a,m,d),r.current.lanes=d,es(r,d,h),Zt(r,h),r}function qu(r,s,a,h){var d=s.current,m=Kt(),E=wi(d);return a=Fg(a),s.context===null?s.context=a:s.pendingContext=a,s=Or(m,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=yi(d,s,E),r!==null&&(Mn(r,d,E,m),Tu(r,d,E)),E}function Wu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function xd(r,s){jg(r,s),(r=r.alternate)&&jg(r,s)}function e0(){return null}var Bg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Od(r){this._internalRoot=r}Ku.prototype.render=Od.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Ku.prototype.unmount=Od.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fs(function(){qu(null,r,null,null)}),s[Cr]=null}};function Ku(r){this._internalRoot=r}Ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=ya();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ln.length&&s!==0&&s<ln[a].priority;a++);ln.splice(a,0,r),a===0&&Ks(r)}};function Dd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function zg(){}function t0(r,s,a,h,d){if(d){if(typeof h=="function"){var m=h;h=function(){var $=Wu(E);m.call($)}}var E=Ug(s,h,r,0,null,!1,!1,"",zg);return r._reactRootContainer=E,r[Cr]=E.current,ka(r.nodeType===8?r.parentNode:r),fs(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var C=h;h=function(){var $=Wu(D);C.call($)}}var D=Nd(r,0,!1,null,null,!1,!1,"",zg);return r._reactRootContainer=D,r[Cr]=D.current,ka(r.nodeType===8?r.parentNode:r),fs(function(){qu(s,D,a,h)}),D}function Qu(r,s,a,h,d){var m=a._reactRootContainer;if(m){var E=m;if(typeof d=="function"){var C=d;d=function(){var D=Wu(E);C.call(D)}}qu(s,E,r,d)}else E=t0(a,s,r,d,h);return Wu(E)}ma=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=He(s.pendingLanes);a!==0&&(pa(s,a|1),Zt(s,Xe()),(Be&6)===0&&(wo=Xe()+500,mi()))}break;case 13:fs(function(){var h=xr(r,1);if(h!==null){var d=Kt();Mn(h,r,1,d)}}),xd(r,1)}},qs=function(r){if(r.tag===13){var s=xr(r,134217728);if(s!==null){var a=Kt();Mn(s,r,134217728,a)}xd(r,134217728)}},ga=function(r){if(r.tag===13){var s=wi(r),a=xr(r,s);if(a!==null){var h=Kt();Mn(a,r,s,h)}xd(r,s)}},ya=function(){return Fe},_a=function(r,s){var a=Fe;try{return Fe=r,s()}finally{Fe=a}},yr=function(r,s,a){switch(s){case"input":if(Hi(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=du(h);if(!d)throw Error(t(90));Zo(h),Hi(h,d)}}}break;case"textarea":Ml(r,a);break;case"select":s=a.value,s!=null&&Pn(r,!!a.multiple,s,!1)}},jl=Id,Bl=fs;var n0={usingClientEntryPoint:!1,Events:[Oa,ao,du,ti,ni,Id]},Wa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Gl(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||e0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Ji=Ju.inject(r0),on=Ju}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n0,en.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(s))throw Error(t(200));return ZT(r,s,null,a)},en.createRoot=function(r,s){if(!Dd(r))throw Error(t(299));var a=!1,h="",d=Bg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Nd(r,1,!1,null,null,a,!1,h,d),r[Cr]=s.current,ka(r.nodeType===8?r.parentNode:r),new Od(s)},en.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Gl(s),r=r===null?null:r.stateNode,r},en.flushSync=function(r){return fs(r)},en.hydrate=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!0,a)},en.hydrateRoot=function(r,s,a){if(!Dd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,m="",E=Bg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Ug(s,null,r,1,a??null,d,!1,m,E),r[Cr]=s.current,ka(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Ku(s)},en.render=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!1,a)},en.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(fs(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[Cr]=null})}),!0):!1},en.unstable_batchedUpdates=Id,en.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Gu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Qu(r,s,a,!1,h)},en.version="18.3.1-next-f1338f8080-20240426",en}var Jg;function Q_(){if(Jg)return bd.exports;Jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bd.exports=d0(),bd.exports}var Xg;function f0(){if(Xg)return Xu;Xg=1;var n=Q_();return Xu.createRoot=n.createRoot,Xu.hydrateRoot=n.hydrateRoot,Xu}var p0=f0();const m0=K_(p0);Q_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ll.apply(this,arguments)}var ki;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ki||(ki={}));const Yg="popstate";function g0(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return tf("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:_c(o)}return _0(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function J_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y0(){return Math.random().toString(36).substr(2,8)}function Zg(n,e){return{usr:n.state,key:n.key,idx:e}}function tf(n,e,t,i){return t===void 0&&(t=null),ll({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:t,key:e&&e.key||i||y0()})}function _c(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Bo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function _0(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f=ki.Pop,p=null,y=v();y==null&&(y=0,c.replaceState(ll({},c.state,{idx:y}),""));function v(){return(c.state||{idx:null}).idx}function w(){f=ki.Pop;let N=v(),re=N==null?null:N-y;y=N,p&&p({action:f,location:F.location,delta:re})}function A(N,re){f=ki.Push;let J=tf(F.location,N,re);y=v()+1;let Y=Zg(J,y),W=F.createHref(J);try{c.pushState(Y,"",W)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(W)}l&&p&&p({action:f,location:F.location,delta:1})}function U(N,re){f=ki.Replace;let J=tf(F.location,N,re);y=v();let Y=Zg(J,y),W=F.createHref(J);c.replaceState(Y,"",W),l&&p&&p({action:f,location:F.location,delta:0})}function O(N){let re=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof N=="string"?N:_c(N);return J=J.replace(/ $/,"%20"),ft(re,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,re)}let F={get action(){return f},get location(){return n(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yg,w),p=N,()=>{o.removeEventListener(Yg,w),p=null}},createHref(N){return e(o,N)},createURL:O,encodeLocation(N){let re=O(N);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:A,replace:U,go(N){return c.go(N)}};return F}var ey;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ey||(ey={}));function v0(n,e,t){return t===void 0&&(t="/"),E0(n,e,t)}function E0(n,e,t,i){let o=typeof e=="string"?Bo(e):e,l=Lf(o.pathname||"/",t);if(l==null)return null;let c=X_(n);w0(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let y=D0(l);f=N0(c[p],y)}return f}function X_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=xi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(ft(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),X_(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:P0(y,l.index),routesMeta:v})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of Y_(l.path))o(l,c,p)}),e}function Y_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Y_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function w0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:k0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const T0=/^:[\w-]+$/,S0=3,I0=2,R0=1,A0=10,C0=-2,ty=n=>n==="*";function P0(n,e){let t=n.split("/"),i=t.length;return t.some(ty)&&(i+=C0),e&&(i+=I0),t.filter(o=>!ty(o)).reduce((o,l)=>o+(T0.test(l)?S0:l===""?R0:A0),i)}function k0(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function N0(n,e,t){let{routesMeta:i}=n,o={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=x0({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),A=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:xi([l,w.pathname]),pathnameBase:M0(xi([l,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(l=xi([l,w.pathnameBase]))}return c}function x0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=O0(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,v,w)=>{let{paramName:A,isOptional:U}=v;if(A==="*"){let F=f[w]||"";c=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const O=f[w];return U&&!O?y[A]=void 0:y[A]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function O0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),J_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function D0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Lf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function V0(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Bo(n):n;return{pathname:t?t.startsWith("/")?t:L0(t,e):e,search:F0(i),hash:U0(o)}}function L0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ud(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bf(n,e){let t=b0(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Mf(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Bo(n):(o=ll({},n),ft(!o.pathname||!o.pathname.includes("?"),Ud("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Ud("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Ud("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}f=w>=0?e[w]:"/"}let p=V0(o,f),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const xi=n=>n.join("/").replace(/\/\/+/g,"/"),M0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),F0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Z_=["post","put","patch","delete"];new Set(Z_);const B0=["get",...Z_];new Set(B0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ul.apply(this,arguments)}const Ff=K.createContext(null),z0=K.createContext(null),$i=K.createContext(null),zc=K.createContext(null),Hr=K.createContext({outlet:null,matches:[],isDataRoute:!1}),ev=K.createContext(null);function $0(n,e){let{relative:t}=e===void 0?{}:e;zo()||ft(!1);let{basename:i,navigator:o}=K.useContext($i),{hash:l,pathname:c,search:f}=nv(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:xi([i,c])),o.createHref({pathname:p,search:f,hash:l})}function zo(){return K.useContext(zc)!=null}function $o(){return zo()||ft(!1),K.useContext(zc).location}function tv(n){K.useContext($i).static||K.useLayoutEffect(n)}function $c(){let{isDataRoute:n}=K.useContext(Hr);return n?rS():H0()}function H0(){zo()||ft(!1);let n=K.useContext(Ff),{basename:e,future:t,navigator:i}=K.useContext($i),{matches:o}=K.useContext(Hr),{pathname:l}=$o(),c=JSON.stringify(bf(o,t.v7_relativeSplatPath)),f=K.useRef(!1);return tv(()=>{f.current=!0}),K.useCallback(function(y,v){if(v===void 0&&(v={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let w=Mf(y,JSON.parse(c),l,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:xi([e,w.pathname])),(v.replace?i.replace:i.push)(w,v.state,v)},[e,i,c,l,n])}function q0(){let{matches:n}=K.useContext(Hr),e=n[n.length-1];return e?e.params:{}}function nv(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=K.useContext($i),{matches:o}=K.useContext(Hr),{pathname:l}=$o(),c=JSON.stringify(bf(o,i.v7_relativeSplatPath));return K.useMemo(()=>Mf(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function W0(n,e){return K0(n,e)}function K0(n,e,t,i){zo()||ft(!1);let{navigator:o}=K.useContext($i),{matches:l}=K.useContext(Hr),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=$o(),v;if(e){var w;let N=typeof e=="string"?Bo(e):e;p==="/"||(w=N.pathname)!=null&&w.startsWith(p)||ft(!1),v=N}else v=y;let A=v.pathname||"/",U=A;if(p!=="/"){let N=p.replace(/^\//,"").split("/");U="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let O=v0(n,{pathname:U}),F=Y0(O&&O.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:xi([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:xi([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i);return e&&F?K.createElement(zc.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ki.Pop}},F):F}function G0(){let n=nS(),e=j0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,null)}const Q0=K.createElement(G0,null);class J0 extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?K.createElement(Hr.Provider,{value:this.props.routeContext},K.createElement(ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X0(n){let{routeContext:e,match:t,children:i}=n,o=K.useContext(Ff);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Hr.Provider,{value:e},i)}function Y0(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);v>=0||ft(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:A,errors:U}=t,O=w.route.loader&&A[w.route.id]===void 0&&(!U||U[w.route.id]===void 0);if(w.route.lazy||O){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((v,w,A)=>{let U,O=!1,F=null,N=null;t&&(U=f&&w.route.id?f[w.route.id]:void 0,F=w.route.errorElement||Q0,p&&(y<0&&A===0?(iS("route-fallback"),O=!0,N=null):y===A&&(O=!0,N=w.route.hydrateFallbackElement||null)));let re=e.concat(c.slice(0,A+1)),J=()=>{let Y;return U?Y=F:O?Y=N:w.route.Component?Y=K.createElement(w.route.Component,null):w.route.element?Y=w.route.element:Y=v,K.createElement(X0,{match:w,routeContext:{outlet:v,matches:re,isDataRoute:t!=null},children:Y})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?K.createElement(J0,{location:t.location,revalidation:t.revalidation,component:F,error:U,children:J(),routeContext:{outlet:null,matches:re,isDataRoute:!0}}):J()},null)}var rv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(rv||{}),iv=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(iv||{});function Z0(n){let e=K.useContext(Ff);return e||ft(!1),e}function eS(n){let e=K.useContext(z0);return e||ft(!1),e}function tS(n){let e=K.useContext(Hr);return e||ft(!1),e}function sv(n){let e=tS(),t=e.matches[e.matches.length-1];return t.route.id||ft(!1),t.route.id}function nS(){var n;let e=K.useContext(ev),t=eS(),i=sv();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function rS(){let{router:n}=Z0(rv.UseNavigateStable),e=sv(iv.UseNavigateStable),t=K.useRef(!1);return tv(()=>{t.current=!0}),K.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ul({fromRouteId:e},l)))},[n,e])}const ny={};function iS(n,e,t){ny[n]||(ny[n]=!0)}function sS(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function ar(n){let{to:e,replace:t,state:i,relative:o}=n;zo()||ft(!1);let{future:l,static:c}=K.useContext($i),{matches:f}=K.useContext(Hr),{pathname:p}=$o(),y=$c(),v=Mf(e,bf(f,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(v);return K.useEffect(()=>y(JSON.parse(w),{replace:t,state:i,relative:o}),[y,w,o,t,i]),null}function Fn(n){ft(!1)}function oS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=ki.Pop,navigator:l,static:c=!1,future:f}=n;zo()&&ft(!1);let p=e.replace(/^\/*/,"/"),y=K.useMemo(()=>({basename:p,navigator:l,static:c,future:ul({v7_relativeSplatPath:!1},f)}),[p,f,l,c]);typeof i=="string"&&(i=Bo(i));let{pathname:v="/",search:w="",hash:A="",state:U=null,key:O="default"}=i,F=K.useMemo(()=>{let N=Lf(v,p);return N==null?null:{location:{pathname:N,search:w,hash:A,state:U,key:O},navigationType:o}},[p,v,w,A,U,O,o]);return F==null?null:K.createElement($i.Provider,{value:y},K.createElement(zc.Provider,{children:t,value:F}))}function aS(n){let{children:e,location:t}=n;return W0(nf(e),t)}new Promise(()=>{});function nf(n,e){e===void 0&&(e=[]);let t=[];return K.Children.forEach(n,(i,o)=>{if(!K.isValidElement(i))return;let l=[...e,o];if(i.type===K.Fragment){t.push.apply(t,nf(i.props.children,l));return}i.type!==Fn&&ft(!1),!i.props.index||!i.props.children||ft(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=nf(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rf.apply(this,arguments)}function lS(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function uS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cS(n,e){return n.button===0&&(!e||e==="_self")&&!uS(n)}const hS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dS="6";try{window.__reactRouterVersion=dS}catch{}const fS="startTransition",ry=u0[fS];function pS(n){let{basename:e,children:t,future:i,window:o}=n,l=K.useRef();l.current==null&&(l.current=g0({window:o,v5Compat:!0}));let c=l.current,[f,p]=K.useState({action:c.action,location:c.location}),{v7_startTransition:y}=i||{},v=K.useCallback(w=>{y&&ry?ry(()=>p(w)):p(w)},[p,y]);return K.useLayoutEffect(()=>c.listen(v),[c,v]),K.useEffect(()=>sS(i),[i]),K.createElement(oS,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:c,future:i})}const mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=K.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:f,target:p,to:y,preventScrollReset:v,viewTransition:w}=e,A=lS(e,hS),{basename:U}=K.useContext($i),O,F=!1;if(typeof y=="string"&&gS.test(y)&&(O=y,mS))try{let Y=new URL(window.location.href),W=y.startsWith("//")?new URL(Y.protocol+y):new URL(y),se=Lf(W.pathname,U);W.origin===Y.origin&&se!=null?y=se+W.search+W.hash:F=!0}catch{}let N=$0(y,{relative:o}),re=yS(y,{replace:c,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:w});function J(Y){i&&i(Y),Y.defaultPrevented||re(Y)}return K.createElement("a",rf({},A,{href:O||N,onClick:F||l?i:J,ref:t,target:p}))});var iy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(iy||(iy={}));var sy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function yS(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:f}=e===void 0?{}:e,p=$c(),y=$o(),v=nv(n,{relative:c});return K.useCallback(w=>{if(cS(w,t)){w.preventDefault();let A=i!==void 0?i:_c(y)===_c(v);p(n,{replace:A,state:o,preventScrollReset:l,relative:c,viewTransition:f})}},[y,p,v,i,o,t,n,l,c,f])}const _S=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let A=(f&15)<<2|y>>6,U=y&63;p||(U=64,c||(A=64)),i.push(t[v],t[w],t[A],t[U])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ov(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||w==null)throw new ES;const A=l<<2|f>>4;if(i.push(A),y!==64){const U=f<<4&240|y>>2;if(i.push(U),w!==64){const O=y<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(n){const e=ov(n);return av.encodeByteArray(e,!0)},vc=function(n){return wS(n).replace(/\./g,"")},lv=function(n){try{return av.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=()=>TS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lv(n[1]);return e&&JSON.parse(e)},Hc=()=>{try{return _S()||SS()||IS()||RS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uv=n=>{var e,t;return(t=(e=Hc())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},AS=n=>{const e=uv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},cv=()=>{var n;return(n=Hc())==null?void 0:n.config},hv=n=>{var e;return(e=Hc())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vc(JSON.stringify(t)),vc(JSON.stringify(c)),""].join(".")}const tl={};function kS(){const n={prod:[],emulator:[]};for(const e of Object.keys(tl))tl[e]?n.emulator.push(e):n.prod.push(e);return n}function NS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ay=!1;function fv(n,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||tl[n]===e||tl[n]||ay)return;tl[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=kS().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{ay=!0,c()},A}function v(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=NS(i),U=t("text"),O=document.getElementById(U)||document.createElement("span"),F=t("learnmore"),N=document.getElementById(F)||document.createElement("a"),re=t("preprendIcon"),J=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Y=A.element;f(Y),v(N,F);const W=y();p(J,re),Y.append(J,O,N,W),document.body.appendChild(Y)}l?(O.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function OS(){var e;const n=(e=Hc())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="FirebaseError";class qr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jS,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?BS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new qr(o,f,i)}}function BS(n,e){return n.replace(zS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zS=/\{\$([^}]+)}/g;function $S(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ss(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(ly(l)&&ly(c)){if(!Ss(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ly(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ja(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HS(n,e){const t=new qS(n,e);return t.subscribe.bind(t)}class qS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");WS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new CS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QS(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(n){return n===ys?void 0:n}function QS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const XS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},YS=Le.INFO,ZS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},eI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ZS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uf{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const tI=(n,e)=>e.some(t=>n instanceof t);let uy,cy;function nI(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pv=new WeakMap,sf=new WeakMap,mv=new WeakMap,Bd=new WeakMap,jf=new WeakMap;function iI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Oi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&pv.set(t,n)}).catch(()=>{}),jf.set(e,n),e}function sI(n){if(sf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});sf.set(n,e)}let of={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oI(n){of=n(of)}function aI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zd(this),e,...t);return mv.set(i,e.sort?e.sort():[e]),Oi(i)}:rI().includes(n)?function(...e){return n.apply(zd(this),e),Oi(pv.get(this))}:function(...e){return Oi(n.apply(zd(this),e))}}function lI(n){return typeof n=="function"?aI(n):(n instanceof IDBTransaction&&sI(n),tI(n,nI())?new Proxy(n,of):n)}function Oi(n){if(n instanceof IDBRequest)return iI(n);if(Bd.has(n))return Bd.get(n);const e=lI(n);return e!==n&&(Bd.set(n,e),jf.set(e,n)),e}const zd=n=>jf.get(n);function uI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=Oi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Oi(c.result),p.oldVersion,p.newVersion,Oi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const cI=["get","getKey","getAll","getAllKeys","count"],hI=["put","add","delete","clear"],$d=new Map;function hy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=hI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cI.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return $d.set(e,l),l}oI(n=>({...n,get:(e,t,i)=>hy(e,t)||n.get(e,t,i),has:(e,t)=>!!hy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function fI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const af="@firebase/app",dy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Uf("@firebase/app"),pI="@firebase/app-compat",mI="@firebase/analytics-compat",gI="@firebase/analytics",yI="@firebase/app-check-compat",_I="@firebase/app-check",vI="@firebase/auth",EI="@firebase/auth-compat",wI="@firebase/database",TI="@firebase/data-connect",SI="@firebase/database-compat",II="@firebase/functions",RI="@firebase/functions-compat",AI="@firebase/installations",CI="@firebase/installations-compat",PI="@firebase/messaging",kI="@firebase/messaging-compat",NI="@firebase/performance",xI="@firebase/performance-compat",OI="@firebase/remote-config",DI="@firebase/remote-config-compat",VI="@firebase/storage",LI="@firebase/storage-compat",bI="@firebase/firestore",MI="@firebase/ai",FI="@firebase/firestore-compat",UI="firebase",jI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",BI={[af]:"fire-core",[pI]:"fire-core-compat",[gI]:"fire-analytics",[mI]:"fire-analytics-compat",[_I]:"fire-app-check",[yI]:"fire-app-check-compat",[vI]:"fire-auth",[EI]:"fire-auth-compat",[wI]:"fire-rtdb",[TI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[II]:"fire-fn",[RI]:"fire-fn-compat",[AI]:"fire-iid",[CI]:"fire-iid-compat",[PI]:"fire-fcm",[kI]:"fire-fcm-compat",[NI]:"fire-perf",[xI]:"fire-perf-compat",[OI]:"fire-rc",[DI]:"fire-rc-compat",[VI]:"fire-gcs",[LI]:"fire-gcs-compat",[bI]:"fire-fst",[FI]:"fire-fst-compat",[MI]:"fire-vertex","fire-js":"fire-js",[UI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,zI=new Map,uf=new Map;function fy(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xo(n){const e=n.name;if(uf.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,n);for(const t of Ec.values())fy(t,n);for(const t of zI.values())fy(t,n);return!0}function Bf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new wl("app","Firebase",$I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=jI;function gv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:lf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(t||(t=cv()),!t)throw Di.create("no-options");const l=Ec.get(o);if(l){if(Ss(t,l.options)&&Ss(i,l.config))return l;throw Di.create("duplicate-app",{appName:o})}const c=new JS(o);for(const p of uf.values())c.addComponent(p);const f=new HI(t,i,c);return Ec.set(o,f),f}function yv(n=lf){const e=Ec.get(n);if(!e&&n===lf&&cv())return gv();if(!e)throw Di.create("no-app",{appName:n});return e}function Vi(n,e,t){let i=BI[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(c.join(" "));return}xo(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",WI=1,cl="firebase-heartbeat-store";let Hd=null;function _v(){return Hd||(Hd=uI(qI,WI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),Hd}async function KI(n){try{const t=(await _v()).transaction(cl),i=await t.objectStore(cl).get(vv(n));return await t.done,i}catch(e){if(e instanceof qr)jr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function py(n,e){try{const i=(await _v()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,vv(n)),await i.done}catch(t){if(t instanceof qr)jr.warn(t.message);else{const i=Di.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(i.message)}}}function vv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,QI=30;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=my();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>QI){const c=ZI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=my(),{heartbeatsToSend:i,unsentEntries:o}=XI(this._heartbeatsCache.heartbeats),l=vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return jr.warn(t),""}}}function my(){return new Date().toISOString().substring(0,10)}function XI(n,e=GI){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),gy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),gy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class YI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gy(n){return vc(JSON.stringify({version:2,heartbeats:n})).length}function ZI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){xo(new Is("platform-logger",e=>new dI(e),"PRIVATE")),xo(new Is("heartbeat",e=>new JI(e),"PRIVATE")),Vi(af,dy,n),Vi(af,dy,"esm2020"),Vi("fire-js","")}e1("");var t1="firebase",n1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(t1,n1,"app");function Ev(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r1=Ev,wv=new wl("auth","Firebase",Ev());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Uf("@firebase/auth");function i1(n,...e){wc.logLevel<=Le.WARN&&wc.warn(`Auth (${qo}): ${n}`,...e)}function sc(n,...e){wc.logLevel<=Le.ERROR&&wc.error(`Auth (${qo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw $f(n,...e)}function Bn(n,...e){return $f(n,...e)}function zf(n,e,t){const i={...r1(),[e]:t};return new wl("auth","Firebase",i).create(e,{appName:n.name})}function Fr(n){return zf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s1(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Cn(n,"argument-error"),zf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $f(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wv.create(n,...e)}function Ee(n,e,...t){if(!n)throw $f(e,...t)}function br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sc(e),new Error(e)}function Br(n,e){n||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function o1(){return yy()==="http:"||yy()==="https:"}function yy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o1()||VS()||"connection"in navigator)?navigator.onLine:!0}function l1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,"Short delay should be less than long delay!"),this.isMobile=xS()||LS()}get(){return a1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e){Br(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h1=new Sl(3e4,6e4);function Wr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Kr(n,e,t,i,o={}){return Sv(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Tl({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return DS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(y.credentials="include"),Tv.fetch()(await Iv(n,n.config.apiHost,t,f),y)})}async function Sv(n,e,t){n._canInitEmulator=!1;const i={...u1,...e};try{const o=new f1(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yu(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zf(n,v,y);Cn(n,v)}}catch(o){if(o instanceof qr)throw o;Cn(n,"network-request-failed",{message:String(o)})}}async function Il(n,e,t,i,o={}){const l=await Kr(n,e,t,i,o);return"mfaPendingCredential"in l&&Cn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Iv(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Hf(n.config,o):`${n.config.apiScheme}://${o}`;return c1.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function d1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bn(this.auth,"network-request-failed")),h1.get())})}}function Yu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Bn(n,e,i);return o.customData._tokenResponse=t,o}function _y(n){return n!==void 0&&n.enterprise!==void 0}class p1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return d1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m1(n,e){return Kr(n,"GET","/v2/recaptchaConfig",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n,e){return Kr(n,"POST","/v1/accounts:delete",e)}async function Tc(n,e){return Kr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y1(n,e=!1){const t=sn(n),i=await t.getIdToken(e),o=qf(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:nl(qd(o.auth_time)),issuedAtTime:nl(qd(o.iat)),expirationTime:nl(qd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function qd(n){return Number(n)*1e3}function qf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=lv(t);return o?JSON.parse(o):(sc("Failed to decode base64 JWT payload"),null)}catch(o){return sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vy(n){const e=qf(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof qr&&_1(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n){var w;const e=n.auth,t=await n.getIdToken(),i=await hl(n,Tc(e,{idToken:t}));Ee(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(w=o.providerUserInfo)!=null&&w.length?Rv(o.providerUserInfo):[],c=w1(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function E1(n){const e=sn(n);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w1(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Rv(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(n,e){const t=await Sv(n,{},async()=>{const i=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await Iv(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(p.credentials="include"),Tv.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function S1(n,e){return Kr(n,"POST","/v2/accounts:revokeToken",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=vy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await T1(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Co;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new v1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await hl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return y1(this,e)}reload(){return E1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await hl(this,g1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:U,providerData:O,stsTokenManager:F}=t;Ee(w&&F,e,"internal-error");const N=Co.fromJSON(this.name,F);Ee(typeof w=="string",e,"internal-error"),Ri(i,e.name),Ri(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof U=="boolean",e,"internal-error"),Ri(l,e.name),Ri(c,e.name),Ri(f,e.name),Ri(p,e.name),Ri(y,e.name),Ri(v,e.name);const re=new Un({uid:w,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:U,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:y,lastLoginAt:v});return O&&Array.isArray(O)&&(re.providerData=O.map(J=>({...J}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,t,i=!1){const o=new Co;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Sc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Rv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Co;f.updateFromIdToken(i);const p=new Un({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Map;function Mr(n){Br(n instanceof Function,"Expected a class definition");let e=Ey.get(n);return e?(Br(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ey.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Av.type="NONE";const wy=Av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=oc(this.userKey,o.apiKey,l),this.fullPersistenceKey=oc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tc(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Po(Mr(wy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Mr(wy);const c=oc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(c);if(v){let w;if(typeof v=="string"){const A=await Tc(e,{idToken:v}).catch(()=>{});if(!A)break;w=await Un._fromGetAccountInfoResponse(e,A,v)}else w=Un._fromJSON(e,v);y!==l&&(f=w),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Po(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Po(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ov(e))return"Blackberry";if(Dv(e))return"Webos";if(Pv(e))return"Safari";if((e.includes("chrome/")||kv(e))&&!e.includes("edge/"))return"Chrome";if(xv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Cv(n=Ht()){return/firefox\//i.test(n)}function Pv(n=Ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kv(n=Ht()){return/crios\//i.test(n)}function Nv(n=Ht()){return/iemobile/i.test(n)}function xv(n=Ht()){return/android/i.test(n)}function Ov(n=Ht()){return/blackberry/i.test(n)}function Dv(n=Ht()){return/webos/i.test(n)}function Wf(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I1(n=Ht()){var e;return Wf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function R1(){return bS()&&document.documentMode===10}function Vv(n=Ht()){return Wf(n)||xv(n)||Dv(n)||Ov(n)||/windows phone/i.test(n)||Nv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n,e=[]){let t;switch(n){case"Browser":t=Ty(Ht());break;case"Worker":t=`${Ty(Ht())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(n,e={}){return Kr(n,"GET","/v2/passwordPolicy",Wr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=6;class k1{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??P1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sy(this),this.idTokenSubscription=new Sy(this),this.beforeStateQueue=new A1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tc(this,{idToken:e}),i=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Fr(this));const t=e?sn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C1(this),t=new k1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await S1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&i1(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gr(n){return sn(n)}class Sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=HS(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x1(n){qc=n}function bv(n){return qc.loadJS(n)}function O1(){return qc.recaptchaEnterpriseScript}function D1(){return qc.gapiScript}function V1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class L1{constructor(){this.enterprise=new b1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class b1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const M1="recaptcha-enterprise",Mv="NO_RECAPTCHA";class F1{constructor(e){this.type=M1,this.auth=Gr(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{m1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new p1(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,c,f){const p=window.grecaptcha;_y(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(Mv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L1().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&_y(window.grecaptcha))o(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=O1();p.length!==0&&(p+=f),bv(p).then(()=>{o(f,l,c)}).catch(y=>{c(y)})}}).catch(f=>{c(f)})})}}async function Iy(n,e,t,i=!1,o=!1){const l=new F1(n);let c;if(o)c=Mv;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ic(n,e,t,i,o){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Iy(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Iy(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,e){const t=Bf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ss(l,e??{}))return o;Cn(o,"already-initialized")}return t.initialize({options:e})}function j1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Mr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function B1(n,e,t){const i=Gr(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Fv(e),{host:c,port:f}=z1(e),p=f===null?"":`:${f}`,y={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(Ss(y,i.config.emulator)&&Ss(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ho(c)?(dv(`${l}//${c}${p}`),fv("Auth",!0)):$1()}function Fv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z1(n){const e=Fv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Ry(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ry(c)}}}function Ry(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function H1(n,e){return Kr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(n,e){return Il(n,"POST","/v1/accounts:signInWithPassword",Wr(n,e))}async function Uv(n,e){return Kr(n,"POST","/v1/accounts:sendOobCode",Wr(n,e))}async function W1(n,e){return Uv(n,e)}async function K1(n,e){return Uv(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(n,e){return Il(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))}async function Q1(n,e){return Il(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Kf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new dl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ic(e,t,"signInWithPassword",q1);case"emailLink":return G1(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ic(e,i,"signUpPassword",H1);case"emailLink":return Q1(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(n,e){return Il(n,"POST","/v1/accounts:signInWithIdp",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="http://localhost";class Rs extends Kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new Rs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ko(e,t)}buildRequest(){const e={requestUri:J1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y1(n){const e=Qa(Ja(n)).link,t=e?Qa(Ja(e)).deep_link_id:null,i=Qa(Ja(n)).deep_link_id;return(i?Qa(Ja(i)).link:null)||i||t||e||n}class Gf{constructor(e){const t=Qa(Ja(e)),i=t.apiKey??null,o=t.oobCode??null,l=X1(t.mode??null);Ee(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Y1(e);try{return new Gf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return dl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Gf.parseLink(t);return Ee(i,"argument-error"),dl._fromEmailAndCode(e,i.code,i.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Rl{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Lr.credential(t,i)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Rl{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Rl{constructor(){super("twitter.com")}static credential(e,t){return Rs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(n,e){return Il(n,"POST","/v1/accounts:signUp",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Un._fromIdTokenResponse(e,i,o),c=Ay(i);return new As({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ay(i);return new As({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ay(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends qr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Rc(e,t,i,o)}}function jv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(n,l,e,i):l})}async function eR(n,e,t=!1){const i=await hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return As._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e,t=!1){const{auth:i}=n;if(mn(i.app))return Promise.reject(Fr(i));const o="reauthenticate";try{const l=await hl(n,jv(i,o,e,n),t);Ee(l.idToken,i,"internal-error");const c=qf(l.idToken);Ee(c,i,"internal-error");const{sub:f}=c;return Ee(n.uid===f,i,"user-mismatch"),As._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Cn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(n,e,t=!1){if(mn(n.app))return Promise.reject(Fr(n));const i="signIn",o=await jv(n,i,e),l=await As._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function nR(n,e){return Bv(Gr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(n){const e=Gr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rR(n,e,t){const i=Gr(n);await Ic(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",K1)}async function iR(n,e,t){if(mn(n.app))return Promise.reject(Fr(n));const i=Gr(n),c=await Ic(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zv(n),p}),f=await As._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function sR(n,e,t){return mn(n.app)?Promise.reject(Fr(n)):nR(sn(n),Wo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zv(n),i})}async function $v(n,e){const t=sn(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await W1(t.auth,o);l!==n.email&&await n.reload()}function oR(n,e,t,i){return sn(n).onIdTokenChanged(e,t,i)}function aR(n,e,t){return sn(n).beforeAuthStateChanged(e,t)}function lR(n,e,t,i){return sn(n).onAuthStateChanged(e,t,i)}function uR(n){return sn(n).signOut()}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1e3,hR=10;class qv extends Hv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);R1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qv.type="LOCAL";const dR=qv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Hv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wv.type="SESSION";const Kv=Wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Wc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async y=>y(t.origin,l)),p=await fR(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const y=Jf("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function mR(n){cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function gR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function _R(){return Gv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="firebaseLocalStorageDb",vR=1,Cc="firebaseLocalStorage",Jv="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kc(n,e){return n.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function ER(){const n=indexedDB.deleteDatabase(Qv);return new Al(n).toPromise()}function df(){const n=indexedDB.open(Qv,vR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cc,{keyPath:Jv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await ER(),e(await df()))})})}async function Cy(n,e,t){const i=Kc(n,!0).put({[Jv]:e,value:t});return new Al(i).toPromise()}async function wR(n,e){const t=Kc(n,!1).get(e),i=await new Al(t).toPromise();return i===void 0?null:i.value}function Py(n,e){const t=Kc(n,!0).delete(e);return new Al(t).toPromise()}const TR=800,SR=3;class Xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await df(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>SR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(_R()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await gR(),!this.activeServiceWorker)return;this.sender=new pR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await df();return await Cy(e,Ac,"1"),await Py(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>wR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Kc(o,!1).getAll();return new Al(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xv.type="LOCAL";const IR=Xv;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n,e){return e?Mr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RR(n){return Bv(n.auth,new Xf(n),n.bypassAuthState)}function AR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),tR(t,new Xf(n),n.bypassAuthState)}async function CR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),eR(t,new Xf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RR;case"linkViaPopup":case"linkViaRedirect":return CR;case"reauthViaPopup":case"reauthViaRedirect":return AR;default:Cn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Sl(2e3,1e4);async function kR(n,e,t){if(mn(n.app))return Promise.reject(Bn(n,"operation-not-supported-in-this-environment"));const i=Gr(n);s1(n,e,Qf);const o=Yv(i,t);return new _s(i,"signInViaPopup",e,o).executeNotNull()}class _s extends Zv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Jf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PR.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="pendingRedirect",ac=new Map;class xR extends Zv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const i=await OR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OR(n,e){const t=LR(e),i=VR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function DR(n,e){ac.set(n._key(),e)}function VR(n){return Mr(n._redirectPersistence)}function LR(n){return oc(NR,n.config.apiKey,n.name)}async function bR(n,e,t=!1){if(mn(n.app))return Promise.reject(Fr(n));const i=Gr(n),o=Yv(i,e),c=await new xR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=600*1e3;class FR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!eE(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e={}){return Kr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zR=/^https?/;async function $R(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jR(n);for(const t of e)try{if(HR(t))return}catch{}Cn(n,"unauthorized-domain")}function HR(n){const e=cf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!zR.test(t))return!1;if(BR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Sl(3e4,6e4);function Ny(){const n=cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WR(n){return new Promise((e,t)=>{var o,l,c;function i(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),t(Bn(n,"network-request-failed"))},timeout:qR.get()})}if((l=(o=cr().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=cr().gapi)!=null&&c.load)i();else{const f=V1("iframefcb");return cr()[f]=()=>{gapi.load?i():t(Bn(n,"network-request-failed"))},bv(`${D1()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw lc=null,e})}let lc=null;function KR(n){return lc=lc||WR(n),lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Sl(5e3,15e3),QR="__/auth/iframe",JR="emulator/auth/iframe",XR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZR(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hf(e,JR):`https://${n.config.authDomain}/${QR}`,i={apiKey:e.apiKey,appName:n.name,v:qo},o=YR.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Tl(i).slice(1)}`}async function eA(n){const e=await KR(n),t=cr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:ZR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Bn(n,"network-request-failed"),f=cr().setTimeout(()=>{l(c)},GR.get());function p(){cr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nA=500,rA=600,iA="_blank",sA="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oA(n,e,t,i=nA,o=rA){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...tA,width:i.toString(),height:o.toString(),top:l,left:c},y=Ht().toLowerCase();t&&(f=kv(y)?iA:t),Cv(y)&&(e=e||sA,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[U,O])=>`${A}${U}=${O},`,"");if(I1(y)&&f!=="_self")return aA(e||"",f),new xy(null);const w=window.open(e||"",f,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new xy(w)}function aA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__/auth/handler",uA="emulator/auth/handler",cA=encodeURIComponent("fac");async function Oy(n,e,t,i,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:qo,eventId:o};if(e instanceof Qf){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",$S(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof Rl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await n._getAppCheckToken(),y=p?`#${cA}=${encodeURIComponent(p)}`:"";return`${hA(n)}?${Tl(f).slice(1)}${y}`}function hA({config:n}){return n.emulator?Hf(n,uA):`https://${n.authDomain}/${lA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class dA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=bR,this._overrideRedirectResult=DR}async _openPopup(e,t,i,o){var c;Br((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Oy(e,t,i,cf(),o);return oA(e,l,Jf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Oy(e,t,i,cf(),o);return mR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Br(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await eA(e),i=new FR(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wd,{type:Wd},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[Wd];l!==void 0&&t(!!l),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$R(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vv()||Pv()||Wf()}}const fA=dA;var Dy="@firebase/auth",Vy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gA(n){xo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(n)},y=new N1(i,o,l,p);return j1(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),xo(new Is("auth-internal",e=>{const t=Gr(e.getProvider("auth").getImmediate());return(i=>new pA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(Dy,Vy,mA(n)),Vi(Dy,Vy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=300,_A=hv("authIdTokenMaxAge")||yA;let Ly=null;const vA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_A)return;const o=t==null?void 0:t.token;Ly!==o&&(Ly=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EA(n=yv()){const e=Bf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=U1(n,{popupRedirectResolver:fA,persistence:[IR,dR,Kv]}),i=hv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=vA(l.toString());aR(t,c,()=>c(t.currentUser)),oR(t,f=>c(f))}}const o=uv("auth");return o&&B1(t,`http://${o}`),t}function wA(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}x1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Bn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",wA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gA("Browser");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,tE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function P(){}P.prototype=S.prototype,k.F=S.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(V,x,b){for(var R=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)R[Te-2]=arguments[Te];return S.prototype[x].apply(V,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,P){P||(P=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(x=0;x<16;++x)V[x]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=k.g[0],P=k.g[1],x=k.g[2];let b=k.g[3],R;R=S+(b^P&(x^b))+V[0]+3614090360&4294967295,S=P+(R<<7&4294967295|R>>>25),R=b+(x^S&(P^x))+V[1]+3905402710&4294967295,b=S+(R<<12&4294967295|R>>>20),R=x+(P^b&(S^P))+V[2]+606105819&4294967295,x=b+(R<<17&4294967295|R>>>15),R=P+(S^x&(b^S))+V[3]+3250441966&4294967295,P=x+(R<<22&4294967295|R>>>10),R=S+(b^P&(x^b))+V[4]+4118548399&4294967295,S=P+(R<<7&4294967295|R>>>25),R=b+(x^S&(P^x))+V[5]+1200080426&4294967295,b=S+(R<<12&4294967295|R>>>20),R=x+(P^b&(S^P))+V[6]+2821735955&4294967295,x=b+(R<<17&4294967295|R>>>15),R=P+(S^x&(b^S))+V[7]+4249261313&4294967295,P=x+(R<<22&4294967295|R>>>10),R=S+(b^P&(x^b))+V[8]+1770035416&4294967295,S=P+(R<<7&4294967295|R>>>25),R=b+(x^S&(P^x))+V[9]+2336552879&4294967295,b=S+(R<<12&4294967295|R>>>20),R=x+(P^b&(S^P))+V[10]+4294925233&4294967295,x=b+(R<<17&4294967295|R>>>15),R=P+(S^x&(b^S))+V[11]+2304563134&4294967295,P=x+(R<<22&4294967295|R>>>10),R=S+(b^P&(x^b))+V[12]+1804603682&4294967295,S=P+(R<<7&4294967295|R>>>25),R=b+(x^S&(P^x))+V[13]+4254626195&4294967295,b=S+(R<<12&4294967295|R>>>20),R=x+(P^b&(S^P))+V[14]+2792965006&4294967295,x=b+(R<<17&4294967295|R>>>15),R=P+(S^x&(b^S))+V[15]+1236535329&4294967295,P=x+(R<<22&4294967295|R>>>10),R=S+(x^b&(P^x))+V[1]+4129170786&4294967295,S=P+(R<<5&4294967295|R>>>27),R=b+(P^x&(S^P))+V[6]+3225465664&4294967295,b=S+(R<<9&4294967295|R>>>23),R=x+(S^P&(b^S))+V[11]+643717713&4294967295,x=b+(R<<14&4294967295|R>>>18),R=P+(b^S&(x^b))+V[0]+3921069994&4294967295,P=x+(R<<20&4294967295|R>>>12),R=S+(x^b&(P^x))+V[5]+3593408605&4294967295,S=P+(R<<5&4294967295|R>>>27),R=b+(P^x&(S^P))+V[10]+38016083&4294967295,b=S+(R<<9&4294967295|R>>>23),R=x+(S^P&(b^S))+V[15]+3634488961&4294967295,x=b+(R<<14&4294967295|R>>>18),R=P+(b^S&(x^b))+V[4]+3889429448&4294967295,P=x+(R<<20&4294967295|R>>>12),R=S+(x^b&(P^x))+V[9]+568446438&4294967295,S=P+(R<<5&4294967295|R>>>27),R=b+(P^x&(S^P))+V[14]+3275163606&4294967295,b=S+(R<<9&4294967295|R>>>23),R=x+(S^P&(b^S))+V[3]+4107603335&4294967295,x=b+(R<<14&4294967295|R>>>18),R=P+(b^S&(x^b))+V[8]+1163531501&4294967295,P=x+(R<<20&4294967295|R>>>12),R=S+(x^b&(P^x))+V[13]+2850285829&4294967295,S=P+(R<<5&4294967295|R>>>27),R=b+(P^x&(S^P))+V[2]+4243563512&4294967295,b=S+(R<<9&4294967295|R>>>23),R=x+(S^P&(b^S))+V[7]+1735328473&4294967295,x=b+(R<<14&4294967295|R>>>18),R=P+(b^S&(x^b))+V[12]+2368359562&4294967295,P=x+(R<<20&4294967295|R>>>12),R=S+(P^x^b)+V[5]+4294588738&4294967295,S=P+(R<<4&4294967295|R>>>28),R=b+(S^P^x)+V[8]+2272392833&4294967295,b=S+(R<<11&4294967295|R>>>21),R=x+(b^S^P)+V[11]+1839030562&4294967295,x=b+(R<<16&4294967295|R>>>16),R=P+(x^b^S)+V[14]+4259657740&4294967295,P=x+(R<<23&4294967295|R>>>9),R=S+(P^x^b)+V[1]+2763975236&4294967295,S=P+(R<<4&4294967295|R>>>28),R=b+(S^P^x)+V[4]+1272893353&4294967295,b=S+(R<<11&4294967295|R>>>21),R=x+(b^S^P)+V[7]+4139469664&4294967295,x=b+(R<<16&4294967295|R>>>16),R=P+(x^b^S)+V[10]+3200236656&4294967295,P=x+(R<<23&4294967295|R>>>9),R=S+(P^x^b)+V[13]+681279174&4294967295,S=P+(R<<4&4294967295|R>>>28),R=b+(S^P^x)+V[0]+3936430074&4294967295,b=S+(R<<11&4294967295|R>>>21),R=x+(b^S^P)+V[3]+3572445317&4294967295,x=b+(R<<16&4294967295|R>>>16),R=P+(x^b^S)+V[6]+76029189&4294967295,P=x+(R<<23&4294967295|R>>>9),R=S+(P^x^b)+V[9]+3654602809&4294967295,S=P+(R<<4&4294967295|R>>>28),R=b+(S^P^x)+V[12]+3873151461&4294967295,b=S+(R<<11&4294967295|R>>>21),R=x+(b^S^P)+V[15]+530742520&4294967295,x=b+(R<<16&4294967295|R>>>16),R=P+(x^b^S)+V[2]+3299628645&4294967295,P=x+(R<<23&4294967295|R>>>9),R=S+(x^(P|~b))+V[0]+4096336452&4294967295,S=P+(R<<6&4294967295|R>>>26),R=b+(P^(S|~x))+V[7]+1126891415&4294967295,b=S+(R<<10&4294967295|R>>>22),R=x+(S^(b|~P))+V[14]+2878612391&4294967295,x=b+(R<<15&4294967295|R>>>17),R=P+(b^(x|~S))+V[5]+4237533241&4294967295,P=x+(R<<21&4294967295|R>>>11),R=S+(x^(P|~b))+V[12]+1700485571&4294967295,S=P+(R<<6&4294967295|R>>>26),R=b+(P^(S|~x))+V[3]+2399980690&4294967295,b=S+(R<<10&4294967295|R>>>22),R=x+(S^(b|~P))+V[10]+4293915773&4294967295,x=b+(R<<15&4294967295|R>>>17),R=P+(b^(x|~S))+V[1]+2240044497&4294967295,P=x+(R<<21&4294967295|R>>>11),R=S+(x^(P|~b))+V[8]+1873313359&4294967295,S=P+(R<<6&4294967295|R>>>26),R=b+(P^(S|~x))+V[15]+4264355552&4294967295,b=S+(R<<10&4294967295|R>>>22),R=x+(S^(b|~P))+V[6]+2734768916&4294967295,x=b+(R<<15&4294967295|R>>>17),R=P+(b^(x|~S))+V[13]+1309151649&4294967295,P=x+(R<<21&4294967295|R>>>11),R=S+(x^(P|~b))+V[4]+4149444226&4294967295,S=P+(R<<6&4294967295|R>>>26),R=b+(P^(S|~x))+V[11]+3174756917&4294967295,b=S+(R<<10&4294967295|R>>>22),R=x+(S^(b|~P))+V[2]+718787259&4294967295,x=b+(R<<15&4294967295|R>>>17),R=P+(b^(x|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+b&4294967295}i.prototype.v=function(k,S){S===void 0&&(S=k.length);const P=S-this.blockSize,V=this.C;let x=this.h,b=0;for(;b<S;){if(x==0)for(;b<=P;)o(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<S;)if(V[x++]=k.charCodeAt(b++),x==this.blockSize){o(this,V),x=0;break}}else for(;b<S;)if(V[x++]=k[b++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=S},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)k[S++]=this.g[P]>>>V&255;return k};function l(k,S){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=S(k)}function c(k,S){this.h=S;const P=[];let V=!0;for(let x=k.length-1;x>=0;x--){const b=k[x]|0;V&&b==S||(P[x]=b,V=!1)}this.g=P}var f={};function p(k){return-128<=k&&k<128?l(k,function(S){return new c([S|0],S<0?-1:0)}):new c([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return N(y(-k));const S=[];let P=1;for(let V=0;k>=P;V++)S[V]=k/P|0,P*=4294967296;return new c(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(v(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=y(Math.pow(S,8));let V=w;for(let b=0;b<k.length;b+=8){var x=Math.min(8,k.length-b);const R=parseInt(k.substring(b,b+x),S);x<8?(x=y(Math.pow(S,x)),V=V.j(x).add(y(R))):(V=V.j(P),V=V.add(y(R)))}return V}var w=p(0),A=p(1),U=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-N(this).m();let k=0,S=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);k+=(V>=0?V:4294967296+V)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(F(this))return"-"+N(this).toString(k);const S=y(Math.pow(k,6));var P=this;let V="";for(;;){const x=W(P,S).g;P=re(P,x.j(S));let b=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=x,O(P))return b+V;for(;b.length<6;)b="0"+b;V=b+V}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function F(k){return k.h==-1}n.l=function(k){return k=re(this,k),F(k)?-1:O(k)?0:1};function N(k){const S=k.g.length,P=[];for(let V=0;V<S;V++)P[V]=~k.g[V];return new c(P,~k.h).add(A)}n.abs=function(){return F(this)?N(this):this},n.add=function(k){const S=Math.max(this.g.length,k.g.length),P=[];let V=0;for(let x=0;x<=S;x++){let b=V+(this.i(x)&65535)+(k.i(x)&65535),R=(b>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);V=R>>>16,b&=65535,R&=65535,P[x]=R<<16|b}return new c(P,P[P.length-1]&-2147483648?-1:0)};function re(k,S){return k.add(N(S))}n.j=function(k){if(O(this)||O(k))return w;if(F(this))return F(k)?N(this).j(N(k)):N(N(this).j(k));if(F(k))return N(this.j(N(k)));if(this.l(U)<0&&k.l(U)<0)return y(this.m()*k.m());const S=this.g.length+k.g.length,P=[];for(var V=0;V<2*S;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<k.g.length;x++){const b=this.i(V)>>>16,R=this.i(V)&65535,Te=k.i(x)>>>16,ze=k.i(x)&65535;P[2*V+2*x]+=R*ze,J(P,2*V+2*x),P[2*V+2*x+1]+=b*ze,J(P,2*V+2*x+1),P[2*V+2*x+1]+=R*Te,J(P,2*V+2*x+1),P[2*V+2*x+2]+=b*Te,J(P,2*V+2*x+2)}for(k=0;k<S;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=S;k<2*S;k++)P[k]=0;return new c(P,0)};function J(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function W(k,S){if(O(S))throw Error("division by zero");if(O(k))return new Y(w,w);if(F(k))return S=W(N(k),S),new Y(N(S.g),N(S.h));if(F(S))return S=W(k,N(S)),new Y(N(S.g),S.h);if(k.g.length>30){if(F(k)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var P=A,V=S;V.l(k)<=0;)P=se(P),V=se(V);var x=de(P,1),b=de(V,1);for(V=de(V,2),P=de(P,2);!O(V);){var R=b.add(V);R.l(k)<=0&&(x=x.add(P),b=R),V=de(V,1),P=de(P,1)}return S=re(k,x.j(S)),new Y(x,S)}for(x=w;k.l(S)>=0;){for(P=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),b=y(P),R=b.j(S);F(R)||R.l(k)>0;)P-=V,b=y(P),R=b.j(S);O(b)&&(b=A),x=x.add(b),k=re(k,R)}return new Y(x,k)}n.B=function(k){return W(this,k).h},n.and=function(k){const S=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<S;V++)P[V]=this.i(V)&k.i(V);return new c(P,this.h&k.h)},n.or=function(k){const S=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<S;V++)P[V]=this.i(V)|k.i(V);return new c(P,this.h|k.h)},n.xor=function(k){const S=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<S;V++)P[V]=this.i(V)^k.i(V);return new c(P,this.h^k.h)};function se(k){const S=k.g.length+1,P=[];for(let V=0;V<S;V++)P[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(P,k.h)}function de(k,S){const P=S>>5;S%=32;const V=k.g.length-P,x=[];for(let b=0;b<V;b++)x[b]=S>0?k.i(b+P)>>>S|k.i(b+P+1)<<32-S:k.i(b+P);return new c(x,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,tE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Li=c}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Xa,rE,uc,ff,iE,sE,oE;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in _))break e;_=_[B]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&_.push([T,g[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,_){return u.call.apply(u.bind,arguments)}function y(u,g,_){return y=p,y.apply(null,arguments)}function v(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,B,H){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return g.prototype[B].apply(T,oe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const g=u.length;if(g>0){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function O(u,g){for(let T=1;T<arguments.length;T++){const B=arguments[T];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const H=B.length||0;u.length=_+H;for(let oe=0;oe<H;oe++)u[_+oe]=B[oe]}else u.push(B)}}class F{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function N(u){c.setTimeout(()=>{throw u},0)}function re(){var u=k;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,_){const T=Y.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Y=new F(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,k=new J,S=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(P)}};function P(){for(var u;u=re();){try{u.h.call(u.g)}catch(_){N(_)}var g=Y;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,g),c.removeEventListener("test",_,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Te(u,g){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}w(Te,x),Te.prototype.init=function(u,g){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),Ne=0;function De(u,g,_,T,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=B,this.key=++Ne,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function ae(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function M(u){const g={};for(const _ in u)g[_]=u[_];return g}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(u,g){let _,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(_ in T)u[_]=T[_];for(let H=0;H<G.length;H++)_=G[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Se(u){this.src=u,this.g={},this.h=0}Se.prototype.add=function(u,g,_,T,B){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const oe=Ve(u,g,T,B);return oe>-1?(g=u[oe],_||(g.fa=!1)):(g=new De(g,this.src,H,!!T,B),g.fa=_,u.push(g)),g};function xe(u,g){const _=g.type;if(_ in u.g){var T=u.g[_],B=Array.prototype.indexOf.call(T,g,void 0),H;(H=B>=0)&&Array.prototype.splice.call(T,B,1),H&&(ne(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ve(u,g,_,T){for(let B=0;B<u.length;++B){const H=u[B];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==T)return B}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),je={};function Ge(u,g,_,T,B){if(Array.isArray(g)){for(let H=0;H<g.length;H++)Ge(u,g[H],_,T,B);return null}return _=ea(_),u&&u[ze]?u.J(g,_,f(T)?!!T.capture:!1,B):qt(u,g,_,!1,T,B)}function qt(u,g,_,T,B,H){if(!g)throw Error("Invalid event type");const oe=f(B)?!!B.capture:!!B;let Ce=bs(u);if(Ce||(u[qe]=Ce=new Se(u)),_=Ce.add(g,_,T,oe,H),_.proxy)return _;if(T=Vs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)b||(B=oe),B===void 0&&(B=!1),u.addEventListener(g.toString(),T,B);else if(u.attachEvent)u.attachEvent(Ls(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vs(){function u(_){return g.call(u.src,u.listener,_)}const g=bl;return u}function Zo(u,g,_,T,B){if(Array.isArray(g))for(var H=0;H<g.length;H++)Zo(u,g[H],_,T,B);else T=f(T)?!!T.capture:!!T,_=ea(_),u&&u[ze]?(u=u.i,H=String(g).toString(),H in u.g&&(g=u.g[H],_=Ve(g,_,T,B),_>-1&&(ne(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[H],u.h--)))):u&&(u=bs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ve(g,_,T,B)),(_=u>-1?g[u]:null)&&Qr(_))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ze])xe(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Ls(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=bs(g))?(xe(_,u),_.h==0&&(_.src=null,g[qe]=null)):ne(u)}}}function Ls(u){return u in je?je[u]:je[u]="on"+u}function bl(u,g){if(u.da)u=!0;else{g=new Te(g,this);const _=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=_.call(T,g)}return u}function bs(u){return u=u[qe],u instanceof Se?u:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ea(u){return typeof u=="function"?u:(u[Hi]||(u[Hi]=function(g){return u.handleEvent(g)}),u[Hi])}function pt(){V.call(this),this.i=new Se(this),this.M=this,this.G=null}w(pt,V),pt.prototype[ze]=!0,pt.prototype.removeEventListener=function(u,g,_,T){Zo(this,u,g,_,T)};function ut(u,g){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new x(g,u);else if(g instanceof x)g.target=g.target||u;else{var B=g;g=new x(T,u),Re(g,B)}B=!0;let H,oe;if(_)for(oe=_.length-1;oe>=0;oe--)H=g.g=_[oe],B=Pn(H,T,!0,g)&&B;if(H=g.g=u,B=Pn(H,T,!0,g)&&B,B=Pn(H,T,!1,g)&&B,_)for(oe=0;oe<_.length;oe++)H=g.g=_[oe],B=Pn(H,T,!1,g)&&B}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let T=0;T<_.length;T++)ne(_[T]);delete u.g[g],u.h--}}this.G=null},pt.prototype.J=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},pt.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function Pn(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let H=0;H<g.length;++H){const oe=g[H];if(oe&&!oe.da&&oe.capture==_){const Ce=oe.listener,ct=oe.ha||oe.src;oe.fa&&xe(u.i,oe),B=Ce.call(ct,T)!==!1&&B}}return B&&!T.defaultPrevented}function ta(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(u,g||0)}function na(u){u.g=ta(()=>{u.g=null,u.i&&(u.i=!1,na(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ml extends V{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(u){V.call(this),this.h=u,this.g={}}w(Jr,V);var ra=[];function Ms(u){fe(u.g,function(g,_){this.g.hasOwnProperty(_)&&Qr(g)},u),u.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),Ms(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=c.JSON.stringify,Fl=c.JSON.parse,qi=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Yr(){}function Ul(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fs(){x.call(this,"d")}w(Fs,x);function ia(){x.call(this,"c")}w(ia,x);var kn={},Us=null;function ei(){return Us=Us||new pt}kn.Ia="serverreachability";function js(u){x.call(this,kn.Ia,u)}w(js,x);function yr(u){const g=ei();ut(g,new js(g))}kn.STAT_EVENT="statevent";function _r(u,g){x.call(this,kn.STAT_EVENT,u),this.stat=g}w(_r,x);function ot(u){const g=ei();ut(g,new _r(g,u))}kn.Ja="timingevent";function sa(u,g){x.call(this,kn.Ja,u),this.size=g}w(sa,x);function ti(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},g)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function jl(u,g,_,T,B,H){u.info(function(){if(u.g)if(H){var oe="",Ce=H.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var ct=Ce[Ke].split("=");if(ct.length>1){const mt=ct[0];ct=ct[1];const hn=mt.split("_");oe=hn.length>=2&&hn[1]=="type"?oe+(mt+"="+ct+"&"):oe+(mt+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+g+`
`+_+`
`+oe})}function Bl(u,g,_,T,B,H,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+g+`
`+_+`
`+H+" "+oe})}function $n(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Wi(u,_)+(T?" "+T:"")})}function zl(u,g){u.info(function(){return"TIMEOUT: "+g})}ni.prototype.info=function(){};function Wi(u,g){if(!u.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var B=T[0];if(B!="noop"&&B!="stop"&&B!="close")for(let oe=1;oe<T.length;oe++)T[oe]=""}}}}return Xr(H)}catch{return g}}var ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ii={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function vr(){}w(vr,Yr),vr.prototype.g=function(){return new XMLHttpRequest},$l=new vr;function Hn(u){return encodeURIComponent(String(u))}function Bs(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function gn(u,g,_,T){this.j=u,this.i=g,this.l=_,this.S=T||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var ql={},oa={};function Nn(u,g,_){u.M=1,u.A=wr(yn(g)),u.u=_,u.R=!0,aa(u,null)}function aa(u,g){u.F=Date.now(),Ki(u),u.B=yn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ya(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Hl,u.g=tu(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Ml(y(u.Y,u,u.g),u.P)),g=u.V,_=u.g,T=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ra[0]=B.toString()),B=ra);for(let H=0;H<B.length;H++){const oe=Ge(_,B[H],T||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),yr(),jl(u.i,u.v,u.B,u.l,u.S,u.u)}gn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Xn(u)==3?g.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Xn(this.g),ct=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Zl(this.g)))){this.K||Ce!=4||ct==7||(ct==8||Ke<=0?yr(3):yr(2)),zs(this);var g=this.g.ca();this.X=g;var _=Wl(this);if(this.o=g==200,Bl(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,u);else{this.o=!1,this.m=3,ot(12),Er(this),Gi(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=Gl(this,_),mt==oa){Ce==4&&(this.m=4,ot(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==ql){this.m=4,ot(15),$n(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,mt,null),Xe(this,mt);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,ot(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,_,"[Invalid Chunked Response]"),Er(this),Gi(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),rs(oe),oe.P=!0,ot(11))}}else $n(this.i,this.l,_,null),Xe(this,_);Ce==4&&Er(this),this.o&&!this.K&&(Ce==4?Ys(this.j,this):(this.o=!1,Ki(this)))}else va(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),Er(this),Gi(this)}}}catch{}finally{}};function Wl(u){if(!Kl(u))return u.g.la();const g=Zl(u.g);if(g==="")return"";let _="";const T=g.length,B=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Er(u),Gi(u),"";u.h.i=new c.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(g[H],{stream:!(B&&H==T-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function Kl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Gl(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?oa:(_=Number(g.substring(_,T)),isNaN(_)?ql:(T+=1,T+_>g.length?oa:(g=g.slice(T,T+_),u.C=T+_,g)))}gn.prototype.cancel=function(){this.K=!0,Er(this)};function Ki(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),g)}function zs(u){u.D&&(c.clearTimeout(u.D),u.D=null)}gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zl(this.i,this.B),this.M!=2&&(yr(),ot(17)),Er(this),this.m=2,Gi(this)):la(this,this.T-u)};function Gi(u){u.j.I==0||u.K||Ys(u.j,u)}function Er(u){zs(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Ms(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Xe(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||ca(_.h,u))){if(!u.L&&ca(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Xs(_),un(_);else break e;er(_),ot(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(y(_.Va,_),6e3));Qi(_.h)<=1&&_.ta&&(_.ta=void 0)}else cn(_,11)}else if((u.L||_.g==u)&&Xs(_),!R(g))for(B=_.Ba.g.parse(g),g=0;g<B.length;g++){let Ke=B[g];const mt=Ke[0];if(!(mt<=_.K))if(_.K=mt,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const hn=Ke[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const Ar=Ke[4];Ar!=null&&(_.za=Ar,_.j.info("SVER="+_.za));const tr=Ke[5];tr!=null&&typeof tr=="number"&&tr>0&&(T=1.5*tr,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const nr=u.g;if(nr){const to=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var H=T.h;H.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Hs(H,H.h),H.h=null))}if(T.G){const Ta=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(T.wa=Ta,He(T.J,T.G,Ta))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var oe=u;if(T.na=wa(T,T.L?T.ba:null,T.W),oe.L){Ji(T.h,oe);var Ce=oe,ct=T.O;ct&&(Ce.H=ct),Ce.D&&(zs(Ce),Ki(Ce)),T.g=oe}else Lt(T);_.i.length>0&&Rr(_)}else Ke[0]!="stop"&&Ke[0]!="close"||cn(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?cn(_,7):Qs(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}yr(4)}catch{}}var hh=class{constructor(u,g){this.g=u,this.map=g}};function $s(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ua(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qi(u){return u.h?1:u.g?u.g.size:0}function ca(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Hs(u,g){u.g?u.g.add(g):u.h=g}function Ji(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}$s.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return U(u.i)}var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function an(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let B,H=null;T>=0?(B=u[_].substring(0,T),H=u[_].substring(T+1)):B=u[_],g(B,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function qn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof qn?(this.l=u.l,Xi(this,u.j),this.o=u.o,this.g=u.g,Wn(this,u.u),this.h=u.h,si(this,_a(u.i)),this.m=u.m):u&&(g=String(u).match(Ql))?(this.l=!1,Xi(this,g[1]||"",!0),this.o=Yi(g[2]||""),this.g=Yi(g[3]||"",!0),Wn(this,g[4]),this.h=Yi(g[5]||"",!0),si(this,g[6]||"",!0),this.m=Yi(g[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}qn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Zi(g,da,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Zi(g,da,!0),"@"),u.push(Hn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Zi(_,_.charAt(0)=="/"?es:fa,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Zi(_,pa)),u.join("")},qn.prototype.resolve=function(u){const g=yn(this);let _=!!u.j;_?Xi(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var T=u.h;if(_)Wn(g,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var B=g.h.lastIndexOf("/");B!=-1&&(T=g.h.slice(0,B+1)+T)}if(B=T,B==".."||B==".")T="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){T=B.lastIndexOf("/",0)==0,B=B.split("/");const H=[];for(let oe=0;oe<B.length;){const Ce=B[oe++];Ce=="."?T&&oe==B.length&&H.push(""):Ce==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&oe==B.length&&H.push("")):(H.push(Ce),T=!0)}T=H.join("/")}else T=B}return _?g.h=T:_=u.i.toString()!=="",_?si(g,_a(u.i)):_=!!u.m,_&&(g.m=u.m),g};function yn(u){return new qn(u)}function Xi(u,g,_){u.j=_?Yi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Wn(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function si(u,g,_){g instanceof Fe?(u.i=g,Ws(u.i,u.l)):(_||(g=Zi(g,dh)),u.i=new Fe(g,u.l))}function He(u,g,_){u.i.set(g,_)}function wr(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Yi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zi(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,ha),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ha(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,fa=/[#\?:]/g,es=/[#\?]/g,dh=/[#\?@]/g,pa=/#/g;function Fe(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Kn(u){u.g||(u.g=new Map,u.h=0,u.i&&an(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Fe.prototype,n.add=function(u,g){Kn(this),this.i=null,u=Gn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function ma(u,g){Kn(u),g=Gn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function qs(u,g){return Kn(u),g=Gn(u,g),u.g.has(g)}n.forEach=function(u,g){Kn(this),this.g.forEach(function(_,T){_.forEach(function(B){u.call(g,B,T,this)},this)},this)};function ga(u,g){Kn(u);let _=[];if(typeof g=="string")qs(u,g)&&(_=_.concat(u.g.get(Gn(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}n.set=function(u,g){return Kn(this),this.i=null,u=Gn(this,u),qs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=ga(this,u),u.length>0?String(u[0]):g):g};function ya(u,g,_){ma(u,g),_.length>0&&(u.i=null,u.g.set(Gn(u,g),U(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var _=g[T];const B=Hn(_);_=ga(this,_);for(let H=0;H<_.length;H++){let oe=B;_[H]!==""&&(oe+="="+Hn(_[H])),u.push(oe)}}return this.i=u.join("&")};function _a(u){const g=new Fe;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Gn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ws(u,g){g&&!u.j&&(Kn(u),u.i=null,u.g.forEach(function(_,T){const B=T.toLowerCase();T!=B&&(ma(this,T),ya(this,B,_))},u)),u.j=g}function Qn(u,g){const _=new ni;if(c.Image){const T=new Image;T.onload=v(Pt,_,"TestLoadImage: loaded",!0,g,T),T.onerror=v(Pt,_,"TestLoadImage: error",!1,g,T),T.onabort=v(Pt,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=v(Pt,_,"TestLoadImage: timeout",!1,g,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function Jn(u,g){const _=new ni,T=new AbortController,B=setTimeout(()=>{T.abort(),Pt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(B),H.ok?Pt(_,"TestPingServer: ok",!0,g):Pt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Pt(_,"TestPingServer: error",!1,g)})}function Pt(u,g,_,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(_)}catch{}}function ts(){this.g=new qi}function Tr(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Tr,Yr),Tr.prototype.g=function(){return new ln(this.i,this.h)};function ln(u,g){pt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ln,pt),n=ln.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,xn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?oi(this):xn(this),this.readyState==3&&Jl(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,oi(this))},n.Na=function(u){this.g&&(this.response=u,oi(this))},n.ga=function(){this.g&&oi(this)};function oi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,xn(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xl(u){let g="";return fe(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Ks(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Xl(_),typeof u=="string"?_!=null&&Hn(_):He(u,g,_))}function Qe(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Qe,pt);var Yl=/^https?$/i,fh=["POST","PUT"];n=Qe.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){ai(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)_.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),B=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(fh,g,void 0)>=0)||T||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of _)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){ai(this,H)}};function ai(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,li(u),Ir(u)}function li(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),Ir(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},n.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof l<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=H===0){let oe=String(u.D).match(Ql)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),T=!Yl.test(oe?oe.toLowerCase():"")}_=T}if(_)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var B=Xn(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",li(u)}}finally{Ir(u)}}}}function Ir(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||ut(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Fl(g)}};function Zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function va(u){const g={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=Bs(u[T]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[B]||[];g[B]=H,H.push(_)}ae(g,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Gs(u){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yn("baseRetryDelayMs",5e3,u),this.Za=Yn("retryDelaySeedMs",1e4,u),this.Ta=Yn("forwardChannelMaxRetries",2,u),this.va=Yn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $s(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Gs.prototype,n.ka=8,n.I=1,n.connect=function(u,g,_,T){ot(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=wa(this,null,this.W),Rr(this)};function Qs(u){if(Js(u),u.I==3){var g=u.V++,_=yn(u.J);if(He(_,"SID",u.M),He(_,"RID",g),He(_,"TYPE","terminate"),Zn(u,_),g=new gn(u,u.j,g),g.M=2,g.A=wr(yn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=g.A,_=!0),_||(g.g=tu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ki(g)}is(u)}function un(u){u.g&&(rs(u),u.g.cancel(),u.g=null)}function Js(u){un(u),u.v&&(c.clearTimeout(u.v),u.v=null),Xs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Rr(u){if(!ua(u.h)&&!u.m){u.m=!0;var g=u.Ea;se||S(),de||(se(),de=!0),k.add(g,u),u.D=0}}function eu(u,g){return Qi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,g),Zs(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new gn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),Re(H,this.U)):H=this.U),this.u!==null||this.R||(B.J=H,H=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ea(this,B,g),_=yn(this.J),He(_,"RID",u),He(_,"CVER",22),this.G&&He(_,"X-HTTP-Session-Id",this.G),Zn(this,_),H&&(this.R?g="headers="+Hn(Xl(H))+"&"+g:this.u&&Ks(_,this.u,H)),Hs(this.h,B),this.Ra&&He(_,"TYPE","init"),this.S?(He(_,"$req",g),He(_,"SID","null"),B.U=!0,Nn(B,_,null)):Nn(B,_,g),this.I=2}}else this.I==3&&(u?ns(this,u):this.i.length==0||ua(this.h)||ns(this))};function ns(u,g){var _;g?_=g.l:_=u.V++;const T=yn(u.J);He(T,"SID",u.M),He(T,"RID",_),He(T,"AID",u.K),Zn(u,T),u.u&&u.o&&Ks(T,u.u,u.o),_=new gn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Ea(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Hs(u.h,_),Nn(_,T,g)}function Zn(u,g){u.H&&fe(u.H,function(_,T){He(g,T,_)}),u.l&&fe({},function(_,T){He(g,T,_)})}function Ea(u,g,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Ce=-1;for(;;){const ct=["count="+_];Ce==-1?_>0?(Ce=B[0].g,ct.push("ofs="+Ce)):Ce=0:ct.push("ofs="+Ce);let Ke=!0;for(let mt=0;mt<_;mt++){var H=B[mt].g;const hn=B[mt].map;if(H-=Ce,H<0)Ce=Math.max(0,B[mt].g-100),Ke=!1;else try{H="req"+H+"_"||"";try{var oe=hn instanceof Map?hn:Object.entries(hn);for(const[Ar,tr]of oe){let nr=tr;f(tr)&&(nr=Xr(tr)),ct.push(H+Ar+"="+encodeURIComponent(nr))}}catch(Ar){throw ct.push(H+"type="+encodeURIComponent("_badmap")),Ar}}catch{T&&T(hn)}}if(Ke){oe=ct.join("&");break e}}oe=void 0}return u=u.i.splice(0,_),g.G=u,oe}function Lt(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;se||S(),de||(se(),de=!0),k.add(g,u),u.A=0}}function er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),Zs(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ui(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),un(this),ui(this))};function rs(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function ui(u){u.g=new gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=yn(u.na);He(g,"RID","rpc"),He(g,"SID",u.M),He(g,"AID",u.K),He(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(g,"TO",u.ia),He(g,"TYPE","xmlhttp"),Zn(u,g),u.u&&u.o&&Ks(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=wr(yn(g)),_.u=null,_.R=!0,aa(_,u)}n.Va=function(){this.C!=null&&(this.C=null,un(this),er(this),ot(19))};function Xs(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Ys(u,g){var _=null;if(u.g==g){Xs(u),rs(u),u.g=null;var T=2}else if(ca(u.h,g))_=g.G,Ji(u.h,g),T=1;else return;if(u.I!=0){if(g.o)if(T==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var B=u.D;T=ei(),ut(T,new sa(T,_)),Rr(u)}else Lt(u);else if(B=g.m,B==3||B==0&&g.X>0||!(T==1&&eu(u,g)||T==2&&er(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),B){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function Zs(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function cn(u,g){if(u.j.info("Error code "+g),g==2){var _=y(u.bb,u),T=u.Ua;const B=!T;T=new qn(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xi(T,"https"),wr(T),B?Qn(T.toString(),_):Jn(T.toString(),_)}else ot(2);u.I=0,u.l&&u.l.pa(g),is(u),Js(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function is(u){if(u.I=0,u.ja=[],u.l){const g=on(u.h);(g.length!=0||u.i.length!=0)&&(O(u.ja,g),O(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function wa(u,g,_){var T=_ instanceof qn?yn(_):new qn(_);if(T.g!="")g&&(T.g=g+"."+T.g),Wn(T,T.u);else{var B=c.location;T=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const H=new qn(null);T&&Xi(H,T),g&&(H.g=g),B&&Wn(H,B),_&&(H.h=_),T=H}return _=u.G,g=u.wa,_&&g&&He(T,_,g),He(T,"VER",u.ka),Zn(u,T),T}function tu(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Qe(new Tr({ab:_})):new Qe(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}n=nu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function eo(){}eo.prototype.g=function(u,g){return new kt(u,g)};function kt(u,g){pt.call(this),this.g=new Gs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ci(this)}w(kt,pt),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Qs(this.g)},kt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Xr(u),u=_);g.i.push(new hh(g.Ya++,u)),g.I==3&&Rr(g)},kt.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,kt.Z.N.call(this)};function ru(u){Fs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(ru,Fs);function iu(){ia.call(this),this.status=1}w(iu,ia);function ci(u){this.g=u}w(ci,nu),ci.prototype.ra=function(){ut(this.g,"a")},ci.prototype.qa=function(u){ut(this.g,new ru(u))},ci.prototype.pa=function(u){ut(this.g,new iu)},ci.prototype.oa=function(){ut(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,oE=function(){return new eo},sE=function(){return ei()},iE=kn,ff={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,uc=ri,ii.COMPLETE="complete",rE=ii,Ul.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Xa=Ul,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,nE=Qe}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const My="@firebase/firestore",Fy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Uf("@firebase/firestore");function So(){return Cs.logLevel}function ue(n,...e){if(Cs.logLevel<=Le.DEBUG){const t=e.map(Yf);Cs.debug(`Firestore (${Ko}): ${n}`,...t)}}function zr(n,...e){if(Cs.logLevel<=Le.ERROR){const t=e.map(Yf);Cs.error(`Firestore (${Ko}): ${n}`,...t)}}function Oo(n,...e){if(Cs.logLevel<=Le.WARN){const t=e.map(Yf);Cs.warn(`Firestore (${Ko}): ${n}`,...t)}}function Yf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,aE(n,i,t)}function aE(n,e,t){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zr(i),new Error(i)}function We(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||aE(e,o,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Bt.UNAUTHENTICATED)))}shutdown(){}}class SA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class IA{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new lE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class RA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new RA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Bt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=PA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function be(n,e){return n<e?-1:n>e?1:0}function pf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Kd(o)===Kd(l)?be(o,l):Kd(o)?1:-1}return be(n.length,e.length)}const kA=55296,NA=57343;function Kd(n){const e=n.charCodeAt(0);return e>=kA&&e<=NA}function Do(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ur.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return be(e.length,t.length)}static compareSegments(e,t){const i=ur.isNumericId(e),o=ur.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ur.extractNumericId(e).compare(ur.extractNumericId(t)):pf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class it extends ur{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ur{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Dt([jy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,e,t){if(!t)throw new ge(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DA(n,e,t,i){if(e===!0&&i===!0)throw new ge(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function By(n){if(!ve.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function fl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ep(n);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cl(n,e){if(!uE(n))throw new ge(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-62135596800,$y=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$y);return new et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zy)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:_t("string",et._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new et(0,0))}static max(){return new Ae(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function VA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new et(t+1,0):new et(t,i));return new Mi(o,ve.empty(),e)}function LA(n){return new Mi(n.readTime,n.key,pl)}class Mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mi(Ae.min(),ve.empty(),pl)}static max(){return new Mi(Ae.max(),ve.empty(),pl)}}function bA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==MA)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((v=>{c[y]=v,++f,f===l&&i(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function UA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Qc(n){return n==null}function Pc(n){return n===0&&1/n==-1/0}function jA(n){return typeof n=="number"&&Number.isInteger(n)&&!Pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function BA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hy(e)),e=zA(n.get(t),e);return Hy(e)}function zA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case cE:t+="";break;default:t+=l}}return t}function Hy(n){return n+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Tt(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dE("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=$A.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ui(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="server_timestamp",pE="__type__",mE="__previous_value__",gE="__local_write_time__";function np(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[pE])==null?void 0:i.stringValue)===fE}function Jc(n){const e=n.mapValue.fields[mE];return np(e)?Jc(e):e}function ml(n){const e=Fi(n.mapValue.fields[gE].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,i,o,l,c,f,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const kc="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||kc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",qA="__max__",tc={mapValue:{}},_E="__vector__",Nc="value";function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?np(n)?4:KA(n)?9007199254740991:WA(n)?10:11:we(28295,{value:n})}function mr(n,e){if(n===e)return!0;const t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Fi(o.timestampValue),f=Fi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Ui(o.bytesValue).isEqual(Ui(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=dt(o.doubleValue),f=dt(l.doubleValue);return c===f?Pc(c)===Pc(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Do(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(qy(c)!==qy(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!mr(c[p],f[p])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function yl(n,e){return(n.values||[]).find((t=>mr(t,e)))!==void 0}function Vo(n,e){if(n===e)return 0;const t=ji(n),i=ji(e);if(t!==i)return be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=dt(l.integerValue||l.doubleValue),p=dt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return Ky(n.timestampValue,e.timestampValue);case 4:return Ky(ml(n),ml(e));case 5:return pf(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ui(l),p=Ui(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=be(f[y],p[y]);if(v!==0)return v}return be(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=be(dt(l.latitude),dt(c.latitude));return f!==0?f:be(dt(l.longitude),dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Gy(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var A,U,O,F;const f=l.fields||{},p=c.fields||{},y=(A=f[Nc])==null?void 0:A.arrayValue,v=(U=p[Nc])==null?void 0:U.arrayValue,w=be(((O=y==null?void 0:y.values)==null?void 0:O.length)||0,((F=v==null?void 0:v.values)==null?void 0:F.length)||0);return w!==0?w:Gy(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===tc.mapValue&&c===tc.mapValue)return 0;if(l===tc.mapValue)return 1;if(c===tc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const A=pf(p[w],v[w]);if(A!==0)return A;const U=Vo(f[p[w]],y[v[w]]);if(U!==0)return U}return be(p.length,v.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function Ky(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Fi(n),i=Fi(e),o=be(t.seconds,i.seconds);return o!==0?o:be(t.nanos,i.nanos)}function Gy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Vo(t[o],i[o]);if(l)return l}return be(t.length,i.length)}function Lo(n){return mf(n)}function mf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Fi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=mf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${mf(t.fields[c])}`;return o+"}"})(n.mapValue):we(61005,{value:n})}function cc(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jc(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+cc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Ns(i.fields,((l,c)=>{o+=l.length+cc(c)})),o})(n.mapValue);default:throw we(13486,{value:n})}}function gf(n){return!!n&&"integerValue"in n}function rp(n){return!!n&&"arrayValue"in n}function Qy(n){return!!n&&"nullValue"in n}function Jy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function WA(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[yE])==null?void 0:i.stringValue)===_E}function rl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=rl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(n.arrayValue.values[t]);return e}return{...n}}function KA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=rl(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ns(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Rn(rl(this.value))}}function vE(n){const e=[];return Ns(n.fields,((t,i)=>{const o=new Dt([t]);if(hc(i)){const l=vE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Ae.min(),Ae.min(),Ae.min(),Rn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ae.min(),Ae.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ae.min(),Ae.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function Xy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Vo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function GA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class wt extends EE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new JA(e,t,i):t==="array-contains"?new ZA(e,i):t==="in"?new eC(e,i):t==="not-in"?new tC(e,i):t==="array-contains-any"?new nC(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XA(e,i):new YA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vo(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends EE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gr(e,t)}matches(e){return wE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(n){return n.op==="and"}function TE(n){return QA(n)&&wE(n)}function QA(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function yf(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if(TE(n))return n.filters.map((e=>yf(e))).join(",");{const e=n.filters.map((t=>yf(t))).join(",");return`${n.op}(${e})`}}function SE(n,e){return n instanceof wt?(function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&mr(i.value,o.value)})(n,e):n instanceof gr?(function(i,o){return o instanceof gr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&SE(c,o.filters[f])),!0):!1})(n,e):void we(19439)}function IE(n){return n instanceof wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Lo(t.value)}`})(n):n instanceof gr?(function(t){return t.op.toString()+" {"+t.getFilters().map(IE).join(" ,")+"}"})(n):"Filter"}class JA extends wt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class XA extends wt{constructor(e,t){super(e,"in",t),this.keys=RE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YA extends wt{constructor(e,t){super(e,"not-in",t),this.keys=RE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function RE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>ve.fromName(i.referenceValue)))}class ZA extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rp(t)&&yl(t.arrayValue,this.value)}}class eC extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class tC extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yl(this.value.arrayValue,t)}}class nC extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>yl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Zy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new rC(n,e,t,i,o,l,c)}function ip(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>yf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Qc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Lo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Lo(i))).join(",")),e.Te=t}return e.Te}function sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yy(n.startAt,e.startAt)&&Yy(n.endAt,e.endAt)}function _f(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iC(n,e,t,i,o,l,c,f){return new Xc(n,e,t,i,o,l,c,f)}function op(n){return new Xc(n)}function e_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sC(n){return n.collectionGroup!==null}function il(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt(Dt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Oc(l,i))})),t.has(Dt.keyField().canonicalString())||e.Ie.push(new Oc(Dt.keyField(),i))}return e.Ie}function hr(n){const e=Pe(n);return e.Ee||(e.Ee=oC(e,il(n))),e.Ee}function oC(n,e){if(n.limitType==="F")return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Oc(o.field,l)}));const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vf(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yc(n,e){return sp(hr(n),hr(e))&&n.limitType===e.limitType}function AE(n){return`${ip(hr(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>IE(o))).join(", ")}]`),Qc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Lo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Lo(o))).join(",")),`Target(${i})`})(hr(n))}; limitType=${n.limitType})`}function Zc(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of il(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,p){const y=Xy(c,f,p);return c.inclusive?y<=0:y<0})(i.startAt,il(i),o)||i.endAt&&!(function(c,f,p){const y=Xy(c,f,p);return c.inclusive?y>=0:y>0})(i.endAt,il(i),o))})(n,e)}function aC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CE(n){return(e,t)=>{let i=!1;for(const o of il(n)){const l=lC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function lC(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Vo(p,y):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new st(ve.comparator);function $r(){return uC}const PE=new st(ve.comparator);function Ya(...n){let e=PE;for(const t of n)e=e.insert(t.key,t);return e}function kE(n){let e=PE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function vs(){return sl()}function NE(){return sl()}function sl(){return new xs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const cC=new st(ve.comparator),hC=new Tt(ve.comparator);function Me(...n){let e=hC;for(const t of n)e=e.add(t);return e}const dC=new Tt(be);function fC(){return dC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function xE(n){return{integerValue:""+n}}function pC(n,e){return jA(e)?xE(e):ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function mC(n,e,t){return n instanceof Dc?(function(o,l){const c={fields:{[pE]:{stringValue:fE},[gE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&np(l)&&(l=Jc(l)),l&&(c.fields[mE]=l),{mapValue:c}})(t,e):n instanceof _l?DE(n,e):n instanceof vl?VE(n,e):(function(o,l){const c=OE(o,l),f=t_(c)+t_(o.Ae);return gf(c)&&gf(o.Ae)?xE(f):ap(o.serializer,f)})(n,e)}function gC(n,e,t){return n instanceof _l?DE(n,e):n instanceof vl?VE(n,e):t}function OE(n,e){return n instanceof Vc?(function(i){return gf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Dc extends eh{}class _l extends eh{constructor(e){super(),this.elements=e}}function DE(n,e){const t=LE(e);for(const i of n.elements)t.some((o=>mr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class vl extends eh{constructor(e){super(),this.elements=e}}function VE(n,e){let t=LE(e);for(const i of n.elements)t=t.filter((o=>!mr(o,i)));return{arrayValue:{values:t}}}class Vc extends eh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function t_(n){return dt(n.integerValue||n.doubleValue)}function LE(n){return rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yC(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof _l&&o instanceof _l||i instanceof vl&&o instanceof vl?Do(i.elements,o.elements,mr):i instanceof Vc&&o instanceof Vc?mr(i.Ae,o.Ae):i instanceof Dc&&o instanceof Dc})(n.transform,e.transform)}class _C{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class th{}function bE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new FE(n.key,Ur.none()):new Pl(n.key,n.data,Ur.none());{const t=n.data,i=Rn.empty();let o=new Tt(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Os(n.key,i,new jn(o.toArray()),Ur.none())}}function vC(n,e,t){n instanceof Pl?(function(o,l,c){const f=o.value.clone(),p=r_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Os?(function(o,l,c){if(!dc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=r_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(ME(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ol(n,e,t,i){return n instanceof Pl?(function(l,c,f,p){if(!dc(l.precondition,c))return f;const y=l.value.clone(),v=i_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Os?(function(l,c,f,p){if(!dc(l.precondition,c))return f;const y=i_(l.fieldTransforms,p,c),v=c.data;return v.setAll(ME(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(l,c,f){return dc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function EC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=OE(i.transform,o||null);l!=null&&(t===null&&(t=Rn.empty()),t.set(i.field,l))}return t||null}function n_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Do(i,o,((l,c)=>yC(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pl extends th{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends th{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ME(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function r_(n,e,t){const i=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,gC(c,f,t[o]))}return i}function i_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,mC(l,c,e))}return i}class FE extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wC extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&vC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ol(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ol(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=NE();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=bE(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((t,i)=>n_(t,i)))&&Do(this.baseMutations,e.baseMutations,((t,i)=>n_(t,i)))}}class lp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return cC})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new lp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function RC(n){switch(n){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function UE(n){if(n===void 0)return zr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case yt.OK:return ee.OK;case yt.CANCELLED:return ee.CANCELLED;case yt.UNKNOWN:return ee.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ee.INTERNAL;case yt.UNAVAILABLE:return ee.UNAVAILABLE;case yt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case yt.NOT_FOUND:return ee.NOT_FOUND;case yt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case yt.ABORTED:return ee.ABORTED;case yt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case yt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:n})}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Li([4294967295,4294967295],0);function s_(n){const e=AC().encode(n),t=new tE;return t.update(e),new Uint8Array(t.digest())}function o_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Li([t,i],0),new Li([o,l],0)]}class up{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Li.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Li.fromNumber(i)));return o.compare(CC)===1&&(o=new Li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=s_(e),[i,o]=o_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new up(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=s_(e),[i,o]=o_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nh(Ae.min(),o,new st(be),$r(),Me())}}class kl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class jE{constructor(e,t){this.targetId=e,this.Ce=t}}class BE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class a_{constructor(){this.ve=0,this.Fe=l_(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),i=Me();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:l})}})),new kl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=l_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PC{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=nc(),this.He=nc(),this.Ye=new st(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(_f(l))if(i===0){const c=new ve(l.path);this.et(t,c,zt.newNoDocument(c,Ae.min()))}else We(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Ui(i).toUint8Array()}catch(p){if(p instanceof dE)return Oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new up(c,o,l)}catch(p){return Oo(p instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&_f(f.target)){const p=new ve(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,zt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Me();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new nh(e,t,this.Ye,this.je,i);return this.je=$r(),this.Je=nc(),this.He=nc(),this.Ye=new st(be),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new a_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nc(){return new st(ve.comparator)}function l_(){return new st(ve.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},NC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class OC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ef(n,e){return n.useProto3Json||Qc(e)?e:{value:e}}function Lc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DC(n,e){return Lc(n,e.toTimestamp())}function dr(n){return We(!!n,49232),Ae.fromTimestamp((function(t){const i=Fi(t);return new et(i.seconds,i.nanos)})(n))}function cp(n,e){return wf(n,e).canonicalString()}function wf(n,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function $E(n){const e=it.fromString(n);return We(GE(e),10190,{key:e.toString()}),e}function Tf(n,e){return cp(n.databaseId,e.path)}function Gd(n,e){const t=$E(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(qE(t))}function HE(n,e){return cp(n.databaseId,e)}function VC(n){const e=$E(n);return e.length===4?it.emptyPath():qE(e)}function Sf(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qE(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u_(n,e,t){return{name:Tf(n,e),fields:t.value.mapValue.fields}}function LC(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(We(v===void 0||typeof v=="string",58123),Vt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Vt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(y){const v=y.code===void 0?ee.UNKNOWN:UE(y.code);return new ge(v,y.message||"")})(c);t=new BE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Gd(n,i.document.name),l=dr(i.document.updateTime),c=i.document.createTime?dr(i.document.createTime):Ae.min(),f=new Rn({mapValue:{fields:i.document.fields}}),p=zt.newFoundDocument(o,l,c,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new fc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Gd(n,i.document),l=i.readTime?dr(i.readTime):Ae.min(),c=zt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new fc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Gd(n,i.document),l=i.removedTargetIds||[];t=new fc([],l,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new IC(o,l),f=i.targetId;t=new jE(f,c)}}return t}function bC(n,e){let t;if(e instanceof Pl)t={update:u_(n,e.key,e.value)};else if(e instanceof FE)t={delete:Tf(n,e.key)};else if(e instanceof Os)t={update:u_(n,e.key,e.data),updateMask:qC(e.fieldMask)};else{if(!(e instanceof wC))return we(16599,{Vt:e.type});t={verify:Tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vc)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:DC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function MC(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?dr(o.updateTime):dr(l);return c.isEqual(Ae.min())&&(c=dr(l)),new _C(c,o.transformResults||[])})(t,e)))):[]}function FC(n,e){return{documents:[HE(n,e.path)]}}function UC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=HE(n,o);const l=(function(y){if(y.length!==0)return KE(gr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((v=>(function(A){return{field:Ro(A.field),direction:zC(A.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ef(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function jC(n){let e=VC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(w){const A=WE(w);return A instanceof gr&&TE(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((A=>(function(O){return new Oc(Ao(O.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(w){let A;return A=typeof w=="object"?w.value:w,Qc(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(w){const A=!!w.before,U=w.values||[];return new xc(U,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(w){const A=!w.before,U=w.values||[];return new xc(U,A)})(t.endAt)),iC(e,o,c,l,f,"F",p,y)}function BC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ao(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return wt.create(Ao(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return gr.create(t.compositeFilter.filters.map((i=>WE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function zC(n){return kC[n]}function $C(n){return NC[n]}function HC(n){return xC[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Dt.fromServerFormat(n.fieldPath)}function KE(n){return n instanceof wt?(function(t){if(t.op==="=="){if(Jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Qy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Qy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:$C(t.op),value:t.value}}})(n):n instanceof gr?(function(t){const i=t.getFilters().map((o=>KE(o)));return i.length===1?i[0]:{compositeFilter:{op:HC(t.op),filters:i}}})(n):we(54877,{filter:n})}function qC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function GE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,i,o,l=Ae.min(),c=Ae.min(),f=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.yt=e}}function KC(n){const e=jC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Cn=new QC}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Mi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class QC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(it.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(QE,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",JC=1048576;function d_([n,e],[t,i]){const o=be(n,t);return o===0?be(e,i):o}class XC{constructor(e){this.Ir=e,this.buffer=new Tt(d_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();d_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?ue(h_,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.Vr(3e5)}))}}class ZC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Gc.ce);const i=new XC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(c_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(i=w,f=Date.now(),this.removeTargets(e,i,t)))).next((w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),So()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w}))))}}function eP(n,e){return new ZC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.changes=new xs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&ol(i.mutation,o,jn.empty(),et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Me()){const o=vs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=Ya();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Me())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=$r();const c=sl(),f=(function(){return sl()})();return t.forEach(((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Os)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),ol(v.mutation,y,v.mutation.getFieldMask(),et.now())):c.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,v)=>c.set(y,v))),t.forEach(((y,v)=>f.set(y,new nP(v,c.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=sl();let o=new st(((c,f)=>c-f)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||jn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const w=(o.get(f.batchId)||Me()).add(p);o=o.insert(f.batchId,w)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,w=NE();v.forEach((A=>{if(!l.has(A)){const U=bE(t.get(A),i.get(A));U!==null&&w.set(A,U),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Q.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(vs());let f=pl,p=l;return c.next((y=>Q.forEach(y,((v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Me()))).next((v=>({batchId:f,changes:kE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((i=>{let o=Ya();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ya();return this.indexManager.getCollectionParents(e,l).next((f=>Q.forEach(f,(p=>{const y=(function(w,A){return new Xc(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((v=>{v.forEach(((w,A)=>{c=c.insert(w,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,zt.newInvalidDocument(v)))}));let f=Ya();return c.forEach(((p,y)=>{const v=l.get(p);v!==void 0&&ol(v.mutation,y,jn.empty(),et.now()),Zc(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:KC(o.bundledQuery),readTime:dr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.overlays=new st(ve.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=vs(),l=t.length+1,c=new ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new st(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=vs(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=vs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>f.set(y,v))),!(f.size()>=o)););return Q.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new SC(t,i));let l=this.qr.get(t);l===void 0&&(l=Me(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Qr=new Tt(At.$r),this.Ur=new Tt(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new At(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new At(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ve(new it([])),i=new At(t,e),o=new At(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new it([])),i=new At(t,e),o=new At(t,e+1);let l=Me();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new At(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(At.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TC(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new At(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(be);return t.forEach((o=>{const l=new At(o,0),c=new At(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),Q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new At(new ve(l),0);let f=new Tt(be);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Yr)),!0)}),c),Q.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Q.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new At(t,0),o=this.Zr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.ri=e,this.docs=(function(){return new st(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=$r();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=$r();const c=t.path,f=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||bA(LA(v),i)<=0||(o.has(v.key)||Zc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){we(9500)}ii(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new uP(this)}getSize(e){return Q.resolve(this.size)}}class uP extends tP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.persistence=e,this.si=new xs((t=>ip(t)),sp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new hp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Gc(0),this.li=!1,this.li=!0,this.hi=new oP,this.referenceDelegate=e(this),this.Pi=new cP(this),this.indexManager=new GC,this.remoteDocumentCache=(function(o){return new lP(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new WC(t),this.Ii=new iP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new aP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new hP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Q.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class hP extends FA{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ri=new hp,this.Vi=null}static mi(e){return new dp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(i=>{const o=ve.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bc{constructor(e,t){this.persistence=e,this.pi=new xs((i=>BA(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=eP(this,t)}static mi(e,t){return new bc(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?Q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}br(e,t,i){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new fp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MS()?8:UA(Ht())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dP;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(So()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(So()<=Le.DEBUG&&ue("QueryEngine","Query:",Io(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(So()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):Q.resolve())}ys(e,t){if(e_(t))return Q.resolve(null);let i=hr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),i=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Me(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,f);return this.Cs(t,y,c,p.readTime)?this.ys(e,vf(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return e_(t)||o.isEqual(Ae.min())?Q.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?Q.resolve(null):(So()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.vs(e,c,t,VA(o,pl)).next((f=>f)))}))}Ds(e,t){let i=new Tt(CE(e));return t.forEach(((o,l)=>{Zc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return So()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ps.getDocumentsMatchingQuery(e,t,Mi.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="LocalStore",pP=3e8;class mP{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(be),this.xs=new xs((l=>ip(l)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function gP(n,e,t,i){return new mP(n,e,t,i)}async function XE(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=Me();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:f})))}))}))}function yP(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,v){const w=y.batch,A=w.keys();let U=Q.resolve();return A.forEach((O=>{U=U.next((()=>v.getEntry(p,O))).next((F=>{const N=y.docVersions.get(O);We(N!==null,48541),F.version.compareTo(N)<0&&(w.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),v.addEntry(F)))}))})),U.next((()=>f.mutationQueue.removeMutationBatch(p,w)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Me();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function YE(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _P(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,w)=>{const A=o.get(w);if(!A)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w))));let U=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?U=U.withResumeToken(Vt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,i)),o=o.insert(w,U),(function(F,N,re){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=pP?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(A,U,v)&&f.push(t.Pi.updateTargetData(l,U))}));let p=$r(),y=Me();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(vP(l,c,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!i.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return Q.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function vP(n,e,t){let i=Me(),o=Me();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=$r();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ue(pp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function EP(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=tp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function wP(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,Q.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Ni(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function If(n,e,t){const i=Pe(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Qo(c))throw c;ue(pp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function f_(n,e,t){const i=Pe(n);let o=Ae.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,v){const w=Pe(p),A=w.xs.get(v);return A!==void 0?Q.resolve(w.Ms.get(A)):w.Pi.getTargetData(y,v)})(i,c,hr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?l:Me()))).next((f=>(TP(i,aC(e),f),{documents:f,Qs:l})))))}function TP(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class p_{constructor(){this.activeTargetIds=fC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SP{constructor(){this.Mo=new p_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(m_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Rf(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",RP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===kc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Rf(),f=this.zo(e,t.toUriEncodedString());ue(Qd,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(f),v=Ho(y);return this.Jo(e,f,p,i,v).then((w=>(ue(Qd,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Oo(Qd,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=RP[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class PP extends AP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Rf();return new Promise(((f,p)=>{const y=new nE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case uc.NO_ERROR:const w=y.getResponseJson();ue(jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case uc.TIMEOUT:ue(jt,`RPC '${e}' ${c} timed out`),p(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const A=y.getStatus();if(ue(jt,`RPC '${e}' ${c} failed with status:`,A,"response text:",y.getResponseText()),A>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const O=U==null?void 0:U.error;if(O&&O.status&&O.message){const F=(function(re){const J=re.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(O.status);p(new ge(F,O.message))}else p(new ge(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(jt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ue(jt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Rf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=oE(),f=sE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(jt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let A=!1,U=!1;const O=new CP({Yo:N=>{U?ue(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(A||(ue(jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(jt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Zo:()=>w.close()}),F=(N,re,J)=>{N.listen(re,(Y=>{try{J(Y)}catch(W){setTimeout((()=>{throw W}),0)}}))};return F(w,Xa.EventType.OPEN,(()=>{U||(ue(jt,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),F(w,Xa.EventType.CLOSE,(()=>{U||(U=!0,ue(jt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))})),F(w,Xa.EventType.ERROR,(N=>{U||(U=!0,Oo(jt,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),O.a_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))})),F(w,Xa.EventType.MESSAGE,(N=>{var re;if(!U){const J=N.data[0];We(!!J,16349);const Y=J,W=(Y==null?void 0:Y.error)||((re=Y[0])==null?void 0:re.error);if(W){ue(jt,`RPC '${e}' stream ${o} received error:`,W);const se=W.status;let de=(function(P){const V=yt[P];if(V!==void 0)return UE(V)})(se),k=W.message;de===void 0&&(de=ee.INTERNAL,k="Unknown error status: "+se+" with message "+W.message),U=!0,O.a_(new ge(de,k)),w.close()}else ue(jt,`RPC '${e}' stream ${o} received:`,J),O.u_(J)}})),F(f,iE.STAT_EVENT,(N=>{N.stat===ff.PROXY?ue(jt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===ff.NOPROXY&&ue(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){return new OC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class ew{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ge(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kP extends ew{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LC(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?dr(c.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Sf(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=_f(p)?{documents:FC(l,p)}:{query:UC(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=zE(l,c.resumeToken);const y=Ef(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Lc(l,c.snapshotVersion.toTimestamp());const y=Ef(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=BC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Sf(this.serializer),t.removeTarget=e,this.q_(t)}}class NP extends ew{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=MC(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Sf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>bC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{}class OP extends xP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,wf(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ee.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,wf(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class VP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ds(this)&&(ue(Ps,"Restarting streams for network reachability change."),await(async function(p){const y=Pe(p);y.Ea.add(4),await Nl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ih(y)})(this))}))})),this.Ra=new DP(i,o)}}async function ih(n){if(Ds(n))for(const e of n.da)await e(!0)}async function Nl(n){for(const e of n.da)await e(!1)}function tw(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_p(t)?yp(t):Jo(t).O_()&&gp(t,e))}function mp(n,e){const t=Pe(n),i=Jo(t);t.Ia.delete(e),i.O_()&&nw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ds(t)&&t.Ra.set("Unknown"))}function gp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(n).Y_(e)}function nw(n,e){n.Va.Ue(e),Jo(n).Z_(e)}function yp(n){n.Va=new PC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Jo(n).start(),n.Ra.ua()}function _p(n){return Ds(n)&&!Jo(n).x_()&&n.Ia.size>0}function Ds(n){return Pe(n).Ea.size===0}function rw(n){n.Va=void 0}async function LP(n){n.Ra.set("Online")}async function bP(n){n.Ia.forEach(((e,t)=>{gp(n,e)}))}async function MP(n,e){rw(n),_p(n)?(n.Ra.ha(e),yp(n)):n.Ra.set("Unknown")}async function FP(n,e,t){if(n.Ra.set("Online"),e instanceof BE&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){ue(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mc(n,i)}else if(e instanceof fc?n.Va.Ze(e):e instanceof jE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await YE(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Vt.EMPTY_BYTE_STRING,v.snapshotVersion)),nw(l,p);const w=new Ni(v.target,p,y,v.sequenceNumber);gp(l,w)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){ue(Ps,"Failed to raise snapshot:",i),await Mc(n,i)}}async function Mc(n,e,t){if(!Qo(e))throw e;n.Ea.add(1),await Nl(n),n.Ra.set("Offline"),t||(t=()=>YE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Ps,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ih(n)}))}function iw(n,e){return e().catch((t=>Mc(n,t,e)))}async function sh(n){const e=Pe(n),t=Bi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;UP(e);)try{const o=await EP(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,jP(e,o)}catch(o){await Mc(e,o)}sw(e)&&ow(e)}function UP(n){return Ds(n)&&n.Ta.length<10}function jP(n,e){n.Ta.push(e);const t=Bi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sw(n){return Ds(n)&&!Bi(n).x_()&&n.Ta.length>0}function ow(n){Bi(n).start()}async function BP(n){Bi(n).ra()}async function zP(n){const e=Bi(n);for(const t of n.Ta)e.ea(t.mutations)}async function $P(n,e,t){const i=n.Ta.shift(),o=lp.from(i,e,t);await iw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await sh(n)}async function HP(n,e){e&&Bi(n).X_&&await(async function(i,o){if((function(c){return RC(c)&&c!==ee.ABORTED})(o.code)){const l=i.Ta.shift();Bi(i).B_(),await iw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await sh(i)}})(n,e),sw(n)&&ow(n)}async function __(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ue(Ps,"RemoteStore received new credentials");const i=Ds(t);t.Ea.add(3),await Nl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ih(t)}async function qP(n,e){const t=Pe(n);e?(t.Ea.delete(2),await ih(t)):e||(t.Ea.add(2),await Nl(t),t.Ra.set("Unknown"))}function Jo(n){return n.ma||(n.ma=(function(t,i,o){const l=Pe(t);return l.sa(),new kP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:LP.bind(null,n),t_:bP.bind(null,n),r_:MP.bind(null,n),H_:FP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),_p(n)?yp(n):n.Ra.set("Unknown")):(await n.ma.stop(),rw(n))}))),n.ma}function Bi(n){return n.fa||(n.fa=(function(t,i,o){const l=Pe(t);return l.sa(),new NP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:BP.bind(null,n),r_:HP.bind(null,n),ta:zP.bind(null,n),na:$P.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await sh(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Ps,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new vp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Qo(n))return new ge(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Ya(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new No;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new st(ve.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Mo{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Mo(e,t,No.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KP{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=E_(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function E_(){return new xs((n=>AE(n)),Yc)}async function GP(n,e){const t=Pe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new WP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Ep(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&wp(t)}async function QP(n,e){const t=Pe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function JP(n,e){const t=Pe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&wp(t)}function XP(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function wp(n){n.Ca.forEach((e=>{e.next()}))}var Af,w_;(w_=Af||(Af={})).Ma="default",w_.Cache="cache";class YP{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Af.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class ZP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=CE(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new v_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const A=o.get(v),U=Zc(this.query,w)?w:null,O=!!A&&this.mutatedKeys.has(A.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let N=!1;A&&U?A.data.isEqual(U.data)?O!==F&&(i.track({type:3,doc:U}),N=!0):this.su(A,U)||(i.track({type:2,doc:U}),N=!0,(p&&this.eu(U,p)>0||y&&this.eu(U,y)<0)&&(f=!0)):!A&&U?(i.track({type:0,doc:U}),N=!0):A&&!U&&(i.track({type:1,doc:A}),N=!0,(p||y)&&(f=!0)),N&&(U?(c=c.add(U),l=F?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,w)=>(function(U,O){const F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:N})}};return F(U)-F(O)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Mo(this.query,e.tu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new lw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new aw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class ek{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tk{constructor(e){this.key=e,this.hu=!1}}class nk{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xs((f=>AE(f)),Yc),this.Iu=new Map,this.Eu=new Set,this.du=new st(ve.comparator),this.Au=new Map,this.Ru=new hp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rk(n,e,t=!0){const i=pw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await uw(i,e,t,!0),o}async function ik(n,e){const t=pw(n);await uw(t,e,!0,!1)}async function uw(n,e,t,i){const o=await wP(n.localStore,hr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await sk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&tw(n.remoteStore,o),f}async function sk(n,e,t,i,o){n.pu=(w,A,U)=>(async function(F,N,re,J){let Y=N.view.ru(re);Y.Cs&&(Y=await f_(F.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,Y))));const W=J&&J.targetChanges.get(N.targetId),se=J&&J.targetMismatches.get(N.targetId)!=null,de=N.view.applyChanges(Y,F.isPrimaryClient,W,se);return S_(F,N.targetId,de.au),de.snapshot})(n,w,A,U);const l=await f_(n.localStore,e,!0),c=new ZP(e,l.Qs),f=c.ru(l.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);S_(n,t,y.au);const v=new ek(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function ok(n,e,t){const i=Pe(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!Yc(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await If(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&mp(i.remoteStore,o.targetId),Cf(i,o.targetId)})).catch(Go)):(Cf(i,o.targetId),await If(i.localStore,o.targetId,!0))}async function ak(n,e){const t=Pe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),mp(t.remoteStore,i.targetId))}async function lk(n,e,t){const i=mk(n);try{const o=await(function(c,f){const p=Pe(c),y=et.now(),v=f.reduce(((U,O)=>U.add(O.key)),Me());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let O=$r(),F=Me();return p.Ns.getEntries(U,v).next((N=>{O=N,O.forEach(((re,J)=>{J.isValidDocument()||(F=F.add(re))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,O))).next((N=>{w=N;const re=[];for(const J of f){const Y=EC(J,w.get(J.key).overlayedDocument);Y!=null&&re.push(new Os(J.key,Y,vE(Y.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,re,f)})).next((N=>{A=N;const re=N.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(U,N.batchId,re)}))})).then((()=>({batchId:A.batchId,changes:kE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new st(be)),y=y.insert(f,p),c.Vu[c.currentUser.toKey()]=y})(i,o.batchId,t),await xl(i,o.changes),await sh(i.remoteStore)}catch(o){const l=Ep(o,"Failed to persist write");t.reject(l)}}async function cw(n,e){const t=Pe(n);try{const i=await _P(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await xl(t,i,e)}catch(i){await Go(i)}}function T_(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=Pe(c);p.onlineState=f;let y=!1;p.queries.forEach(((v,w)=>{for(const A of w.Sa)A.va(f)&&(y=!0)})),y&&wp(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uk(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new st(ve.comparator);c=c.insert(l,zt.newNoDocument(l,Ae.min()));const f=Me().add(l),p=new nh(Ae.min(),new Map,new st(be),c,f);await cw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Sp(i)}else await If(i.localStore,e,!1).then((()=>Cf(i,e,t))).catch(Go)}async function ck(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await yP(t.localStore,e);dw(t,i,null),hw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await xl(t,o)}catch(o){await Go(o)}}async function hk(n,e,t){const i=Pe(n);try{const o=await(function(c,f){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next((w=>(We(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(i.localStore,e);dw(i,e,t),hw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await xl(i,o)}catch(o){await Go(o)}}function hw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function dw(n,e,t){const i=Pe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||fw(n,i)}))}function fw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(mp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Sp(n))}function S_(n,e,t){for(const i of t)i instanceof aw?(n.Ru.addReference(i.key,e),dk(n,i)):i instanceof lw?(ue(Tp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||fw(n,i.key)):we(19791,{wu:i})}function dk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ue(Tp,"New document in limbo: "+t),n.Eu.add(i),Sp(n))}function Sp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(it.fromString(e)),i=n.fu.next();n.Au.set(i,new tk(t)),n.du=n.du.insert(t,i),tw(n.remoteStore,new Ni(hr(op(t.path)),i,"TargetPurposeLimboResolution",Gc.ce))}}async function xl(n,e,t){const i=Pe(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((y=>{var v;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=fp.As(p.targetId,y);l.push(w)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,y){const v=Pe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Q.forEach(y,(A=>Q.forEach(A.Es,(U=>v.persistence.referenceDelegate.addReference(w,A.targetId,U))).next((()=>Q.forEach(A.ds,(U=>v.persistence.referenceDelegate.removeReference(w,A.targetId,U)))))))))}catch(w){if(!Qo(w))throw w;ue(pp,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const U=v.Ms.get(A),O=U.snapshotVersion,F=U.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(A,F)}}})(i.localStore,l))}async function fk(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ue(Tp,"User change. New user:",e.toKey());const i=await XE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ge(ee.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xl(t,i.Ls)}}function pk(n,e){const t=Pe(n),i=t.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function pw(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uk.bind(null,e),e.Pu.H_=JP.bind(null,e.eventManager),e.Pu.yu=XP.bind(null,e.eventManager),e}function mk(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gP(this.persistence,new fP,e.initialUser,this.serializer)}Cu(e){return new JE(dp.mi,this.serializer)}Du(e){return new SP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class gk extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof bc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new JE((i=>bc.mi(i,t)),this.serializer)}}class Pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>T_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fk.bind(null,this.syncEngine),await qP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KP})()}createDatastore(e){const t=rh(e.databaseInfo.databaseId),i=(function(l){return new PP(l)})(e.databaseInfo);return(function(l,c,f,p){return new OP(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new VP(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>T_(this.syncEngine,t,0)),(function(){return g_.v()?new g_:new IP})())}createSyncEngine(e,t){return(function(o,l,c,f,p,y,v){const w=new nk(o,l,c,f,p,y);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Pe(o);ue(Ps,"RemoteStore shutting down."),l.Ea.add(5),await Nl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Pf.provider={build:()=>new Pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class _k{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=Zf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ue(zi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ue(zi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ep(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Xd(n,e){n.asyncQueue.verifyOperationInProgress(),ue(zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await XE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function I_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vk(n);ue(zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>__(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>__(e.remoteStore,o))),n._onlineComponents=e}async function vk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(zi,"Using user provided OfflineComponentProvider");try{await Xd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Oo("Error using user provided cache. Falling back to memory cache: "+t),await Xd(n,new Fc)}}else ue(zi,"Using default OfflineComponentProvider"),await Xd(n,new gk(void 0));return n._offlineComponents}async function mw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(zi,"Using user provided OnlineComponentProvider"),await I_(n,n._uninitializedComponentsProvider._online)):(ue(zi,"Using default OnlineComponentProvider"),await I_(n,new Pf))),n._onlineComponents}function Ek(n){return mw(n).then((e=>e.syncEngine))}async function wk(n){const e=await mw(n),t=e.eventManager;return t.onListen=rk.bind(null,e.syncEngine),t.onUnlisten=ok.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ik.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ak.bind(null,e.syncEngine),t}function Tk(n,e,t={}){const i=new bi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,y){const v=new yk({next:A=>{v.Nu(),c.enqueueAndForget((()=>QP(l,w)));const U=A.docs.has(f);!U&&A.fromCache?y.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&A.fromCache&&p&&p.source==="server"?y.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new YP(op(f.path),v,{includeMetadataChanges:!0,qa:!0});return GP(l,w)})(await wk(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firestore.googleapis.com",A_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yw,this.ssl=A_}else this.host=e.host,this.ssl=e.ssl??A_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JC)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new TA;switch(i.type){case"firstParty":return new AA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=R_.get(t);i&&(ue("ComponentProvider","Removing Datastore"),R_.delete(t),i.terminate())})(this),Promise.resolve()}}function Sk(n,e,t,i={}){var y;n=fl(n,Ip);const o=Ho(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(dv(`https://${f}`),fv("Firestore",!0)),l.host!==yw&&l.host!==f&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!Ss(p,c)&&(n._setSettings(p),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=Bt.MOCK_USER;else{v=PS(i.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Bt(A)}n._authCredentials=new SA(new lE(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rp(this.firestore,e,this._query)}}class Ct{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Cl(t,Ct._jsonSchema))return new Ct(e,i||null,new ve(it.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:_t("string",Ct._jsonSchemaVersion),referencePath:_t("string")};class El extends Rp{constructor(e,t,i){super(e,t,op(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ve(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function Fo(n,e,...t){if(n=sn(n),arguments.length===1&&(e=Zf.newId()),OA("doc","path",e),n instanceof Ip){const i=it.fromString(e,...t);return By(i),new Ct(n,null,new ve(i))}{if(!(n instanceof Ct||n instanceof El))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return By(i),new Ct(n.firestore,n instanceof El?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const i=Jd();i&&ue(P_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Jd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qo(e))throw e;ue(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",N_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=vp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function N_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ap extends Ip{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new k_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function Ik(n,e){const t=typeof n=="object"?n:yv(),i=typeof n=="string"?n:kc,o=Bf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=AS("firestore");l&&Sk(o,...l)}return o}function _w(n){if(n._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Rk(n),n._firestoreClient}function Rk(n){var i,o,l;const e=n._freezeSettings(),t=(function(f,p,y,v){return new HA(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,gw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _k(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Vt.fromBase64String(e))}catch(t){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new An(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:_t("string",An._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:_t("string",fr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new pr(e.vectorValues);throw new ge(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:_t("string",pr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^__.*__$/;class Ck{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)}}function Ew(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class Pp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ew(this.Ac)&&Ak.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rh(e)}Cc(e,t,i,o=!1){return new Pp({Ac:e,methodName:t,Dc:i,path:Dt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kk(n){const e=n._freezeSettings(),t=rh(n._databaseId);return new Pk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nk(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Iw("Data must be an object, but it was:",c,i);const f=Tw(i,c);let p,y;if(l.merge)p=new jn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const A=xk(e,w,t);if(!c.contains(A))throw new ge(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Dk(v,A)||v.push(A)}p=new jn(v),y=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=c.fieldTransforms;return new Ck(new Rn(f),p,y)}function ww(n,e){if(Sw(n=sn(n)))return Iw("Unsupported field value:",e,n),Tw(n,e);if(n instanceof vw)return(function(i,o){if(!Ew(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let p=ww(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=sn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=et.fromDate(i);return{timestampValue:Lc(o.serializer,l)}}if(i instanceof et){const l=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,l)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof An)return{bytesValue:zE(o.serializer,i._byteString)};if(i instanceof Ct){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pr)return(function(c,f){return{mapValue:{fields:{[yE]:{stringValue:_E},[Nc]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return ap(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${ep(i)}`)})(n,e)}function Tw(n,e){const t={};return hE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,((i,o)=>{const l=ww(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Sw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof fr||n instanceof An||n instanceof Ct||n instanceof vw||n instanceof pr)}function Iw(n,e,t){if(!Sw(t)||!uE(t)){const i=ep(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function xk(n,e,t){if((e=sn(e))instanceof Cp)return e._internalPath;if(typeof e=="string")return Rw(n,e);throw Uc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ok=new RegExp("[~\\*/\\[\\]]");function Rw(n,e,t){if(e.search(Ok)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cp(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(ee.INVALID_ARGUMENT,f+n+p)}function Dk(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Vk extends Aw{data(){return super.data()}}function Cw(n,e){return typeof e=="string"?Rw(n,e):e instanceof Cp?e._internalPath:e._delegate._internalPath}class Lk{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ns(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[Nc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>dt(c.doubleValue)));return new pr(t)}convertGeoPoint(e){return new fr(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);We(GE(i),9688,{name:e});const o=new gl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends Aw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ws._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:_t("string",ws._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class pc extends ws{data(e={}){return super.data(e)}}class al{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new el(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new pc(this._firestore,this._userDataWriter,i.key,i,new el(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:Mk(f.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n){n=fl(n,Ct);const e=fl(n.firestore,Ap);return Tk(_w(e),n._key).then((t=>jk(e,n,t)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:_t("string",al._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class Fk extends Lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function Np(n,e,t){n=fl(n,Ct);const i=fl(n.firestore,Ap),o=bk(n.converter,e,t);return Uk(i,[Nk(kk(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ur.none())])}function Uk(n,e){return(function(i,o){const l=new bi;return i.asyncQueue.enqueueAndForget((async()=>lk(await Ek(i),o,l))),l.promise})(_w(n),e)}function jk(n,e,t){const i=t.docs.get(e._key),o=new Fk(n);return new ws(n,o,e._key,i,new el(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ko=o})(qo),xo(new Is("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ap(new IA(i.getProvider("auth-internal")),new CA(c,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,v)})(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Vi(My,Fy,e),Vi(My,Fy,"esm2020")})();const Bk={apiKey:"AIzaSyCXUL667p64Mldxl53dW0BV2-1s7DDacM8",authDomain:"e-network-96070.firebaseapp.com",projectId:"e-network-96070",storageBucket:"e-network-96070.appspot.com",messagingSenderId:"903825708375",appId:"1:903825708375:web:1fd555b44cc26800c09a12",measurementId:"G-9G2G6BNK52"},Pw=gv(Bk),Gt=EA(Pw),Uo=Ik(Pw);function zk(){const[n,e]=K.useState(""),[t,i]=K.useState(""),[o,l]=K.useState(null),[c,f]=K.useState(!1),p=$c(),y=async w=>{w.preventDefault(),f(!0),l(null);try{await sR(Gt,n,t),p("/")}catch(A){l(A.message)}finally{f(!1)}},v=async()=>{const w=new Lr;f(!0),l(null);try{await kR(Gt,w),p("/")}catch(A){l(A.message)}finally{f(!1)}};return I.jsx("div",{className:"login-container",children:I.jsxs("form",{className:"login-form",onSubmit:y,children:[I.jsx("h2",{children:"Login"}),o&&I.jsx("p",{className:"error-message",children:o}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:w=>e(w.target.value),required:!0,disabled:c})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",id:"password",name:"password",value:t,onChange:w=>i(w.target.value),required:!0,disabled:c})]}),I.jsx("button",{type:"submit",disabled:c,children:c?"Logging in...":"Login"}),I.jsx("button",{type:"button",onClick:v,className:"google-signin-button",disabled:c,children:c?"Signing in...":"Sign in with Google"}),I.jsx("p",{className:"forgot-password-link",children:I.jsx(In,{to:"/forgot-password",children:"Forgot your password?"})}),I.jsxs("p",{className:"register-link",children:["Don't have an account? ",I.jsx(In,{to:"/register",children:"Register here"})]})]})})}function $k(){const[n,e]=K.useState(""),[t,i]=K.useState(""),[o,l]=K.useState(""),[c,f]=K.useState(null),[p,y]=K.useState(!1),[v,w]=K.useState(""),A=$c(),U=async O=>{O.preventDefault(),y(!0),f(null),w("");try{const N=(await iR(Gt,n,t)).user;await $v(N),await Np(Fo(Uo,"users",N.uid),{username:o,email:n}),w("A verification email has been sent to your email address. Please verify your email to login."),setTimeout(()=>{A("/login")},5e3)}catch(F){f(F.message)}finally{y(!1)}};return I.jsx("div",{className:"register-container",children:I.jsxs("form",{className:"register-form",onSubmit:U,children:[I.jsx("h2",{children:"Register"}),c&&I.jsx("p",{className:"error-message",children:c}),v&&I.jsx("p",{className:"verification-message",children:v}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"username",children:"Username"}),I.jsx("input",{type:"text",id:"username",name:"username",value:o,onChange:O=>l(O.target.value),required:!0,disabled:p})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:O=>e(O.target.value),required:!0,disabled:p})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",id:"password",name:"password",value:t,onChange:O=>i(O.target.value),required:!0,disabled:p})]}),I.jsx("button",{type:"submit",disabled:p,children:p?"Registering...":"Register"}),I.jsxs("p",{className:"login-link",children:["Already have an account? ",I.jsx(In,{to:"/login",children:"Login here"})]})]})})}function Hk(){const[n,e]=K.useState(""),[t,i]=K.useState(""),[o,l]=K.useState(""),c=async f=>{f.preventDefault(),i(""),l("");try{await rR(Gt,n),i("Password reset email sent! Please check your inbox.")}catch(p){l(p.message)}};return I.jsx("div",{className:"forgot-password-container",children:I.jsxs("form",{className:"forgot-password-form",onSubmit:c,children:[I.jsx("h2",{children:"Forgot Password"}),I.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:f=>e(f.target.value),required:!0})]}),I.jsx("button",{type:"submit",children:"Send Reset Link"}),t&&I.jsx("p",{className:"success-message",children:t}),o&&I.jsx("p",{className:"error-message",children:o})]})})}function kw(n,e){return function(){return n.apply(e,arguments)}}const{toString:qk}=Object.prototype,{getPrototypeOf:xp}=Object,{iterator:oh,toStringTag:Nw}=Symbol,ah=(n=>e=>{const t=qk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),zn=n=>(n=n.toLowerCase(),e=>ah(e)===n),lh=n=>e=>typeof e===n,{isArray:Xo}=Array,jo=lh("undefined");function Ol(n){return n!==null&&!jo(n)&&n.constructor!==null&&!jo(n.constructor)&&nn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const xw=zn("ArrayBuffer");function Wk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&xw(n.buffer),e}const Kk=lh("string"),nn=lh("function"),Ow=lh("number"),Dl=n=>n!==null&&typeof n=="object",Gk=n=>n===!0||n===!1,mc=n=>{if(ah(n)!=="object")return!1;const e=xp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Nw in n)&&!(oh in n)},Qk=n=>{if(!Dl(n)||Ol(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Jk=zn("Date"),Xk=zn("File"),Yk=zn("Blob"),Zk=zn("FileList"),eN=n=>Dl(n)&&nn(n.pipe),tN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||nn(n.append)&&((e=ah(n))==="formdata"||e==="object"&&nn(n.toString)&&n.toString()==="[object FormData]"))},nN=zn("URLSearchParams"),[rN,iN,sN,oN]=["ReadableStream","Request","Response","Headers"].map(zn),aN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),Xo(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{if(Ol(n))return;const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(i=0;i<c;i++)f=l[i],e.call(null,n[f],f,n)}}function Dw(n,e){if(Ol(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vw=n=>!jo(n)&&n!==Es;function kf(){const{caseless:n,skipUndefined:e}=Vw(this)&&this||{},t={},i=(o,l)=>{const c=n&&Dw(t,l)||l;mc(t[c])&&mc(o)?t[c]=kf(t[c],o):mc(o)?t[c]=kf({},o):Xo(o)?t[c]=o.slice():(!e||!jo(o))&&(t[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Vl(arguments[o],i);return t}const lN=(n,e,t,{allOwnKeys:i}={})=>(Vl(e,(o,l)=>{t&&nn(o)?n[l]=kw(o,t):n[l]=o},{allOwnKeys:i}),n),uN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cN=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},hN=(n,e,t,i)=>{let o,l,c;const f={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),l=o.length;l-- >0;)c=o[l],(!i||i(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&xp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},dN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},fN=n=>{if(!n)return null;if(Xo(n))return n;let e=n.length;if(!Ow(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},pN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&xp(Uint8Array)),mN=(n,e)=>{const i=(n&&n[oh]).call(n);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(n,l[0],l[1])}},gN=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},yN=zn("HTMLFormElement"),_N=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),x_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),vN=zn("RegExp"),Lw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Vl(t,(o,l)=>{let c;(c=e(o,l,n))!==!1&&(i[l]=c||o)}),Object.defineProperties(n,i)},EN=n=>{Lw(n,(e,t)=>{if(nn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(nn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},wN=(n,e)=>{const t={},i=o=>{o.forEach(l=>{t[l]=!0})};return Xo(n)?i(n):i(String(n).split(e)),t},TN=()=>{},SN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function IN(n){return!!(n&&nn(n.append)&&n[Nw]==="FormData"&&n[oh])}const RN=n=>{const e=new Array(10),t=(i,o)=>{if(Dl(i)){if(e.indexOf(i)>=0)return;if(Ol(i))return i;if(!("toJSON"in i)){e[o]=i;const l=Xo(i)?[]:{};return Vl(i,(c,f)=>{const p=t(c,o+1);!jo(p)&&(l[f]=p)}),e[o]=void 0,l}}return i};return t(n,0)},AN=zn("AsyncFunction"),CN=n=>n&&(Dl(n)||nn(n))&&nn(n.then)&&nn(n.catch),bw=((n,e)=>n?setImmediate:e?((t,i)=>(Es.addEventListener("message",({source:o,data:l})=>{o===Es&&l===t&&i.length&&i.shift()()},!1),o=>{i.push(o),Es.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",nn(Es.postMessage)),PN=typeof queueMicrotask<"u"?queueMicrotask.bind(Es):typeof process<"u"&&process.nextTick||bw,kN=n=>n!=null&&nn(n[oh]),q={isArray:Xo,isArrayBuffer:xw,isBuffer:Ol,isFormData:tN,isArrayBufferView:Wk,isString:Kk,isNumber:Ow,isBoolean:Gk,isObject:Dl,isPlainObject:mc,isEmptyObject:Qk,isReadableStream:rN,isRequest:iN,isResponse:sN,isHeaders:oN,isUndefined:jo,isDate:Jk,isFile:Xk,isBlob:Yk,isRegExp:vN,isFunction:nn,isStream:eN,isURLSearchParams:nN,isTypedArray:pN,isFileList:Zk,forEach:Vl,merge:kf,extend:lN,trim:aN,stripBOM:uN,inherits:cN,toFlatObject:hN,kindOf:ah,kindOfTest:zn,endsWith:dN,toArray:fN,forEachEntry:mN,matchAll:gN,isHTMLForm:yN,hasOwnProperty:x_,hasOwnProp:x_,reduceDescriptors:Lw,freezeMethods:EN,toObjectSet:wN,toCamelCase:_N,noop:TN,toFiniteNumber:SN,findKey:Dw,global:Es,isContextDefined:Vw,isSpecCompliantForm:IN,toJSONObject:RN,isAsyncFn:AN,isThenable:CN,setImmediate:bw,asap:PN,isIterable:kN};function ke(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Mw=ke.prototype,Fw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Fw[n]={value:n}});Object.defineProperties(ke,Fw);Object.defineProperty(Mw,"isAxiosError",{value:!0});ke.from=(n,e,t,i,o,l)=>{const c=Object.create(Mw);q.toFlatObject(n,c,function(v){return v!==Error.prototype},y=>y!=="isAxiosError");const f=n&&n.message?n.message:"Error",p=e==null&&n?n.code:e;return ke.call(c,f,p,t,i,o),n&&c.cause==null&&Object.defineProperty(c,"cause",{value:n,configurable:!0}),c.name=n&&n.name||"Error",l&&Object.assign(c,l),c};const NN=null;function Nf(n){return q.isPlainObject(n)||q.isArray(n)}function Uw(n){return q.endsWith(n,"[]")?n.slice(0,-2):n}function O_(n,e,t){return n?n.concat(e).map(function(o,l){return o=Uw(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function xN(n){return q.isArray(n)&&!n.some(Nf)}const ON=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function uh(n,e,t){if(!q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,N){return!q.isUndefined(N[F])});const i=t.metaTokens,o=t.visitor||v,l=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function y(O){if(O===null)return"";if(q.isDate(O))return O.toISOString();if(q.isBoolean(O))return O.toString();if(!p&&q.isBlob(O))throw new ke("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(O)||q.isTypedArray(O)?p&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,F,N){let re=O;if(O&&!N&&typeof O=="object"){if(q.endsWith(F,"{}"))F=i?F:F.slice(0,-2),O=JSON.stringify(O);else if(q.isArray(O)&&xN(O)||(q.isFileList(O)||q.endsWith(F,"[]"))&&(re=q.toArray(O)))return F=Uw(F),re.forEach(function(Y,W){!(q.isUndefined(Y)||Y===null)&&e.append(c===!0?O_([F],W,l):c===null?F:F+"[]",y(Y))}),!1}return Nf(O)?!0:(e.append(O_(N,F,l),y(O)),!1)}const w=[],A=Object.assign(ON,{defaultVisitor:v,convertValue:y,isVisitable:Nf});function U(O,F){if(!q.isUndefined(O)){if(w.indexOf(O)!==-1)throw Error("Circular reference detected in "+F.join("."));w.push(O),q.forEach(O,function(re,J){(!(q.isUndefined(re)||re===null)&&o.call(e,re,q.isString(J)?J.trim():J,F,A))===!0&&U(re,F?F.concat(J):[J])}),w.pop()}}if(!q.isObject(n))throw new TypeError("data must be an object");return U(n),e}function D_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Op(n,e){this._pairs=[],n&&uh(n,this,e)}const jw=Op.prototype;jw.append=function(e,t){this._pairs.push([e,t])};jw.toString=function(e){const t=e?function(i){return e.call(this,i,D_)}:D_;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function DN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bw(n,e,t){if(!e)return n;const i=t&&t.encode||DN;q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=q.isURLSearchParams(e)?e.toString():new Op(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class V_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(i){i!==null&&e(i)})}}const zw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VN=typeof URLSearchParams<"u"?URLSearchParams:Op,LN=typeof FormData<"u"?FormData:null,bN=typeof Blob<"u"?Blob:null,MN={isBrowser:!0,classes:{URLSearchParams:VN,FormData:LN,Blob:bN},protocols:["http","https","file","blob","url","data"]},Dp=typeof window<"u"&&typeof document<"u",xf=typeof navigator=="object"&&navigator||void 0,FN=Dp&&(!xf||["ReactNative","NativeScript","NS"].indexOf(xf.product)<0),UN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jN=Dp&&window.location.href||"http://localhost",BN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dp,hasStandardBrowserEnv:FN,hasStandardBrowserWebWorkerEnv:UN,navigator:xf,origin:jN},Symbol.toStringTag,{value:"Module"})),$t={...BN,...MN};function zN(n,e){return uh(n,new $t.classes.URLSearchParams,{visitor:function(t,i,o,l){return $t.isNode&&q.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function $N(n){return q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HN(n){const e={},t=Object.keys(n);let i;const o=t.length;let l;for(i=0;i<o;i++)l=t[i],e[l]=n[l];return e}function $w(n){function e(t,i,o,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=l>=t.length;return c=!c&&q.isArray(o)?o.length:c,p?(q.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!f):((!o[c]||!q.isObject(o[c]))&&(o[c]=[]),e(t,i,o[c],l)&&q.isArray(o[c])&&(o[c]=HN(o[c])),!f)}if(q.isFormData(n)&&q.isFunction(n.entries)){const t={};return q.forEachEntry(n,(i,o)=>{e($N(i),o,t,0)}),t}return null}function qN(n,e,t){if(q.isString(n))try{return(e||JSON.parse)(n),q.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ll={transitional:zw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,l=q.isObject(e);if(l&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o?JSON.stringify($w(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return zN(e,this.formSerializer).toString();if((f=q.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return uh(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),qN(e)):e}],transformResponse:[function(e){const t=this.transitional||Ll.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?ke.from(f,ke.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],n=>{Ll.headers[n]={}});const WN=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KN=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!t||e[t]&&WN[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},L_=Symbol("internals");function Ga(n){return n&&String(n).trim().toLowerCase()}function gc(n){return n===!1||n==null?n:q.isArray(n)?n.map(gc):String(n)}function GN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const QN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Yd(n,e,t,i,o){if(q.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!q.isString(e)){if(q.isString(i))return e.indexOf(i)!==-1;if(q.isRegExp(i))return i.test(e)}}function JN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function XN(n,e){const t=q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,l,c){return this[i].call(this,e,o,l,c)},configurable:!0})})}let rn=class{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function l(f,p,y){const v=Ga(p);if(!v)throw new Error("header name must be a non-empty string");const w=q.findKey(o,v);(!w||o[w]===void 0||y===!0||y===void 0&&o[w]!==!1)&&(o[w||p]=gc(f))}const c=(f,p)=>q.forEach(f,(y,v)=>l(y,v,p));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(q.isString(e)&&(e=e.trim())&&!QN(e))c(KN(e),t);else if(q.isObject(e)&&q.isIterable(e)){let f={},p,y;for(const v of e){if(!q.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[y=v[0]]=(p=f[y])?q.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}c(f,t)}else e!=null&&l(t,e,i);return this}get(e,t){if(e=Ga(e),e){const i=q.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return GN(o);if(q.isFunction(t))return t.call(this,o,i);if(q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ga(e),e){const i=q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Yd(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function l(c){if(c=Ga(c),c){const f=q.findKey(i,c);f&&(!t||Yd(i,i[f],f,t))&&(delete i[f],o=!0)}}return q.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const l=t[i];(!e||Yd(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,i={};return q.forEach(this,(o,l)=>{const c=q.findKey(i,l);if(c){t[c]=gc(o),delete t[l];return}const f=e?JN(l):String(l).trim();f!==l&&delete t[l],t[f]=gc(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&q.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[L_]=this[L_]={accessors:{}}).accessors,o=this.prototype;function l(c){const f=Ga(c);i[f]||(XN(o,c),i[f]=!0)}return q.isArray(e)?e.forEach(l):l(e),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(rn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});q.freezeMethods(rn);function Zd(n,e){const t=this||Ll,i=e||t,o=rn.from(i.headers);let l=i.data;return q.forEach(n,function(f){l=f.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function Hw(n){return!!(n&&n.__CANCEL__)}function Yo(n,e,t){ke.call(this,n??"canceled",ke.ERR_CANCELED,e,t),this.name="CanceledError"}q.inherits(Yo,ke,{__CANCEL__:!0});function qw(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new ke("Request failed with status code "+t.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function YN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ZN(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),v=i[l];c||(c=y),t[o]=p,i[o]=y;let w=l,A=0;for(;w!==o;)A+=t[w++],w=w%n;if(o=(o+1)%n,o===l&&(l=(l+1)%n),y-c<e)return;const U=v&&y-v;return U?Math.round(A*1e3/U):void 0}}function ex(n,e){let t=0,i=1e3/e,o,l;const c=(y,v=Date.now())=>{t=v,o=null,l&&(clearTimeout(l),l=null),n(...y)};return[(...y)=>{const v=Date.now(),w=v-t;w>=i?c(y,v):(o=y,l||(l=setTimeout(()=>{l=null,c(o)},i-w)))},()=>o&&c(o)]}const jc=(n,e,t=3)=>{let i=0;const o=ZN(50,250);return ex(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,p=c-i,y=o(p),v=c<=f;i=c;const w={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:y||void 0,estimated:y&&f&&v?(f-c)/y:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(w)},t)},b_=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},M_=n=>(...e)=>q.asap(()=>n(...e)),tx=$t.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$t.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,nx=$t.hasStandardBrowserEnv?{write(n,e,t,i,o,l){const c=[n+"="+encodeURIComponent(e)];q.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),q.isString(i)&&c.push("path="+i),q.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rx(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ix(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ww(n,e,t){let i=!rx(e);return n&&(i||t==!1)?ix(n,e):e}const F_=n=>n instanceof rn?{...n}:n;function ks(n,e){e=e||{};const t={};function i(y,v,w,A){return q.isPlainObject(y)&&q.isPlainObject(v)?q.merge.call({caseless:A},y,v):q.isPlainObject(v)?q.merge({},v):q.isArray(v)?v.slice():v}function o(y,v,w,A){if(q.isUndefined(v)){if(!q.isUndefined(y))return i(void 0,y,w,A)}else return i(y,v,w,A)}function l(y,v){if(!q.isUndefined(v))return i(void 0,v)}function c(y,v){if(q.isUndefined(v)){if(!q.isUndefined(y))return i(void 0,y)}else return i(void 0,v)}function f(y,v,w){if(w in e)return i(y,v);if(w in n)return i(void 0,y)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(y,v,w)=>o(F_(y),F_(v),w,!0)};return q.forEach(Object.keys({...n,...e}),function(v){const w=p[v]||o,A=w(n[v],e[v],v);q.isUndefined(A)&&w!==f||(t[v]=A)}),t}const Kw=n=>{const e=ks({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:f}=e;if(e.headers=c=rn.from(c),e.url=Bw(Ww(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),q.isFormData(t)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(q.isFunction(t.getHeaders)){const p=t.getHeaders(),y=["content-type","content-length"];Object.entries(p).forEach(([v,w])=>{y.includes(v.toLowerCase())&&c.set(v,w)})}}if($t.hasStandardBrowserEnv&&(i&&q.isFunction(i)&&(i=i(e)),i||i!==!1&&tx(e.url))){const p=o&&l&&nx.read(l);p&&c.set(o,p)}return e},sx=typeof XMLHttpRequest<"u",ox=sx&&function(n){return new Promise(function(t,i){const o=Kw(n);let l=o.data;const c=rn.from(o.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:y}=o,v,w,A,U,O;function F(){U&&U(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function re(){if(!N)return;const Y=rn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),se={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:Y,config:n,request:N};qw(function(k){t(k),F()},function(k){i(k),F()},se),N=null}"onloadend"in N?N.onloadend=re:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(re)},N.onabort=function(){N&&(i(new ke("Request aborted",ke.ECONNABORTED,n,N)),N=null)},N.onerror=function(W){const se=W&&W.message?W.message:"Network Error",de=new ke(se,ke.ERR_NETWORK,n,N);de.event=W||null,i(de),N=null},N.ontimeout=function(){let W=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const se=o.transitional||zw;o.timeoutErrorMessage&&(W=o.timeoutErrorMessage),i(new ke(W,se.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,n,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&q.forEach(c.toJSON(),function(W,se){N.setRequestHeader(se,W)}),q.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),f&&f!=="json"&&(N.responseType=o.responseType),y&&([A,O]=jc(y,!0),N.addEventListener("progress",A)),p&&N.upload&&([w,U]=jc(p),N.upload.addEventListener("progress",w),N.upload.addEventListener("loadend",U)),(o.cancelToken||o.signal)&&(v=Y=>{N&&(i(!Y||Y.type?new Yo(null,n,N):Y),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const J=YN(o.url);if(J&&$t.protocols.indexOf(J)===-1){i(new ke("Unsupported protocol "+J+":",ke.ERR_BAD_REQUEST,n));return}N.send(l||null)})},ax=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const l=function(y){if(!o){o=!0,f();const v=y instanceof Error?y:this.reason;i.abort(v instanceof ke?v:new Yo(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,l(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),n=null)};n.forEach(y=>y.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>q.asap(f),p}},lx=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},ux=async function*(n,e){for await(const t of cx(n))yield*lx(t,e)},cx=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},U_=(n,e,t,i)=>{const o=ux(n,e);let l=0,c,f=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await o.next();if(y){f(),p.close();return}let w=v.byteLength;if(t){let A=l+=w;t(A)}p.enqueue(new Uint8Array(v))}catch(y){throw f(y),y}},cancel(p){return f(p),o.return()}},{highWaterMark:2})},j_=64*1024,{isFunction:ic}=q,hx=(({Request:n,Response:e})=>({Request:n,Response:e}))(q.global),{ReadableStream:B_,TextEncoder:z_}=q.global,$_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},dx=n=>{n=q.merge.call({skipUndefined:!0},hx,n);const{fetch:e,Request:t,Response:i}=n,o=e?ic(e):typeof fetch=="function",l=ic(t),c=ic(i);if(!o)return!1;const f=o&&ic(B_),p=o&&(typeof z_=="function"?(O=>F=>O.encode(F))(new z_):async O=>new Uint8Array(await new t(O).arrayBuffer())),y=l&&f&&$_(()=>{let O=!1;const F=new t($t.origin,{body:new B_,method:"POST",get duplex(){return O=!0,"half"}}).headers.has("Content-Type");return O&&!F}),v=c&&f&&$_(()=>q.isReadableStream(new i("").body)),w={stream:v&&(O=>O.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!w[O]&&(w[O]=(F,N)=>{let re=F&&F[O];if(re)return re.call(F);throw new ke(`Response type '${O}' is not supported`,ke.ERR_NOT_SUPPORT,N)})});const A=async O=>{if(O==null)return 0;if(q.isBlob(O))return O.size;if(q.isSpecCompliantForm(O))return(await new t($t.origin,{method:"POST",body:O}).arrayBuffer()).byteLength;if(q.isArrayBufferView(O)||q.isArrayBuffer(O))return O.byteLength;if(q.isURLSearchParams(O)&&(O=O+""),q.isString(O))return(await p(O)).byteLength},U=async(O,F)=>{const N=q.toFiniteNumber(O.getContentLength());return N??A(F)};return async O=>{let{url:F,method:N,data:re,signal:J,cancelToken:Y,timeout:W,onDownloadProgress:se,onUploadProgress:de,responseType:k,headers:S,withCredentials:P="same-origin",fetchOptions:V}=Kw(O),x=e||fetch;k=k?(k+"").toLowerCase():"text";let b=ax([J,Y&&Y.toAbortSignal()],W),R=null;const Te=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let ze;try{if(de&&y&&N!=="get"&&N!=="head"&&(ze=await U(S,re))!==0){let M=new t(F,{method:"POST",body:re,duplex:"half"}),G;if(q.isFormData(re)&&(G=M.headers.get("content-type"))&&S.setContentType(G),M.body){const[Re,Se]=b_(ze,jc(M_(de)));re=U_(M.body,j_,Re,Se)}}q.isString(P)||(P=P?"include":"omit");const Ne=l&&"credentials"in t.prototype,De={...V,signal:b,method:N.toUpperCase(),headers:S.normalize().toJSON(),body:re,duplex:"half",credentials:Ne?P:void 0};R=l&&new t(F,De);let ne=await(l?x(R,V):x(F,De));const fe=v&&(k==="stream"||k==="response");if(v&&(se||fe&&Te)){const M={};["status","statusText","headers"].forEach(xe=>{M[xe]=ne[xe]});const G=q.toFiniteNumber(ne.headers.get("content-length")),[Re,Se]=se&&b_(G,jc(M_(se),!0))||[];ne=new i(U_(ne.body,j_,Re,()=>{Se&&Se(),Te&&Te()}),M)}k=k||"text";let ae=await w[q.findKey(w,k)||"text"](ne,O);return!fe&&Te&&Te(),await new Promise((M,G)=>{qw(M,G,{data:ae,headers:rn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:O,request:R})})}catch(Ne){throw Te&&Te(),Ne&&Ne.name==="TypeError"&&/Load failed|fetch/i.test(Ne.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,O,R),{cause:Ne.cause||Ne}):ke.from(Ne,Ne&&Ne.code,O,R)}}},fx=new Map,Gw=n=>{let e=n?n.env:{};const{fetch:t,Request:i,Response:o}=e,l=[i,o,t];let c=l.length,f=c,p,y,v=fx;for(;f--;)p=l[f],y=v.get(p),y===void 0&&v.set(p,y=f?new Map:dx(e)),v=y;return y};Gw();const Of={http:NN,xhr:ox,fetch:{get:Gw}};q.forEach(Of,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const H_=n=>`- ${n}`,px=n=>q.isFunction(n)||n===null||n===!1,Qw={getAdapter:(n,e)=>{n=q.isArray(n)?n:[n];const{length:t}=n;let i,o;const l={};for(let c=0;c<t;c++){i=n[c];let f;if(o=i,!px(i)&&(o=Of[(f=String(i)).toLowerCase()],o===void 0))throw new ke(`Unknown adapter '${f}'`);if(o&&(q.isFunction(o)||(o=o.get(e))))break;l[f||"#"+c]=o}if(!o){const c=Object.entries(l).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let f=t?c.length>1?`since :
`+c.map(H_).join(`
`):" "+H_(c[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:Of};function ef(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Yo(null,n)}function q_(n){return ef(n),n.headers=rn.from(n.headers),n.data=Zd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Qw.getAdapter(n.adapter||Ll.adapter,n)(n).then(function(i){return ef(n),i.data=Zd.call(n,n.transformResponse,i),i.headers=rn.from(i.headers),i},function(i){return Hw(i)||(ef(n),i&&i.response&&(i.response.data=Zd.call(n,n.transformResponse,i.response),i.response.headers=rn.from(i.response.headers))),Promise.reject(i)})}const Jw="1.12.2",ch={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ch[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const W_={};ch.transitional=function(e,t,i){function o(l,c){return"[Axios v"+Jw+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,f)=>{if(e===!1)throw new ke(o(c," has been removed"+(t?" in "+t:"")),ke.ERR_DEPRECATED);return t&&!W_[c]&&(W_[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};ch.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function mx(n,e,t){if(typeof n!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const l=i[o],c=e[l];if(c){const f=n[l],p=f===void 0||c(f,l,n);if(p!==!0)throw new ke("option "+l+" must be "+p,ke.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ke("Unknown option "+l,ke.ERR_BAD_OPTION)}}const yc={assertOptions:mx,validators:ch},lr=yc.validators;let Ts=class{constructor(e){this.defaults=e||{},this.interceptors={request:new V_,response:new V_}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ks(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:l}=t;i!==void 0&&yc.assertOptions(i,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),o!=null&&(q.isFunction(o)?t.paramsSerializer={serialize:o}:yc.assertOptions(o,{encode:lr.function,serialize:lr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yc.assertOptions(t,{baseUrl:lr.spelling("baseURL"),withXsrfToken:lr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&q.merge(l.common,l[t.method]);l&&q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete l[O]}),t.headers=rn.concat(c,l);const f=[];let p=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(t)===!1||(p=p&&F.synchronous,f.unshift(F.fulfilled,F.rejected))});const y=[];this.interceptors.response.forEach(function(F){y.push(F.fulfilled,F.rejected)});let v,w=0,A;if(!p){const O=[q_.bind(this),void 0];for(O.unshift(...f),O.push(...y),A=O.length,v=Promise.resolve(t);w<A;)v=v.then(O[w++],O[w++]);return v}A=f.length;let U=t;for(;w<A;){const O=f[w++],F=f[w++];try{U=O(U)}catch(N){F.call(this,N);break}}try{v=q_.call(this,U)}catch(O){return Promise.reject(O)}for(w=0,A=y.length;w<A;)v=v.then(y[w++],y[w++]);return v}getUri(e){e=ks(this.defaults,e);const t=Ww(e.baseURL,e.url,e.allowAbsoluteUrls);return Bw(t,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){Ts.prototype[e]=function(t,i){return this.request(ks(i||{},{method:e,url:t,data:(i||{}).data}))}});q.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,f){return this.request(ks(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ts.prototype[e]=t(),Ts.prototype[e+"Form"]=t(!0)});let gx=class Xw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(f=>{i.subscribe(f),l=f}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,f){i.reason||(i.reason=new Yo(l,c,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Xw(function(o){e=o}),cancel:e}}};function yx(n){return function(t){return n.apply(null,t)}}function _x(n){return q.isObject(n)&&n.isAxiosError===!0}const Df={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Df).forEach(([n,e])=>{Df[e]=n});function Yw(n){const e=new Ts(n),t=kw(Ts.prototype.request,e);return q.extend(t,Ts.prototype,e,{allOwnKeys:!0}),q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Yw(ks(n,o))},t}const lt=Yw(Ll);lt.Axios=Ts;lt.CanceledError=Yo;lt.CancelToken=gx;lt.isCancel=Hw;lt.VERSION=Jw;lt.toFormData=uh;lt.AxiosError=ke;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=yx;lt.isAxiosError=_x;lt.mergeConfig=ks;lt.AxiosHeaders=rn;lt.formToJSON=n=>$w(q.isHTMLForm(n)?new FormData(n):n);lt.getAdapter=Qw.getAdapter;lt.HttpStatusCode=Df;lt.default=lt;const{Axios:Fx,AxiosError:Ux,CanceledError:jx,isCancel:Bx,CancelToken:zx,VERSION:$x,all:Hx,Cancel:qx,isAxiosError:Wx,spread:Kx,toFormData:Gx,AxiosHeaders:Qx,HttpStatusCode:Jx,formToJSON:Xx,getAdapter:Yx,mergeConfig:Zx}=lt,vx="62a8e4e5653b4456bdfdcd70966f32e9",Vp=lt.create({baseURL:"/api",headers:{Authorization:"Bearer 9gJDoq6dMcnuTubobzHMocCMmtGefchdnNk7B9HA4dRWOtFwBEU"}}),Ex=lt.create({baseURL:"/news-api/v2"}),Bc=()=>Vp.get("/matches/upcoming"),wx=n=>!n||n.length===0?Promise.resolve({data:[]}):Vp.get(`/matches?filter[id]=${n.join(",")}`),Tx=n=>Vp.get(`/matches/${n}`),Sx=(n="esports")=>{const e={q:n,sortBy:"publishedAt",language:"en",apiKey:vx};return Ex.get("/everything",{params:e})},Ix=()=>{const[n,e]=K.useState([]),[t,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const l=await Bc();e(l.data)}catch(l){console.error("Error fetching matches:",l)}finally{i(!1)}})()},[]),t?I.jsx("div",{className:"loading-container",children:"Loading..."}):I.jsxs("div",{className:"matches-page-container",children:[I.jsx("h1",{className:"page-title",children:"Upcoming Matches"}),I.jsx("div",{className:"matches-grid",children:n.map(o=>{var l,c,f,p,y,v;return I.jsxs(In,{to:`/match/${o.id}`,className:"match-card",children:[I.jsxs("div",{className:"match-info",children:[I.jsx("span",{children:o.league.name}),I.jsx("span",{children:new Date(o.begin_at).toLocaleString()})]}),I.jsxs("div",{className:"teams-container",children:[I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((l=o.opponents[0])==null?void 0:l.opponent.image_url)||"default-team-logo.png",alt:(c=o.opponents[0])==null?void 0:c.opponent.name}),I.jsx("span",{children:(f=o.opponents[0])==null?void 0:f.opponent.name})]}),I.jsx("span",{className:"vs-text",children:"vs"}),I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((p=o.opponents[1])==null?void 0:p.opponent.image_url)||"default-team-logo.png",alt:(y=o.opponents[1])==null?void 0:y.opponent.name}),I.jsx("span",{children:(v=o.opponents[1])==null?void 0:v.opponent.name})]})]})]},o.id)})})]})},Rx=[{id:1,name:"League of Legends"},{id:26,name:"Valorant"},{id:3,name:"Dota 2"},{id:4,name:"Counter-Strike: Global Offensive"},{id:2,name:"Overwatch"},{id:10,name:"Rocket League"},{id:14,name:"Rainbow Six Siege"},{id:22,name:"Apex Legends"},{id:35,name:"Call of Duty: Modern Warfare"},{id:29,name:"StarCraft II"},{id:9,name:"Hearthstone"},{id:13,name:"PUBG"},{id:36,name:"Street Fighter V"},{id:32,name:"Tekken 7"},{id:25,name:"Super Smash Bros. Ultimate"},{id:28,name:"Fortnite"},{id:23,name:"Arena of Valor"},{id:30,name:"Teamfight Tactics"},{id:31,name:"Magic: The Gathering Arena"},{id:24,name:"Free Fire"}],Ax=[{id:4198,name:"LEC"},{id:4197,name:"LCS"},{id:293,name:"LCK"},{id:294,name:"LPL"},{id:4331,name:"VCT Americas"},{id:4332,name:"VCT EMEA"},{id:4333,name:"VCT Pacific"},{id:4473,name:"VCT China"},{id:4259,name:"The International"},{id:4260,name:"ESL One"},{id:4243,name:"BLAST Premier"},{id:4152,name:"Intel Extreme Masters"},{id:4208,name:"Overwatch League"},{id:4252,name:"Rocket League Championship Series"},{id:4248,name:"Six Invitational"},{id:4395,name:"Apex Legends Global Series"},{id:4209,name:"Call of Duty League"},{id:4249,name:"Evolution Championship Series (EVO)"},{id:4160,name:"PUBG Global Championship"},{id:4172,name:"Free Fire World Series"}],Cx=[{id:10,name:"Team Liquid"},{id:3,name:"Fnatic"},{id:1,name:"G2 Esports"},{id:2,name:"Cloud9"},{id:7,name:"T1"},{id:602,name:"Natus Vincere"},{id:8,name:"Team SoloMid (TSM)"},{id:15,name:"FaZe Clan"},{id:5,name:"Evil Geniuses"},{id:12,name:"100 Thieves"},{id:6,name:"Team Secret"},{id:4,name:"Virtus.pro"},{id:9,name:"OG"},{id:16,name:"Sentinels"},{id:11,name:"NRG Esports"},{id:39,name:"Gen.G"},{id:18,name:"Ninjas in Pyjamas"},{id:30,name:"Paper Rex"},{id:25,name:"LOUD"},{id:13,name:"Astralis"}];function Px(){const[n,e]=K.useState([]),[t,i]=K.useState([]),[o,l]=K.useState([]),[c,f]=K.useState(!0),[p,y]=K.useState(null),[v,w]=K.useState(null),[A,U]=K.useState(!1),[O,F]=K.useState("");K.useEffect(()=>{const J=Gt.onAuthStateChanged(async Y=>{if(Y){w(Y);try{const W=await kp(Fo(Uo,"users",Y.uid));if(W.exists()){const se=W.data().preferences||{};e(se.games||[]),i(se.leagues||[]),l(se.teams||[])}}catch(W){y(W.message)}finally{f(!1)}}else w(null),f(!1)});return()=>J()},[]);const N=async()=>{if(!v){F("You must be logged in to save preferences.");return}U(!0),F("");try{const J=Fo(Uo,"users",v.uid);await Np(J,{preferences:{games:n,leagues:t,teams:o}},{merge:!0}),F("Preferences saved!")}catch{F("Failed to save preferences.")}finally{U(!1)}},re=(J,Y)=>{const W=Array.from(J.target.selectedOptions,se=>Number(se.value));Y(W)};return c?I.jsx("div",{children:"Loading profile..."}):p?I.jsxs("div",{children:["Error: ",p]}):v?I.jsx("div",{className:"profile-container",children:I.jsxs("form",{className:"preferences-form",onSubmit:J=>J.preventDefault(),children:[I.jsx("h2",{children:"Set Your Preferences"}),I.jsx("p",{children:"Select the games, leagues, and teams you want to follow. Your feed will be personalized based on your selections. Hold Ctrl/Cmd to select multiple options."}),I.jsxs("div",{className:"select-group",children:[I.jsx("label",{htmlFor:"games-select",children:"Favorite Games"}),I.jsx("select",{multiple:!0,id:"games-select",value:n,onChange:J=>re(J,e),className:"multi-select",children:Rx.map(J=>I.jsx("option",{value:J.id,children:J.name},J.id))})]}),I.jsxs("div",{className:"select-group",children:[I.jsx("label",{htmlFor:"leagues-select",children:"Favorite Leagues"}),I.jsx("select",{multiple:!0,id:"leagues-select",value:t,onChange:J=>re(J,i),className:"multi-select",children:Ax.map(J=>I.jsx("option",{value:J.id,children:J.name},J.id))})]}),I.jsxs("div",{className:"select-group",children:[I.jsx("label",{htmlFor:"teams-select",children:"Favorite Orgs"}),I.jsx("select",{multiple:!0,id:"teams-select",value:o,onChange:J=>re(J,l),className:"multi-select",children:Cx.map(J=>I.jsx("option",{value:J.id,children:J.name},J.id))})]}),O&&I.jsx("p",{className:"message",children:O}),I.jsx("button",{type:"button",onClick:N,disabled:A,children:A?"Saving...":"Save Preferences"})]})}):I.jsx("div",{children:"Please log in to view your profile."})}function kx(){var re,J;const[n,e]=K.useState([]),[t,i]=K.useState(!0),[o,l]=K.useState(null),[c,f]=K.useState(null),[p,y]=K.useState(null),[v,w]=K.useState(!1),[A,U]=K.useState(""),[O,F]=K.useState(!1);K.useEffect(()=>{const Y=Gt.onAuthStateChanged(async W=>{var se,de,k;if(W){f(W),W.emailVerified?F(!1):F(!0),U(W.displayName?`Welcome back, ${W.displayName}!`:"Welcome back!");try{const S=await kp(Fo(Uo,"users",W.uid)),P=S.exists()?S.data().preferences:null;y(P);let x=(await Bc()).data,b=[];if(x.sort((R,Te)=>new Date(R.begin_at)-new Date(Te.begin_at)),P&&((se=P.games)==null?void 0:se.length)>0){const R=P.games.map(String),Te=((de=P.leagues)==null?void 0:de.map(String))||[],ze=((k=P.teams)==null?void 0:k.map(String))||[],Ne=x.filter(ne=>R.includes(String(ne.videogame.id)));let De=[];(Te.length>0||ze.length>0)&&(De=Ne.filter(ne=>{const fe=Te.includes(String(ne.league.id)),ae=ne.opponents.some(M=>{var G;return ze.includes(String((G=M.opponent)==null?void 0:G.id))});return fe||ae})),De.length>0?(b=De,w(!1)):(b=Ne,w(!0))}else b=x,w(!0);e(b)}catch(S){l(S.message)}finally{i(!1)}}else f(null),F(!1),U("Welcome to E-Network!"),Bc().then(S=>{e(S.data.sort((P,V)=>new Date(P.begin_at)-new Date(V.begin_at)))}).catch(S=>{l(S.message)}).finally(()=>{i(!1)})});return()=>Y()},[]);const N=async()=>{if(Gt.currentUser)try{await $v(Gt.currentUser),alert("Verification email sent!")}catch(Y){alert("Error sending verification email: "+Y.message)}};return t?I.jsx("div",{className:"loading-container",children:"Loading your feed..."}):o?I.jsxs("div",{className:"error-container",children:["Error: ",o]}):c&&(!p||!((re=p.games)!=null&&re.length))?I.jsxs("div",{className:"home-container empty-feed",children:[O&&I.jsxs("div",{className:"verification-message",children:[I.jsxs("p",{children:["Please verify your email address. A verification email has been sent to ",c.email,"."]}),I.jsx("button",{onClick:N,children:"Resend Verification Email"})]}),I.jsx("h2",{children:"Welcome to E-Network!"}),I.jsx("p",{children:"You haven't selected any favorite games yet. Visit your profile to personalize your feed."}),I.jsx(In,{to:"/profile",className:"button-link",children:"Go to Profile"})]}):I.jsxs("div",{className:"home-container",children:[O&&I.jsxs("div",{className:"verification-message",children:[I.jsxs("p",{children:["Please verify your email address. A verification email has been sent to ",c.email,"."]}),I.jsx("button",{onClick:N,children:"Resend Verification Email"})]}),I.jsx("h1",{className:"page-title",children:A}),I.jsx("h2",{className:"sub-title",children:"Your Upcoming Matches Feed"}),v&&c&&p&&((J=p.games)==null?void 0:J.length)>0&&I.jsx("p",{className:"fallback-message",children:"No specific matches found for your leagues/teams. Showing all upcoming matches for your favorite games instead."}),I.jsx("div",{className:"matches-grid",children:n.length>0?n.map(Y=>{var W,se,de,k,S,P;return I.jsxs(In,{to:`/match/${Y.id}`,className:"match-card",children:[I.jsxs("div",{className:"match-info",children:[I.jsx("span",{children:Y.league.name}),I.jsx("span",{children:new Date(Y.begin_at).toLocaleString()})]}),I.jsxs("div",{className:"teams-container",children:[I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((W=Y.opponents[0])==null?void 0:W.opponent.image_url)||"default-team-logo.png",alt:((se=Y.opponents[0])==null?void 0:se.opponent.name)||"TBD"}),I.jsx("span",{children:((de=Y.opponents[0])==null?void 0:de.opponent.name)||"TBD"})]}),I.jsx("span",{className:"vs-text",children:"vs"}),I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((k=Y.opponents[1])==null?void 0:k.opponent.image_url)||"default-team-logo.png",alt:((S=Y.opponents[1])==null?void 0:S.opponent.name)||"TBD"}),I.jsx("span",{children:((P=Y.opponents[1])==null?void 0:P.opponent.name)||"TBD"})]})]})]},Y.id)}):I.jsx("p",{className:"no-matches-message",children:"No upcoming matches found based on your preferences."})})]})}function Nx(){const[n,e]=K.useState([]),[t,i]=K.useState(!0),[o,l]=K.useState(null),[c,f]=K.useState(null);return K.useEffect(()=>{const p=Gt.onAuthStateChanged(y=>{f(y)});return()=>p()},[]),K.useEffect(()=>{(async()=>{try{const y=await Sx("esports");e(y.data.articles)}catch(y){console.error("Error fetching articles:",y),l("An error occurred while fetching articles.")}finally{i(!1)}})()},[]),t?I.jsx("div",{className:"loading-container",children:"Loading articles..."}):o?I.jsx("div",{className:"error-container",children:o}):!n||n.length===0?I.jsx("div",{className:"error-container",children:"No articles found."}):I.jsxs("div",{className:"articles-container",children:[!c&&I.jsx("p",{className:"fallback-message",children:"Log in to see your personalized feed. Showing top esports headlines."}),I.jsx("h2",{children:"Top Esports Headlines"}),I.jsx("ul",{className:"article-list",children:n.slice(0,10).map((p,y)=>I.jsx("li",{className:"article-item",children:I.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",children:[I.jsx("img",{src:p.urlToImage||"https://styles.redditmedia.com/t5_2w5n3/styles/communityIcon_1b3t2ed1c2g21.png",alt:p.title,className:"article-image"}),I.jsxs("div",{className:"article-content",children:[I.jsx("h3",{children:p.title}),I.jsxs("div",{className:"article-meta",children:[I.jsx("span",{children:p.source.name}),I.jsx("span",{children:new Date(p.publishedAt).toLocaleDateString()})]})]})]})},y))})]})}function xx(){const[n,e]=K.useState([]),[t,i]=K.useState(!0),[o,l]=K.useState(null),[c,f]=K.useState({}),[p,y]=K.useState({total:0,correct:0,incorrect:0}),[v,w]=K.useState("upcoming"),[A,U]=K.useState([]),[O,F]=K.useState(null),[N,re]=K.useState({});K.useEffect(()=>{const W=Gt.onAuthStateChanged(se=>{F(se),se||(f({}),U([]),y({total:0,correct:0,incorrect:0}))});return()=>W()},[]),K.useEffect(()=>{(async()=>{i(!0),l(null);try{const se=await Bc();if(e(se.data),O){const de=Fo(Uo,"predictions",O.uid),k=await kp(de);if(k.exists()){const S=k.data();f(S);const P=Object.keys(S);if(P.length>0){const x=(await wx(P)).data,b=[];let R=0;x.forEach(Ne=>{var De;Ne.status==="finished"&&(b.push(Ne),S[Ne.id]&&S[Ne.id].toString()===((De=Ne.winner_id)==null?void 0:De.toString())&&R++)}),U(b);const Te=b.length,ze=Te-R;y({total:Te,correct:R,incorrect:ze})}}}}catch(se){l(se.message),console.error("Error fetching data:",se)}finally{i(!1)}})()},[O]);const J=(W,se)=>{c[W]||re(de=>({...de,[W]:se}))},Y=async W=>{if(!Gt.currentUser){alert("Please login to make predictions.");return}const se=N[W];if(!se){alert("Please select a team first.");return}const de={...c,[W]:se==null?void 0:se.toString()};f(de);try{await Np(Fo(Uo,"predictions",Gt.currentUser.uid),{[W]:se==null?void 0:se.toString()},{merge:!0})}catch(k){console.error("Error saving prediction: ",k),alert("There was an error saving your prediction.");const S={...c};delete S[W],f(S)}};return t?I.jsx("div",{className:"loading-container",children:"Loading..."}):o?I.jsxs("div",{className:"error-container",children:["Error: ",o]}):I.jsxs("div",{className:"predictions-container",children:[I.jsx("h2",{children:"Upcoming Matches"}),Gt.currentUser&&I.jsxs("div",{className:"prediction-stats",children:[I.jsx("h3",{children:"Prediction Stats"}),I.jsxs("p",{children:["Total Predictions: ",p.total]}),I.jsxs("p",{children:["Correct: ",p.correct]}),I.jsxs("p",{children:["Incorrect: ",p.incorrect]}),I.jsxs("p",{children:["Accuracy: ",p.total>0?(p.correct/p.total*100).toFixed(2):0,"%"]})]}),I.jsxs("div",{className:"tabs",children:[I.jsx("button",{className:`tab-button ${v==="upcoming"?"active":""}`,onClick:()=>w("upcoming"),children:"Upcoming"}),I.jsx("button",{className:`tab-button ${v==="history"?"active":""}`,onClick:()=>w("history"),children:"History"})]}),v==="upcoming"&&I.jsx("div",{className:"matches-grid",children:n.map(W=>{var k,S,P,V,x,b,R,Te,ze,Ne,De,ne,fe;const se=c[W.id],de=N[W.id];return I.jsxs("div",{className:"match-card",children:[I.jsxs("div",{className:"match-info",children:[I.jsx("span",{children:W.league.name}),I.jsx("span",{children:new Date(W.begin_at).toLocaleString()})]}),I.jsxs("div",{className:"teams-container",children:[I.jsxs("div",{className:`team ${se&&c[W.id]===((S=(k=W.opponents[0])==null?void 0:k.opponent.id)==null?void 0:S.toString())||!se&&de===((P=W.opponents[0])==null?void 0:P.opponent.id)?"selected":""}`,children:[I.jsx("img",{src:((V=W.opponents[0])==null?void 0:V.opponent.image_url)||"default-team-logo.png",alt:(x=W.opponents[0])==null?void 0:x.opponent.name,onClick:()=>{var ae;return J(W.id,(ae=W.opponents[0])==null?void 0:ae.opponent.id)}}),I.jsx("span",{children:(b=W.opponents[0])==null?void 0:b.opponent.name})]}),I.jsx("span",{className:"vs-text",children:"vs"}),I.jsxs("div",{className:`team ${se&&c[W.id]===((Te=(R=W.opponents[1])==null?void 0:R.opponent.id)==null?void 0:Te.toString())||!se&&de===((ze=W.opponents[1])==null?void 0:ze.opponent.id)?"selected":""}`,children:[I.jsx("img",{src:((Ne=W.opponents[1])==null?void 0:Ne.opponent.image_url)||"default-team-logo.png",alt:(De=W.opponents[1])==null?void 0:De.opponent.name,onClick:()=>{var ae;return J(W.id,(ae=W.opponents[1])==null?void 0:ae.opponent.id)}}),I.jsx("span",{children:(ne=W.opponents[1])==null?void 0:ne.opponent.name})]})]}),se?I.jsxs("div",{className:"user-prediction",children:["Your Prediction: ",(fe=W.opponents.find(ae=>ae.opponent.id.toString()===c[W.id]))==null?void 0:fe.opponent.name]}):I.jsx("button",{className:"predict-button",disabled:!de,onClick:()=>Y(W.id),children:"Predict"})]},W.id)})}),v==="history"&&I.jsxs("div",{className:"prediction-history",children:[I.jsx("h3",{children:"Prediction History"}),A.length>0?I.jsx("div",{className:"matches-grid",children:A.map(W=>{var se,de,k,S,P,V,x,b,R,Te,ze;return I.jsxs("div",{className:"match-card",children:[I.jsxs("div",{className:"match-info",children:[I.jsx("span",{children:W.league.name}),I.jsx("span",{children:new Date(W.begin_at).toLocaleString()})]}),I.jsxs("div",{className:"teams-container",children:[I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((se=W.opponents[0])==null?void 0:se.opponent.image_url)||"default-team-logo.png",alt:(de=W.opponents[0])==null?void 0:de.opponent.name}),I.jsx("span",{children:(k=W.opponents[0])==null?void 0:k.opponent.name})]}),I.jsx("span",{className:"vs-text",children:"vs"}),I.jsxs("div",{className:"team",children:[I.jsx("img",{src:((S=W.opponents[1])==null?void 0:S.opponent.image_url)||"default-team-logo.png",alt:(P=W.opponents[1])==null?void 0:P.opponent.name}),I.jsx("span",{children:(V=W.opponents[1])==null?void 0:V.opponent.name})]})]}),I.jsxs("div",{className:"match-result",children:["Winner: ",((x=W.winner)==null?void 0:x.name)||"TBD"]}),I.jsx("div",{className:`prediction-outcome ${((b=c[W.id])==null?void 0:b.toString())===((R=W.winner_id)==null?void 0:R.toString())?"correct":"incorrect"}`,children:((Te=c[W.id])==null?void 0:Te.toString())===((ze=W.winner_id)==null?void 0:ze.toString())?"Correct":"Incorrect"})]},W.id)})}):I.jsx("p",{children:"No prediction history found."})]})]})}function Ox(){const n=async()=>{try{await uR(Gt),console.log("User logged out successfully!")}catch(e){console.error("Error logging out:",e.message)}};return I.jsxs("header",{className:"header",children:[I.jsx("div",{className:"logo",children:"E-Network"}),I.jsx("nav",{children:I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(In,{to:"/",children:"Home"})}),I.jsx("li",{children:I.jsx(In,{to:"/profile",children:"Profile"})}),I.jsx("li",{children:I.jsx(In,{to:"/articles",children:"Articles"})}),I.jsx("li",{children:I.jsx(In,{to:"/matches",children:"Matches"})}),I.jsx("li",{children:I.jsx(In,{to:"/prediction",children:"Prediction"})}),I.jsx("li",{children:I.jsx(In,{to:"/settings",children:"Settings"})}),I.jsx("li",{children:I.jsx("button",{onClick:n,className:"logout-button",children:"Logout"})})]})})]})}const Dx=()=>{var w,A,U;const{matchId:n}=q0(),[e,t]=K.useState(null),[i,o]=K.useState(!0);if(K.useEffect(()=>{(async()=>{try{const F=await Tx(n);t(F.data)}catch(F){console.error("Error fetching match details:",F)}finally{o(!1)}})()},[n]),i)return I.jsx("div",{className:"loading-container",children:"Loading..."});if(!e)return I.jsx("div",{className:"error-container",children:"Match not found."});const l=((w=e.league)==null?void 0:w.name)||"N/A",c=e.begin_at?new Date(e.begin_at).toLocaleString():"N/A",f=(A=e.opponents[0])==null?void 0:A.opponent,p=(U=e.opponents[1])==null?void 0:U.opponent,y=(f==null?void 0:f.players)||[],v=(p==null?void 0:p.players)||[];return I.jsxs("div",{className:"match-details-container",children:[I.jsx("h1",{className:"match-details-title",children:"Match Details"}),I.jsxs("div",{className:"match-header",children:[I.jsxs("div",{className:"match-header-info",children:[I.jsx("h2",{children:l}),I.jsx("p",{children:c})]}),I.jsxs("div",{className:"match-header-teams",children:[I.jsxs("div",{className:"team-info",children:[I.jsx("img",{src:(f==null?void 0:f.image_url)||"default-team-logo.png",alt:f==null?void 0:f.name}),I.jsx("h3",{children:(f==null?void 0:f.name)||"Team 1"})]}),I.jsx("span",{className:"vs",children:"vs"}),I.jsxs("div",{className:"team-info",children:[I.jsx("img",{src:(p==null?void 0:p.image_url)||"default-team-logo.png",alt:p==null?void 0:p.name}),I.jsx("h3",{children:(p==null?void 0:p.name)||"Team 2"})]})]})]}),I.jsxs("div",{className:"players-section",children:[I.jsx("h2",{children:"Players"}),I.jsxs("div",{className:"players-container",children:[I.jsxs("div",{className:"team-players",children:[I.jsxs("h4",{children:[(f==null?void 0:f.name)||"Team 1"," Players"]}),I.jsx("ul",{children:y.length>0?y.map(O=>I.jsxs("li",{children:[O.first_name," '",O.slug,"' ",O.last_name]},O.id)):I.jsx("li",{children:"No player data available."})})]}),I.jsxs("div",{className:"team-players",children:[I.jsxs("h4",{children:[(p==null?void 0:p.name)||"Team 2"," Players"]}),I.jsx("ul",{children:v.length>0?v.map(O=>I.jsxs("li",{children:[O.first_name," '",O.slug,"' ",O.last_name]},O.id)):I.jsx("li",{children:"No player data available."})})]})]})]})]})};function Vx(){const[n,e]=K.useState(null),[t,i]=K.useState(!0),o=$o();K.useEffect(()=>{const c=lR(Gt,f=>{e(f),i(!1)});return()=>{c()}},[]);const l=n&&!["/login","/register","/forgot-password"].includes(o.pathname);return t?I.jsx("div",{className:"loading-container",children:"Loading..."}):I.jsxs("div",{className:"App",children:[l&&I.jsx(Ox,{}),I.jsxs(aS,{children:[I.jsx(Fn,{path:"/login",element:n?I.jsx(ar,{to:"/"}):I.jsx(zk,{})}),I.jsx(Fn,{path:"/register",element:n?I.jsx(ar,{to:"/"}):I.jsx($k,{})}),I.jsx(Fn,{path:"/forgot-password",element:n?I.jsx(ar,{to:"/"}):I.jsx(Hk,{})}),I.jsx(Fn,{path:"/matches",element:n?I.jsx(Ix,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"/match/:matchId",element:n?I.jsx(Dx,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"/profile",element:n?I.jsx(Px,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"/articles",element:n?I.jsx(Nx,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"/prediction",element:n?I.jsx(xx,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"/",element:n?I.jsx(kx,{}):I.jsx(ar,{to:"/login"})}),I.jsx(Fn,{path:"*",element:I.jsx(ar,{to:n?"/":"/login"})})]})]})}m0.createRoot(document.getElementById("root")).render(I.jsx(G_.StrictMode,{children:I.jsx(pS,{children:I.jsx(Vx,{})})}));
